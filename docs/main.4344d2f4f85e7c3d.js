(self.webpackChunktaskboard=self.webpackChunktaskboard||[]).push([[179],{2011:(ne,re,R)=>{"use strict";R.d(re,{Dh:()=>ve,GT:()=>J,cc:()=>Me,on:()=>be,pX:()=>ie,xv:()=>pe});var c=R(4650),F=R(9260);ne=R.hmd(ne);const M=["ngOnDestroy"],ie=(oe,Ae,we,ke={})=>new Proxy(oe,{get:(Pe,Ce)=>we.runOutsideAngular(()=>{var Ee;if(oe[Ce])return!(null===(Ee=ke?.spy)||void 0===Ee)&&Ee.get&&ke.spy.get(Ce,oe[Ce]),oe[Ce];if(M.indexOf(Ce)>-1)return()=>{};const Be=Ae.toPromise().then(se=>{const ce=se&&se[Ce];return"function"==typeof ce?ce.bind(se):ce&&ce.then?ce.then(ge=>we.run(()=>ge)):we.run(()=>ce)});return new Proxy(()=>{},{get:(se,ce)=>Be[ce],apply:(se,ce,ge)=>Be.then(Z=>{var W;const de=Z&&Z(...ge);return!(null===(W=ke?.spy)||void 0===W)&&W.apply&&ke.spy.apply(Ce,ge,de),de})})})}),J=(oe,Ae)=>{Ae.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(ke=>{Object.defineProperty(oe.prototype,ke,Object.getOwnPropertyDescriptor(we.prototype||we,ke))})})};class Y{constructor(Ae){return Ae}}const ve=new c.OlP("angularfire2.app.options"),pe=new c.OlP("angularfire2.app.name");function be(oe,Ae,we){const Pe="object"==typeof we&&we||{};Pe.name=Pe.name||"string"==typeof we&&we||"[DEFAULT]";const Ee=F.Z.apps.filter(Be=>Be&&Be.name===Pe.name)[0]||Ae.runOutsideAngular(()=>F.Z.initializeApp(oe,Pe));try{JSON.stringify(oe)!==JSON.stringify(Ee.options)&&j("error",`${Ee.name} Firebase App already initialized with different options${ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Y(Ee)}const j=(oe,...Ae)=>{(0,c.X6Q)()&&typeof console<"u"&&console[oe](...Ae)};function Me(oe,Ae,we,ke,Pe){const[,Ce,Ee]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===oe)||[];if(Ce)return function Te(oe,Ae){try{return oe.toString()===Ae.toString()}catch{return oe===Ae}}(Pe,Ee)||(We("error",`${Ae} was already initialized on the ${we} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:Pe,was:Ee})),Ce;{const Be=ke();return globalThis.\u0275AngularfireInstanceCache.push([oe,Be,Pe]),Be}}const $e=!!ne.hot,We=(oe,...Ae)=>{(0,c.X6Q)()&&typeof console<"u"&&console[oe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},552:(ne,re,R)=>{"use strict";R.d(re,{$:()=>yf,A:()=>B,B:()=>Te,G:()=>af,H:()=>gn,J:()=>ls,L:()=>H,M:()=>cf,N:()=>M0,P:()=>YD,Q:()=>k0,R:()=>Bf,T:()=>R0,U:()=>za,V:()=>df,W:()=>qo,X:()=>pf,Y:()=>Ii,Z:()=>Xl,_:()=>Za,a:()=>Vs,a0:()=>Hg,a1:()=>vf,a2:()=>Mt,a3:()=>jg,a4:()=>$g,a5:()=>wf,a6:()=>P0,a7:()=>xe,a8:()=>zg,a9:()=>Gg,aA:()=>U,aB:()=>fd,aC:()=>vo,aD:()=>yo,aE:()=>ni,aI:()=>Jo,aL:()=>ao,aa:()=>ds,ab:()=>ec,ac:()=>N0,af:()=>Wg,ag:()=>Wr,ah:()=>L0,ak:()=>Ug,al:()=>Df,an:()=>j0,ao:()=>Ls,ap:()=>ge,aq:()=>ct,ar:()=>et,as:()=>ke,at:()=>cl,au:()=>md,av:()=>cn,aw:()=>Pe,ax:()=>se,ay:()=>hc,az:()=>W,b:()=>Af,c:()=>od,d:()=>$f,e:()=>ad,f:()=>cc,g:()=>js,h:()=>ud,i:()=>Ff,j:()=>dd,k:()=>bc,l:()=>q0,m:()=>__,n:()=>ep,o:()=>pe,r:()=>s_,s:()=>Hs,u:()=>Z0});var c=R(5861),F=R(2090),M=R(9681),ie=R(1877),J=R(655),Y=R(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Te=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ie.Yd("@firebase/auth");function we(b,...m){Ae.logLevel<=ie.in.ERROR&&Ae.error(`Auth (${M.SDK_VERSION}): ${b}`,...m)}function ke(b,...m){throw Be(b,...m)}function Pe(b,...m){return Be(b,...m)}function Ce(b,m,_){const E=Object.assign(Object.assign({},$e()),{[m]:_});return new F.LL("auth","Firebase",E).create(m,{appName:b.name})}function Ee(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&ke(b,"argument-error"),Ce(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(b,...m){if("string"!=typeof b){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return We.create(b,...m)}function se(b,m,..._){if(!b)throw Be(m,..._)}function ce(b){const m="INTERNAL ASSERTION FAILED: "+b;throw we(m),new Error(m)}function ge(b,m){b||ce(m)}const Z=new Map;function W(b){ge(b instanceof Function,"Expected a class definition");let m=Z.get(b);return m?(ge(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Z.set(b,m),m)}function Oe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Re(){return"http:"===at()||"https:"===at()}function at(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class yt{constructor(m,_){this.shortDelay=m,this.longDelay=_,ge(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Re()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(b,m){ge(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class _t{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ci=new yt(3e4,6e4);function Ht(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function ht(b,m,_,E){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(b,m,_,E,S={}){return zi(b,S,(0,c.Z)(function*(){let k={},te={};E&&("GET"===m?te=E:k={body:JSON.stringify(E)});const ye=(0,F.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),ze=yield b._getAdditionalHeaders();return ze["Content-Type"]="application/json",b.languageCode&&(ze["X-Firebase-Locale"]=b.languageCode),_t.fetch()(Rs(b,b.config.apiHost,_,ye),Object.assign({method:m,headers:ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function zi(b,m,_){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},rn),m);try{const S=new Dr(b),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const te=yield k.json();if("needConfirmation"in te)throw Gi(b,"account-exists-with-different-credential",te);if(k.ok&&!("errorMessage"in te))return te;{const ye=k.ok?te.errorMessage:te.error.message,[ze,nt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw Gi(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===ze)throw Gi(b,"email-already-in-use",te);if("USER_DISABLED"===ze)throw Gi(b,"user-disabled",te);const Lt=E[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Ce(b,Lt,nt);ke(b,Lt)}}catch(S){if(S instanceof F.ZR)throw S;ke(b,"network-request-failed")}})).apply(this,arguments)}function bn(b,m,_,E){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(b,m,_,E,S={}){const k=yield ht(b,m,_,E,S);return"mfaPendingCredential"in k&&ke(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Rs(b,m,_,E){const S=`${m}${_}?${E}`;return b.config.emulator?Nt(b.config,S):`${b.config.apiScheme}://${S}`}class Dr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Pe(this.auth,"network-request-failed")),ci.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gi(b,m,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const S=Pe(b,m,E);return S.customData._tokenResponse=_,S}function ss(){return(ss=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function hn(b,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Qe(b,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function hr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function fr(){return(fr=(0,c.Z)(function*(b,m=!1){const _=(0,F.m9)(b),E=yield _.getIdToken(m),S=lt(E);se(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,te=k?.sign_in_provider;return{claims:S,token:E,authTime:hr(Et(S.auth_time)),issuedAtTime:hr(Et(S.iat)),expirationTime:hr(Et(S.exp)),signInProvider:te||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(b){return 1e3*Number(b)}function lt(b){const[m,_,E]=b.split(".");if(void 0===m||void 0===_||void 0===E)return we("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,F.tV)(_);return S?JSON.parse(S):(we("Failed to decode base64 JWT payload"),null)}catch(S){return we("Caught error parsing JWT payload as JSON",S?.toString()),null}}function fn(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof F.ZR&&Cn(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Cn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class pr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class ti{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(b){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(b){var m;const _=b.auth,E=yield b.getIdToken(),S=yield fn(b,Qe(_,{idToken:E}));se(S?.users.length,_,"internal-error");const k=S.users[0];b._notifyReloadListener(k);const te=null!==(m=k.providerUserInfo)&&void 0!==m&&m.length?zn(k.providerUserInfo):[],ye=Wi(b.providerData,te),Lt=!!b.isAnonymous&&!(b.email&&k.passwordHash||ye?.length),ln={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ye,metadata:new ti(k.createdAt,k.lastLoginAt),isAnonymous:Lt};Object.assign(b,ln)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(b){const m=(0,F.m9)(b);yield Tr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wi(b,m){return[...b.filter(E=>!m.some(S=>S.providerId===E.providerId)),...m]}function zn(b){return b.map(m=>{var{providerId:_}=m,E=(0,J._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function _e(){return(_e=(0,c.Z)(function*(b,m){const _=yield zi(b,{},(0,c.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:k}=b.config,te=Rs(b,S,"/v1/token",`key=${k}`),ye=yield b._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()(te,{method:"POST",headers:ye,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){se(m.idToken,"internal-error"),se(typeof m.idToken<"u","internal-error"),se(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function wt(b){const m=lt(b);return se(m,"internal-error"),se(typeof m.exp<"u","internal-error"),se(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,c.Z)(function*(){return se(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:te}=yield function Le(b,m){return _e.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(S,k,Number(te))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:S,expirationTime:k}=_,te=new qe;return E&&(se("string"==typeof E,"internal-error",{appName:m}),te.refreshToken=E),S&&(se("string"==typeof S,"internal-error",{appName:m}),te.accessToken=S),k&&(se("number"==typeof k,"internal-error",{appName:m}),te.expirationTime=k),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return ce("not implemented")}}function ft(b,m){se("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class xt{constructor(m){var{uid:_,auth:E,stsTokenManager:S}=m,k=(0,J._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new ti(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const E=yield fn(_,_.stsTokenManager.getToken(_.auth,m));return se(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function ei(b){return fr.apply(this,arguments)}(this,m)}reload(){return function os(b){return Bt.apply(this,arguments)}(this)}_assign(m){this!==m&&(se(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new xt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,c.Z)(function*(){let S=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),S=!0),_&&(yield Tr(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield fn(m,function Sr(b,m){return ss.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,S,k,te,ye,ze,nt,Lt;const ln=null!==(E=_.displayName)&&void 0!==E?E:void 0,yr=null!==(S=_.email)&&void 0!==S?S:void 0,tr=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,ua=null!==(te=_.photoURL)&&void 0!==te?te:void 0,Gs=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,da=null!==(ze=_._redirectEventId)&&void 0!==ze?ze:void 0,dl=null!==(nt=_.createdAt)&&void 0!==nt?nt:void 0,b_=null!==(Lt=_.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:Ic,emailVerified:tp,isAnonymous:w_,providerData:wo,stsTokenManager:Cc}=_;se(Ic&&Cc,m,"internal-error");const Dc=qe.fromJSON(this.name,Cc);se("string"==typeof Ic,m,"internal-error"),ft(ln,m.name),ft(yr,m.name),se("boolean"==typeof tp,m,"internal-error"),se("boolean"==typeof w_,m,"internal-error"),ft(tr,m.name),ft(ua,m.name),ft(Gs,m.name),ft(da,m.name),ft(dl,m.name),ft(b_,m.name);const Eo=new xt({uid:Ic,auth:m,email:yr,emailVerified:tp,displayName:ln,isAnonymous:w_,photoURL:ua,phoneNumber:tr,tenantId:Gs,stsTokenManager:Dc,createdAt:dl,lastLoginAt:b_});return wo&&Array.isArray(wo)&&(Eo.providerData=wo.map(hl=>Object.assign({},hl))),da&&(Eo._redirectEventId=da),Eo}static _fromIdTokenResponse(m,_,E=!1){return(0,c.Z)(function*(){const S=new qe;S.updateFromServerResponse(_);const k=new xt({uid:_.localId,auth:m,stsTokenManager:S,isAnonymous:E});return yield Tr(k),k})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,E){var S=this;return(0,c.Z)(function*(){S.storage[_]=E})()}_get(_){var E=this;return(0,c.Z)(function*(){const S=E.storage[_];return void 0===S?null:S})()}_remove(_){var E=this;return(0,c.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function U(b,m,_){return`firebase:${b}:${m}:${_}`}class G{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:S,name:k}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,k),this.fullPersistenceKey=U("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?xt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,c.Z)(function*(){if(!_.length)return new G(W(H),m,E);const S=(yield Promise.all(_.map(function(){var nt=(0,c.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let k=S[0]||W(H);const te=U(E,m.config.apiKey,m.name);let ye=null;for(const nt of _)try{const Lt=yield nt._get(te);if(Lt){const ln=xt._fromJSON(m,Lt);nt!==k&&(ye=ln),k=nt;break}}catch{}const ze=S.filter(nt=>nt._shouldAllowMigration);return k._shouldAllowMigration&&ze.length?(k=ze[0],ye&&(yield k._set(te,ye.toJSON())),yield Promise.all(_.map(function(){var nt=(0,c.Z)(function*(Lt){if(Lt!==k)try{yield Lt._remove(te)}catch{}});return function(Lt){return nt.apply(this,arguments)}}())),new G(k,m,E)):new G(k,m,E)})()}}function L(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ie(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(A(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ue(m))return"Blackberry";if(St(m))return"Webos";if(N(m))return"Safari";if((m.includes("chrome/")||le(m))&&!m.includes("edge/"))return"Chrome";if(et(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function A(b=(0,F.z$)()){return/firefox\//i.test(b)}function N(b=(0,F.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function le(b=(0,F.z$)()){return/crios\//i.test(b)}function Ie(b=(0,F.z$)()){return/iemobile/i.test(b)}function et(b=(0,F.z$)()){return/android/i.test(b)}function Ue(b=(0,F.z$)()){return/blackberry/i.test(b)}function St(b=(0,F.z$)()){return/webos/i.test(b)}function ct(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function cn(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ui(b=(0,F.z$)()){return ct(b)||et(b)||St(b)||Ue(b)||/windows phone/i.test(b)||Ie(b)}function Ho(b,m=[]){let _;switch(b){case"Browser":_=L((0,F.z$)());break;case"Worker":_=`${L((0,F.z$)())}-${b}`;break;default:_=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${M.SDK_VERSION}/${E}`}class Bg{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=k=>new Promise((te,ye)=>{try{te(m(k))}catch(ze){ye(ze)}});E.onAbort=_,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===m)return;const E=[];try{for(const S of _.queue)yield S(m),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const k of E)try{k()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class sf{constructor(m,_,E){this.app=m,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jo(this),this.idTokenSubscription=new jo(this),this.beforeStateQueue=new Bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=W(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!E._deleted&&(E.persistenceManager=yield G.create(E,m),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var E;const S=yield _.assertedPersistence.getCurrentUser();let k=S,te=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ye=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,ze=k?._redirectEventId,nt=yield _.tryRedirectSignIn(m);(!ye||ye===ze)&&nt?.user&&(k=nt.user,te=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(k)}catch(ye){k=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ye))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Tr(m)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function an(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const E=m?(0,F.m9)(m):null;return E&&se(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return m&&se(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new F.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,c.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(_);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&W(m)||_._popupRedirectResolver;se(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[W(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var E,S;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return se(te,this,"internal-error"),te.then(()=>k(this.currentUser)),"function"==typeof _?m.addObserver(_,E,S):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function ni(b){return(0,F.m9)(b)}class jo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function af(b,m,_){const E=ni(b);se(E._canInitEmulator,E,"emulator-config-failed"),se(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const S=!!_?.disableWarnings,k=Lu(m),{host:te,port:ye}=function lf(b){const m=Lu(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const k=S[1];return{host:k,port:Ba(E.substr(k.length+1))}}{const[k,te]=E.split(":");return{host:k,port:Ba(te)}}}(m);E.config.emulator={url:`${k}//${te}${null===ye?"":`:${ye}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:ye,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Kt(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Lu(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Ba(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class gn{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ce("not implemented")}_getIdTokenResponse(m){return ce("not implemented")}_linkToIdToken(m,_){return ce("not implemented")}_getReauthenticationResolver(m){return ce("not implemented")}}function di(b,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:resetPassword",Ht(b,m))})).apply(this,arguments)}function ki(b,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ke(b,m){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",Ht(b,m))})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithPassword",Ht(b,m))})).apply(this,arguments)}function Zi(b,m){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendOobCode",Ht(b,m))})).apply(this,arguments)}function $o(b,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(b,m){return Zi(b,m)})).apply(this,arguments)}function Gl(b,m){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(b,m){return Zi(b,m)})).apply(this,arguments)}function kt(b,m){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(b,m){return Zi(b,m)})).apply(this,arguments)}function oo(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(b,m){return Zi(b,m)})).apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithEmailLink",Ht(b,m))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithEmailLink",Ht(b,m))})).apply(this,arguments)}class Ei extends gn{constructor(m,_,E,S=null){super("password",E),this._email=m,this._password=_,this._tenantId=S}static _fromEmailAndPassword(m,_){return new Ei(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new Ei(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function mn(b,m){return qi.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ha(b,m){return Pn.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:ke(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return ki(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ja(b,m){return Os.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:ke(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function gr(b,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithIdp",Ht(b,m))})).apply(this,arguments)}class ls extends gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ls(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:S}=_,k=(0,J._T)(_,["providerId","signInMethod"]);if(!E||!S)return null;const te=new ls(E,S);return te.idToken=k.idToken||void 0,te.accessToken=k.accessToken||void 0,te.secret=k.secret,te.nonce=k.nonce,te.pendingToken=k.pendingToken||null,te}_getIdTokenResponse(m){return gr(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,gr(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,gr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,F.xO)(_)}return m}}function Vu(b,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:sendVerificationCode",Ht(b,m))})).apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,m))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(b,m){const _=yield bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,m));if(_.temporaryProof)throw Gi(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const T0={USER_NOT_FOUND:"user-not-found"};function Yi(){return(Yi=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ht(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),T0)})).apply(this,arguments)}class cs extends gn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new cs({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new cs({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function ql(b,m){return zo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Go(b,m){return ii.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ki(b,m){return Yi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:S}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:k}=m;return E||_||S||k?new cs({verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:k}):null}}class xi{constructor(m){var _,E,S,k,te,ye;const ze=(0,F.zd)((0,F.pd)(m)),nt=null!==(_=ze.apiKey)&&void 0!==_?_:null,Lt=null!==(E=ze.oobCode)&&void 0!==E?E:null,ln=function $a(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=ze.mode)&&void 0!==S?S:null);se(nt&&Lt&&ln,"argument-error"),this.apiKey=nt,this.operation=ln,this.code=Lt,this.continueUrl=null!==(k=ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(te=ze.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(ye=ze.tenantId)&&void 0!==ye?ye:null}static parseLink(m){const _=function Zl(b){const m=(0,F.zd)((0,F.pd)(b)).link,_=m?(0,F.zd)((0,F.pd)(m)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||_||m||b}(m);try{return new xi(_)}catch{return null}}}let cf=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return Ei._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const S=xi.parseLink(E);return se(S,"argument-error"),Ei._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class us{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Wo extends us{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class za extends Wo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return se("providerId"in _&&"signInMethod"in _,"argument-error"),ls._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return se(m.idToken||m.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return za.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return za.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:k,nonce:te,providerId:ye}=m;if(!E&&!S&&!_&&!k||!ye)return null;try{return new za(ye)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:k})}catch{return null}}}let M0=(()=>{class b extends Wo{constructor(){super("facebook.com")}static credential(_){return ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),k0=(()=>{class b extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:S}=_;if(!E&&!S)return null;try{return b.credential(E,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),R0=(()=>{class b extends Wo{constructor(){super("github.com")}static credential(_){return ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ao extends gn{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return gr(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,gr(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,gr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:S,pendingToken:k}=_;return E&&S&&k&&E===S?new ao(E,k):null}static _create(m,_){return new ao(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class df extends us{constructor(m){se(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return df.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return df.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ao.fromJSON(m);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return ao._create(E,_)}catch{return null}}}let qo=(()=>{class b extends Wo{constructor(){super("twitter.com")}static credential(_,E){return ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=_;if(!E||!S)return null;try{return b.credential(E,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hf(b,m){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signUp",Ht(b,m))})).apply(this,arguments)}class Ar{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,S=!1){return(0,c.Z)(function*(){const k=yield xt._fromIdTokenResponse(m,E,S),te=Bu(E);return new Ar({user:k,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const S=Bu(E);return new Ar({user:m,providerId:S,_tokenResponse:E,operationType:_})})()}}function Bu(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function pf(b){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(b){var m;const _=ni(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Ar({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield hf(_,{returnSecureToken:!0}),S=yield Ar._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class mf extends F.ZR{constructor(m,_,E,S){var k;super(_.code,_.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,S){return new mf(m,_,E,S)}}function F0(b,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?mf._fromErrorAndOperation(b,k,m,E):k})}function lo(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ug(b,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b);yield ju(!0,_,m);const{providerUserInfo:E}=yield hn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),S=lo(E||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Wa(b,m){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,c.Z)(function*(b,m,_=!1){const E=yield fn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ar._forOperation(b,"link",E)})).apply(this,arguments)}function ju(b,m,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(b,m,_){yield Tr(m);const S=!1===b?"provider-already-linked":"no-such-provider";se(lo(m.providerData).has(_)===b,m.auth,S)})).apply(this,arguments)}function gf(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(b,m,_=!1){const{auth:E}=b,S="reauthenticate";try{const k=yield fn(b,F0(E,S,m,b),_);se(k.idToken,E,"internal-error");const te=lt(k.idToken);se(te,E,"internal-error");const{sub:ye}=te;return se(b.uid===ye,E,"user-mismatch"),Ar._forOperation(b,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&ke(E,"user-mismatch"),k}})).apply(this,arguments)}function $u(b,m){return zu.apply(this,arguments)}function zu(){return(zu=(0,c.Z)(function*(b,m,_=!1){const E="signIn",S=yield F0(b,E,m),k=yield Ar._fromIdTokenResponse(b,E,S);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ii(b,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(b,m){return $u(ni(b),m)})).apply(this,arguments)}function Xl(b,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b);return yield ju(!1,_,m.providerId),Wa(_,m)})).apply(this,arguments)}function Za(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(b,m){return gf((0,F.m9)(b),m)})).apply(this,arguments)}function Xi(b,m){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:signInWithCustomToken",Ht(b,m))})).apply(this,arguments)}function yf(b,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(b,m){const _=ni(b),E=yield Xi(_,{token:m,returnSecureToken:!0}),S=yield Ar._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class hi{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Gu._fromServerResponse(m,_):ke(m,"internal-error")}}class Gu extends hi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Gu(_)}}function Ko(b,m,_){var E;se((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),se(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Hg(b,m,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S={requestType:"PASSWORD_RESET",email:m};_&&Ko(E,S,_),yield Gl(E,S)})).apply(this,arguments)}function vf(b,m,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(b,m,_){yield di((0,F.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Mt(b,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(b,m){yield Ke((0,F.m9)(b),{oobCode:m})})).apply(this,arguments)}function jg(b,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b),E=yield di(_,{oobCode:m}),S=E.requestType;switch(se(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(E.mfaInfo,_,"internal-error");default:se(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=hi._fromServerResponse(ni(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function $g(b,m){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.Z)(function*(b,m){const{data:_}=yield jg((0,F.m9)(b),m);return _.email})).apply(this,arguments)}function wf(b,m,_){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(b,m,_){const E=ni(b),S=yield hf(E,{returnSecureToken:!0,email:m,password:_}),k=yield Ar._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function P0(b,m,_){return Ii((0,F.m9)(b),cf.credential(m,_))}function xe(b,m,_){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S={requestType:"EMAIL_SIGNIN",email:m};se(_.handleCodeInApp,E,"argument-error"),_&&Ko(E,S,_),yield kt(E,S)})).apply(this,arguments)}function zg(b,m){return"EMAIL_SIGNIN"===xi.parseLink(m)?.operation}function Gg(b,m,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S=cf.credentialWithLink(m,_||Oe());return se(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ii(E,S)})).apply(this,arguments)}function Ef(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:createAuthUri",Ht(b,m))})).apply(this,arguments)}function ds(b,m){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(b,m){const E={identifier:m,continueUri:Re()?Oe():"http://localhost"},{signinMethods:S}=yield Ef((0,F.m9)(b),E);return S||[]})).apply(this,arguments)}function ec(b,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(b,m){const _=(0,F.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Ko(_.auth,S,m);const{email:k}=yield $o(_.auth,S);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function N0(b,m,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Ko(E.auth,k,_);const{email:te}=yield oo(E.auth,k);te!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ln(b,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(b,m){return ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wg(b,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,F.m9)(b),k={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},te=yield fn(E,Ln(E.auth,k));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const ye=E.providerData.find(({providerId:ze})=>"password"===ze);ye&&(ye.displayName=E.displayName,ye.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)})).apply(this,arguments)}function Wr(b,m){return xf((0,F.m9)(b),m,null)}function L0(b,m){return xf((0,F.m9)(b),null,m)}function xf(b,m,_){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(b,m,_){const{auth:E}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(k.email=m),_&&(k.password=_);const te=yield fn(b,ki(E,k));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class co{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class Ku extends co{constructor(m,_,E,S){super(m,_,E),this.username=S}}class qg extends co{constructor(m,_){super(m,"facebook.com",_)}}class Cf extends Ku{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class V0 extends co{constructor(m,_){super(m,"google.com",_)}}class Zg extends Ku{constructor(m,_,E){super(m,"twitter.com",_,E)}}function Df(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function If(b){var m,_;if(!b)return null;const{providerId:E}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const te=null===(_=null===(m=lt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new co(k,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new qg(k,S);case"github.com":return new Cf(k,S);case"google.com":return new V0(k,S);case"twitter.com":return new Zg(k,S,b.screenName||null);case"custom":case"anonymous":return new co(k,null);default:return new co(k,E,S)}}(_)}class sn{constructor(m,_,E){this.type=m,this.credential=_,this.auth=E}static _fromIdtoken(m,_){return new sn("enroll",m,_)}static _fromMfaPendingCredential(m){return new sn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return sn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return sn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Yu{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=ni(m),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(ye=>hi._fromServerResponse(E,ye));se(S.mfaPendingCredential,E,"internal-error");const te=sn._fromMfaPendingCredential(S.mfaPendingCredential);return new Yu(te,k,function(){var ye=(0,c.Z)(function*(ze){const nt=yield ze._process(E,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Lt=Object.assign(Object.assign({},S),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(_.operationType){case"signIn":const ln=yield Ar._fromIdTokenResponse(E,_.operationType,Lt);return yield E._updateCurrentUser(ln.user),ln;case"reauthenticate":return se(_.user,E,"internal-error"),Ar._forOperation(_.user,_.operationType,Lt);default:ke(E,"internal-error")}});return function(ze){return ye.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function j0(b,m){var _;const E=(0,F.m9)(b),S=m;return se(m.customData.operationType,E,"argument-error"),se(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Yu._fromError(E,S)}function Jg(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:start",Ht(b,m))}class Xu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>hi._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new Xu(m)}getSession(){var m=this;return(0,c.Z)(function*(){return sn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var E=this;return(0,c.Z)(function*(){const S=m,k=yield E.getSession(),te=yield fn(E.user,S._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const E="string"==typeof m?m:m.uid,S=yield _.user.getIdToken(),k=yield fn(_.user,function z0(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(b,m))}(_.user.auth,{idToken:S,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(te){if("auth/user-token-expired"!==te?.code)throw te}})()}}const Ns=new WeakMap;function Ls(b){const m=(0,F.m9)(b);return Ns.has(m)||Ns.set(m,Xu._fromUser(m)),Ns.get(m)}const uo="__sak";class ho{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Af=(()=>{class b extends ho{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sf(){const b=(0,F.z$)();return N(b)||ct(b)}()&&function zl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),k=this.localCache[E];S!==k&&_(E,k,S)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((ye,ze,nt)=>{this.notifyListeners(ye,nt)});const S=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(S);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!E)return}const k=()=>{const ye=this.storage.getItem(S);!E&&this.localCache[S]===ye||this.notifyListeners(S,ye)},te=this.storage.getItem(S);!function Tt(){return(0,F.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield E().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,S=this;return(0,c.Z)(function*(){yield E().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),Vs=(()=>{class b extends ho{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let Mf=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,c.Z)(function*(){const S=_,{eventId:k,eventType:te,data:ye}=S.data,ze=E.handlersMap[te];if(!ze?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:te});const nt=Array.from(ze).map(function(){var ln=(0,c.Z)(function*(yr){return yr(S.origin,ye)});return function(yr){return ln.apply(this,arguments)}}()),Lt=yield function Qu(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(nt);S.ports[0].postMessage({status:"done",eventId:k,eventType:te,response:Lt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Jo(b="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return b+_}class nc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var S=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let te,ye;return new Promise((ze,nt)=>{const Lt=Jo("",20);k.port1.start();const ln=setTimeout(()=>{nt(new Error("unsupported_event"))},E);ye={messageChannel:k,onMessage(yr){const tr=yr;if(tr.data.eventId===Lt)switch(tr.data.status){case"ack":clearTimeout(ln),te=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ze(tr.data.response);break;default:clearTimeout(ln),clearTimeout(te),nt(new Error("invalid_response"))}}},S.handlers.add(ye),k.port1.addEventListener("message",ye.onMessage),S.target.postMessage({eventType:m,eventId:Lt,data:_},[k.port2])}).finally(()=>{ye&&S.removeMessageHandler(ye)})})()}}function Vn(){return window}function ea(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Bs(){return(Bs=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xa="firebaseLocalStorageDb",fs="firebaseLocalStorage",Qa="fbase_key";class fo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ta(b,m){return b.transaction([fs],m?"readwrite":"readonly").objectStore(fs)}function rc(){const b=indexedDB.open(Xa,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(fs,{keyPath:Qa})}catch(S){_(S)}}),b.addEventListener("success",(0,c.Z)(function*(){const E=b.result;E.objectStoreNames.contains(fs)?m(E):(E.close(),yield function ic(){const b=indexedDB.deleteDatabase(Xa);return new fo(b).toPromise()}(),m(yield rc()))}))})}function ed(b,m,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(b,m,_){const E=ta(b,!0).put({[Qa]:m,value:_});return new fo(E).toPromise()})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(b,m){const _=ta(b,!1).get(m),E=yield new fo(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function sc(b,m){const _=ta(b,!0).delete(m);return new fo(_).toPromise()}const Ff=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield rc()),_.db})()}_withRetries(_){var E=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(S++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return ea()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Mf._getInstance(function Rf(){return ea()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var E,S;if(_.activeServiceWorker=yield function Ju(){return Bs.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new nc(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function kf(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield rc();return yield ed(_,uo,"1"),yield sc(_,uo),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>ed(k,_,E)),S.localCache[_]=E,S.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,c.Z)(function*(){const S=yield E._withRetries(k=>function t_(b,m){return na.apply(this,arguments)}(k,_));return E.localCache[_]=S,S})()}_remove(_){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(S=>sc(S,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const E=yield _._withRetries(te=>{const ye=ta(te,!1).getAll();return new fo(ye).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:te,value:ye}of E)k.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(ye)&&(_.notifyListeners(te,ye),S.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!k.has(te)&&(_.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function oc(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:start",Ht(b,m))}function Ja(){return(Ja=(0,c.Z)(function*(b){return(yield ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function el(b){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=S=>{const k=Pe("internal-error");k.customData=S,_(k)},E.type="text/javascript",E.charset="UTF-8",function G0(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Us(b){return`__${b}${Math.floor(1e6*Math.random())}`}const tl=1e12;class po{constructor(m){this.auth=m,this.counter=tl,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new Pf(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||tl;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||tl))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var E;return null===(E=_._widgets.get(m||tl))||void 0===E||E.execute(),""})()}}class Pf{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;se(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rd(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ia=Us("rcb"),W0=new yt(3e4,6e4);class Lf{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Vn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return se(function ra(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Vn().grecaptcha):new Promise((E,S)=>{const k=Vn().setTimeout(()=>{S(Pe(m,"network-request-failed"))},W0.get());Vn()[ia]=()=>{Vn().clearTimeout(k),delete Vn()[ia];const ye=Vn().grecaptcha;if(!ye)return void S(Pe(m,"internal-error"));const ze=ye.render;ye.render=(nt,Lt)=>{const ln=ze(nt,Lt);return this.counter++,ln},this.hostLanguage=_,E(ye)},el(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ia,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(Pe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Vn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mo{load(m){return(0,c.Z)(function*(){return new po(m)})()}clearedOneInstance(){}}const go="recaptcha",Vf={theme:"light",type:"image"};class Bf{constructor(m,_=Object.assign({},Vf),E){this.parameters=_,this.type=go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ni(E),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mo:new Lf,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const te=ye=>{!ye||(m.tokenChangeListeners.delete(te),k(ye))};m.tokenChangeListeners.add(te),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=Vn()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){se(Re()&&!ea(),m.auth,"internal-error"),yield function nl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function i_(b){return Ja.apply(this,arguments)}(m.auth);se(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sd{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=cs._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Hs(b,m,_){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(b,m,_){const E=ni(b),S=yield Uf(E,m,(0,F.m9)(_));return new sd(S,k=>Ii(E,k))})).apply(this,arguments)}function q0(b,m,_){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);yield ju(!1,E,"phone");const S=yield Uf(E.auth,m,(0,F.m9)(_));return new sd(S,k=>Xl(E,k))})).apply(this,arguments)}function s_(b,m,_){return o_.apply(this,arguments)}function o_(){return(o_=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b),S=yield Uf(E.auth,m,(0,F.m9)(_));return new sd(S,k=>Za(E,k))})).apply(this,arguments)}function Uf(b,m,_){return a_.apply(this,arguments)}function a_(){return(a_=(0,c.Z)(function*(b,m,_){var E;const S=yield _.verify();try{let k;if(se("string"==typeof S,b,"argument-error"),se(_.type===go,b,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const te=k.session;if("phoneNumber"in k)return se("enroll"===te.type,b,"internal-error"),(yield Jg(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{se("signin"===te.type,b,"internal-error");const ye=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return se(ye,b,"missing-multi-factor-info"),(yield oc(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Vu(b,{phoneNumber:k.phoneNumber,recaptchaToken:S});return te}}finally{_._reset()}})).apply(this,arguments)}function Z0(b,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(b,m){yield Wa((0,F.m9)(b),m)})).apply(this,arguments)}let YD=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=ni(_)}verifyPhoneNumber(_,E){return Uf(this.auth,_,(0,F.m9)(E))}static credential(_,E){return cs._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:S}=_;return E&&S?cs._fromTokenResponse(E,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function il(b,m){return m?W(m):(se(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Dn extends gn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return gr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return gr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return gr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Hf(b){return $u(b.auth,new Dn(b),b.bypassAuthState)}function rl(b){const{auth:m,user:_}=b;return se(_,m,"internal-error"),gf(_,new Dn(b),b.bypassAuthState)}function K0(b){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return se(_,m,"internal-error"),Wa(_,new Dn(b),b.bypassAuthState)})).apply(this,arguments)}class _o{constructor(m,_,E,S,k=!1){this.auth=m,this.resolver=E,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(E,S){m.pendingPromise={resolve:E,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(E,S){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:k,tenantId:te,error:ye,type:ze}=m;if(ye)return void _.reject(ye);const nt={auth:_.auth,requestUri:E,sessionId:S,tenantId:te||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ze)(nt))}catch(Lt){_.reject(Lt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Hf;case"linkViaPopup":case"linkViaRedirect":return K0;case"reauthViaPopup":case"reauthViaRedirect":return rl;default:ke(this.auth,"internal-error")}}resolve(m){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const l_=new yt(2e3,1e4);function od(b,m,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(b,m,_){const E=ni(b);Ee(b,m,us);const S=il(E,_);return new Ut(E,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function ad(b,m,_){return jf.apply(this,arguments)}function jf(){return(jf=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Ee(E.auth,m,us);const S=il(E.auth,_);return new Ut(E.auth,"reauthViaPopup",m,S,E).executeNotNull()})).apply(this,arguments)}function $f(b,m,_){return c_.apply(this,arguments)}function c_(){return(c_=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Ee(E.auth,m,us);const S=il(E.auth,_);return new Ut(E.auth,"linkViaPopup",m,S,E).executeNotNull()})).apply(this,arguments)}let Ut=(()=>{class b extends _o{constructor(_,E,S,k,te){super(_,E,k,te),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const E=yield _.execute();return se(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,c.Z)(function*(){ge(1===_.filter.length,"Popup operations only handle one event");const E=Jo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,l_.get())};_()}}return b.currentPopupAction=null,b})();const qr=new Map;class Y0 extends _o{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let E=qr.get(_.auth._key());if(!E){try{const k=(yield function zf(b,m){return ld.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(k)}catch(S){E=()=>Promise.reject(S)}qr.set(_.auth._key(),E)}return _.bypassAuthState||qr.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const S=yield E.auth._redirectUserForId(m.eventId);if(S)return E.user=S,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ld(){return(ld=(0,c.Z)(function*(b,m){const _=Xe(m),E=_n(b);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(_));return yield E._remove(_),S})).apply(this,arguments)}function lc(b,m){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(b,m){return _n(b)._set(Xe(m),"true")})).apply(this,arguments)}function yo(){qr.clear()}function vo(b,m){qr.set(b._key(),m)}function _n(b){return W(b._redirectPersistence)}function Xe(b){return U("pendingRedirect",b.config.apiKey,b.name)}function cc(b,m,_){return function uc(b,m,_){return ps.apply(this,arguments)}(b,m,_)}function ps(){return(ps=(0,c.Z)(function*(b,m,_){const E=ni(b);Ee(b,m,us);const S=il(E,_);return yield lc(S,E),S._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function ud(b,m,_){return function aa(b,m,_){return dc.apply(this,arguments)}(b,m,_)}function dc(){return(dc=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Ee(E.auth,m,us);const S=il(E.auth,_);yield lc(S,E.auth);const k=yield _r(E);return S._openRedirect(E.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function js(b,m,_){return function fi(b,m,_){return la.apply(this,arguments)}(b,m,_)}function la(){return(la=(0,c.Z)(function*(b,m,_){const E=(0,F.m9)(b);Ee(E.auth,m,us);const S=il(E.auth,_);yield ju(!1,E,m.providerId),yield lc(S,E.auth);const k=yield _r(E);return S._openRedirect(E.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function dd(b,m){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(b,m){return yield ni(b)._initializationPromise,fd(b,m,!1)})).apply(this,arguments)}function fd(b,m){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(b,m,_=!1){const E=ni(b),S=il(E,m),te=yield new Y0(E,S,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,m)),te})).apply(this,arguments)}function _r(b){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(b){const m=Jo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class hc{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function u_(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!zs(m)){const S=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,S))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qn(m))}saveEventToCache(m){this.cachedEventUids.add(qn(m)),this.lastProcessedEventTime=Date.now()}}function qn(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function zs({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function md(b){return fc.apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(b,m={}){return ht(b,"GET","/v1/projects",m)})).apply(this,arguments)}const sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gd=/^https?/;function ol(){return(ol=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield md(b);for(const _ of m)try{if(d_(_))return}catch{}ke(b,"unauthorized-domain")})).apply(this,arguments)}function d_(b){const m=Oe(),{protocol:_,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!gd.test(_))return!1;if(sl.test(b))return E===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const _d=new yt(3e4,6e4);function Wf(){const b=Vn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let al=null;function mc(b){return al=al||function pc(b){return new Promise((m,_)=>{var E,S,k;function te(){Wf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Wf(),_(Pe(b,"network-request-failed"))},timeout:_d.get()})}if(null!==(S=null===(E=Vn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(k=Vn().gapi)||void 0===k||!k.load){const ye=Us("iframefcb");return Vn()[ye]=()=>{gapi.load?te():_(Pe(b,"network-request-failed"))},el(`https://apis.google.com/js/api.js?onload=${ye}`).catch(ze=>_(ze))}te()}}).catch(m=>{throw al=null,m})}(b),al}const h_=new yt(5e3,15e3),p_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qf(b){const m=b.config;se(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?Nt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:M.SDK_VERSION},S=m_.get(b.config.apiHost);S&&(E.eid=S);const k=b._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,F.xO)(E).slice(1)}`}function gc(){return gc=(0,c.Z)(function*(b){const m=yield mc(b),_=Vn().gapi;return se(_,b,"internal-error"),m.open({where:document.body,url:qf(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p_,dontclear:!0},E=>new Promise(function(){var S=(0,c.Z)(function*(k,te){yield E.restyle({setHideOnLeave:!1});const ye=Pe(b,"network-request-failed"),ze=Vn().setTimeout(()=>{te(ye)},h_.get());function nt(){Vn().clearTimeout(ze),k(E)}E.ping(nt).then(nt,()=>{te(ye)})});return function(k,te){return S.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const Zf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cl(b,m,_,E,S,k){se(b.config.authDomain,b,"auth-domain-config-required"),se(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:M.SDK_VERSION,eventId:S};if(m instanceof us){m.setDefaultLanguage(b.languageCode),te.providerId=m.providerId||"",(0,F.xb)(m.getCustomParameters())||(te.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ze,nt]of Object.entries(k||{}))te[ze]=nt}if(m instanceof Wo){const ze=m.getScopes().filter(nt=>""!==nt);ze.length>0&&(te.scopes=ze.join(","))}b.tenantId&&(te.tid=b.tenantId);const ye=te;for(const ze of Object.keys(ye))void 0===ye[ze]&&delete ye[ze];return`${function Yf({config:b}){return b.emulator?Nt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(ye).slice(1)}`}const Xf="webStorageSupport",bc=class ul{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=fd,this._overrideRedirectResult=vo}_openPopup(m,_,E,S){var k=this;return(0,c.Z)(function*(){var te;ge(null===(te=k.eventManagers[m._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const ye=cl(m,_,E,Oe(),S);return function Mr(b,m,_,E=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let ye="";const ze=Object.assign(Object.assign({},Zf),{width:E.toString(),height:S.toString(),top:k,left:te}),nt=(0,F.z$)().toLowerCase();_&&(ye=le(nt)?"_blank":_),A(nt)&&(m=m||"http://localhost",ze.scrollbars="yes");const Lt=Object.entries(ze).reduce((yr,[tr,ua])=>`${yr}${tr}=${ua},`,"");if(function Gn(b=(0,F.z$)()){var m;return ct(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(nt)&&"_self"!==ye)return function Kf(b,m){const _=document.createElement("a");_.href=b,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",ye),new vc(null);const ln=window.open(m||"",ye,Lt);se(ln,b,"popup-blocked");try{ln.focus()}catch{}return new vc(ln)}(m,ye,Jo())})()}_openRedirect(m,_,E,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(m),function Ya(b){Vn().location.href=b}(cl(m,_,E,Oe(),S)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):(ge(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const E=yield function g_(b){return gc.apply(this,arguments)}(m),S=new hc(m);return E.register("authEvent",k=>(se(k?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:S},_.iframes[m._key()]=E,S})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Xf,{type:Xf},S=>{var k;const te=null===(k=S?.[0])||void 0===k?void 0:k[Xf];void 0!==te&&_(!!te),ke(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Gf(b){return ol.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ui()||N()||ct()}};class wc{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return ce("unexpected MultiFactorSessionType")}}}class ca extends wc{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new ca(m)}_finalizeEnroll(m,_,E){return function $0(b,m){return ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(b,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function n_(b,m){return ht(b,"POST","/v2/accounts/mfaSignIn:finalize",Ht(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let __=(()=>{class b{constructor(){}static assertion(_){return ca._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var ri="@firebase/auth";class y_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{m(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const v_=(0,F.Pz)("authIdTokenMaxAge")||300;let Jf=null;const X0=b=>function(){var m=(0,c.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),S=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(S&&S>v_)return;const k=E?.token;Jf!==k&&(Jf=k,yield fetch(b,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return m.apply(this,arguments)}}();function ep(b=(0,M.getApp)()){const m=(0,M._getProvider)(b,"auth");if(m.isInitialized())return m.getImmediate();const _=function de(b,m){const _=(0,M._getProvider)(b,"auth");if(_.isInitialized()){const S=_.getImmediate(),k=_.getOptions();if((0,F.vZ)(k,m??{}))return S;ke(S,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:bc,persistence:[Ff,Af,Vs]}),E=(0,F.Pz)("authTokenSyncURL");if(E){const k=X0(E);(function Yg(b,m,_){(0,F.m9)(b).beforeAuthStateChanged(m,_)})(_,k,()=>k(_.currentUser)),function Kg(b,m,_,E){(0,F.m9)(b).onIdTokenChanged(m,_,E)}(_,te=>k(te))}const S=(0,F.q4)("auth");return S&&af(_,`http://${S}`),_}!function Di(b){(0,M._registerComponent)(new Y.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),{apiKey:k,authDomain:te}=E.options;return((ye,ze)=>{se(k&&!k.includes(":"),"invalid-api-key",{appName:ye.name}),se(!te?.includes(":"),"argument-error",{appName:ye.name});const nt={apiKey:k,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(b)},Lt=new sf(ye,ze,nt);return function ae(b,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(W);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,m?.popupRedirectResolver)}(Lt,_),Lt})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new Y.wA("auth-internal",m=>{const _=ni(m.getProvider("auth").getImmediate());return new y_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(ri,"0.21.0",function Qf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,M.registerVersion)(ri,"0.21.0","esm2017")}("Browser")},2090:(ne,re,R)=>{"use strict";R.d(re,{$s:()=>qe,BH:()=>an,G6:()=>Ee,L:()=>pe,LL:()=>rn,P0:()=>Re,Pz:()=>Zt,Sg:()=>yt,UG:()=>$e,US:()=>Y,ZB:()=>B,ZR:()=>_t,aH:()=>at,b$:()=>Ae,eu:()=>se,hl:()=>Be,jU:()=>We,m9:()=>Wt,ne:()=>fr,pd:()=>Jn,q4:()=>Oe,r3:()=>Dr,ru:()=>oe,tV:()=>be,uI:()=>Te,vZ:()=>hn,w1:()=>ke,xO:()=>wi,xb:()=>Sr,z$:()=>Me,zI:()=>ce,zd:()=>hr});const ie=function(H){const U=[];let G=0;for(let L=0;L<H.length;L++){let A=H.charCodeAt(L);A<128?U[G++]=A:A<2048?(U[G++]=A>>6|192,U[G++]=63&A|128):55296==(64512&A)&&L+1<H.length&&56320==(64512&H.charCodeAt(L+1))?(A=65536+((1023&A)<<10)+(1023&H.charCodeAt(++L)),U[G++]=A>>18|240,U[G++]=A>>12&63|128,U[G++]=A>>6&63|128,U[G++]=63&A|128):(U[G++]=A>>12|224,U[G++]=A>>6&63|128,U[G++]=63&A|128)}return U},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let A=0;A<H.length;A+=3){const N=H[A],le=A+1<H.length,Ie=le?H[A+1]:0,et=A+2<H.length,Ue=et?H[A+2]:0;let cn=(15&Ie)<<2|Ue>>6,Gn=63&Ue;et||(Gn=64,le||(cn=64)),L.push(G[N>>2],G[(3&N)<<4|Ie>>4],G[cn],G[Gn])}return L.join("")},encodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(ie(H),U)},decodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){const U=[];let G=0,L=0;for(;G<H.length;){const A=H[G++];if(A<128)U[L++]=String.fromCharCode(A);else if(A>191&&A<224){const N=H[G++];U[L++]=String.fromCharCode((31&A)<<6|63&N)}else if(A>239&&A<365){const et=((7&A)<<18|(63&H[G++])<<12|(63&H[G++])<<6|63&H[G++])-65536;U[L++]=String.fromCharCode(55296+(et>>10)),U[L++]=String.fromCharCode(56320+(1023&et))}else{const N=H[G++],le=H[G++];U[L++]=String.fromCharCode((15&A)<<12|(63&N)<<6|63&le)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray(H,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let A=0;A<H.length;){const N=G[H.charAt(A++)],Ie=A<H.length?G[H.charAt(A)]:0;++A;const Ue=A<H.length?G[H.charAt(A)]:64;++A;const ct=A<H.length?G[H.charAt(A)]:64;if(++A,null==N||null==Ie||null==Ue||null==ct)throw Error();L.push(N<<2|Ie>>4),64!==Ue&&(L.push(Ie<<4&240|Ue>>2),64!==ct&&L.push(Ue<<6&192|ct))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},pe=function(H){return function(H){const U=ie(H);return Y.encodeByteArray(U,!0)}(H).replace(/\./g,"")},be=function(H){try{return Y.decodeString(H,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function B(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(const G in U)!U.hasOwnProperty(G)||!q(G)||(H[G]=B(H[G],U[G]));return H}function q(H){return"__proto__"!==H}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function $e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function oe(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const H=Me();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ee(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((H,U)=>{try{let G=!0;const L="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(L);A.onsuccess=()=>{A.result.close(),G||self.indexedDB.deleteDatabase(L),H(!0)},A.onupgradeneeded=()=>{G=!1},A.onerror=()=>{var N;U((null===(N=A.error)||void 0===N?void 0:N.message)||"")}}catch(G){U(G)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=H&&be(H[1]);return U&&JSON.parse(U)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Oe=H=>{var U,G;return null===(G=null===(U=ae())||void 0===U?void 0:U.emulatorHosts)||void 0===G?void 0:G[H]},Re=H=>{const U=Oe(H);if(!U)return;const G=U.lastIndexOf(":");if(G<=0||G+1===U.length)throw new Error(`Invalid host ${U} with no separate hostname and port!`);const L=parseInt(U.substring(G+1),10);return"["===U[0]?[U.substring(1,G-1),L]:[U.substring(0,G),L]},at=()=>{var H;return null===(H=ae())||void 0===H?void 0:H.config},Zt=H=>{var U;return null===(U=ae())||void 0===U?void 0:U[`_${H}`]};class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,L)=>{G?this.reject(G):this.resolve(L),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,L))}}}function yt(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=U||"demo-project",A=H.iat||0,N=H.sub||H.user_id;if(!N)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const le=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:A,exp:A+3600,auth_time:A,sub:N,user_id:N,firebase:{sign_in_provider:"custom",identities:{}}},H);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(le)),""].join(".")}class _t extends Error{constructor(U,G,L){super(G),this.code=U,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(U,G,L){this.service=U,this.serviceName=G,this.errors=L}create(U,...G){const L=G[0]||{},A=`${this.service}/${U}`,N=this.errors[U],le=N?function ci(H,U){return H.replace(Ht,(G,L)=>{const A=U[L];return null!=A?String(A):`<${L}?>`})}(N,L):"Error";return new _t(A,`${this.serviceName}: ${le} (${A}).`,L)}}const Ht=/\{\$([^}]+)}/g;function Dr(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function Sr(H){for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U))return!1;return!0}function hn(H,U){if(H===U)return!0;const G=Object.keys(H),L=Object.keys(U);for(const A of G){if(!L.includes(A))return!1;const N=H[A],le=U[A];if(bi(N)&&bi(le)){if(!hn(N,le))return!1}else if(N!==le)return!1}for(const A of L)if(!G.includes(A))return!1;return!0}function bi(H){return null!==H&&"object"==typeof H}function wi(H){const U=[];for(const[G,L]of Object.entries(H))Array.isArray(L)?L.forEach(A=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent(A))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(L));return U.length?"&"+U.join("&"):""}function hr(H){const U={};return H.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[A,N]=L.split("=");U[decodeURIComponent(A)]=decodeURIComponent(N)}}),U}function Jn(H){const U=H.indexOf("?");if(!U)return"";const G=H.indexOf("#",U);return H.substring(U,G>0?G:void 0)}function fr(H,U){const G=new Et(H,U);return G.subscribe.bind(G)}class Et{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(L=>{this.error(L)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,L){let A;if(void 0===U&&void 0===G&&void 0===L)throw new Error("Missing Observer.");A=function wt(H,U){if("object"!=typeof H||null===H)return!1;for(const G of U)if(G in H&&"function"==typeof H[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:L},void 0===A.next&&(A.next=fn),void 0===A.error&&(A.error=fn),void 0===A.complete&&(A.complete=fn);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),N}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function qe(H,U=1e3,G=2){const L=U*Math.pow(G,H),A=Math.round(.5*L*(Math.random()-.5)*2);return Math.min(144e5,L+A)}function Wt(H){return H&&H._delegate?H._delegate:H}},7556:(ne,re,R)=>{"use strict";var c=R(4650);let F=null;function M(){return F}class J{}const Y=new c.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const be=new c.OlP("Location Initialized");let j=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){B()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){B()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new j((0,c.LFG)(Y))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ae)},providedIn:"root"}),n})();const oe=new c.OlP("appBaseHref");let Ae=(()=>{class n extends We{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+$e(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+$e(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends We{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Me(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+$e(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+$e(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ee(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$e(i))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Me,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(c.LFG(We))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new ke((0,c.LFG)(We))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}let mr=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class qi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new qi(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const f=i.get(o);i.move(f,u),Fn(f,r)}});for(let r=0,o=i.length;r<o;r++){const f=i.get(r).context;f.index=r,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Fn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Fn(n,e){n.context.$implicit=e.item}let Jt=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Gl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){so("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){so("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gl{constructor(){this.$implicit=null,this.ngIf=null}}function so(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class kt{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let as=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),oo=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new kt(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(as,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ua=(()=>{class n{constructor(t,i,r){r._addDefault(new kt(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(as,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ei=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const hf="browser";function Uu(n){return"server"===n}let Ug=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ga((0,c.LFG)(Y),window)}),n})();class Ga{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Wa(this.window.history)||Wa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xu extends J{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ns extends Xu{static makeCurrent(){!function ie(n){F||(F=n)}(new Ns)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function uo(){return Ls=Ls||document.querySelector("base"),Ls?Ls.getAttribute("href"):null}();return null==t?null:function Sf(n){ho=ho||document.createElement("a"),ho.setAttribute("href",n);const e=ho.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ki(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ho,Ls=null;const Tf=new c.OlP("TRANSITION_ID"),tc=[{provide:c.ip1,useFactory:function Qo(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=M(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Tf,Y,c.zs3],multi:!0}];let KD=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new c.OlP("EventManagerPlugins");let Qu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Mf{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=M().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Jo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),nc=(()=>{class n extends Jo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Vn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vn))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vn(n){M().remove(n)}const Ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ea=/%COMP%/g;function fs(n,e){return e.flat(100).map(t=>t.replace(ea,n))}function Qa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ta=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ic(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new t_(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new na(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=fs(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qu),c.LFG(nc),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ic{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ya[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ji(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ji(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ya[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ya[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qa(i)):this.eventManager.addEventListener(e,t,Qa(i))}}function Ji(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class t_ extends ic{constructor(e,t,i,r){super(e),this.component=i;const o=fs(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function Xa(n){return"_ngcontent-%COMP%".replace(ea,n)}(r+"-"+i.id),this.hostAttr=function e_(n){return"_nghost-%COMP%".replace(ea,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class na extends ic{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fs(r.id,r.styles);for(let u=0;u<o.length;u++){const f=document.createElement("style");f.textContent=o[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sc=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const td=["alt","control","meta","shift"],nd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Of={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ff=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),td.forEach(v=>{const x=i.indexOf(v);x>-1&&(i.splice(x,1),u+=v+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(t,i){let r=nd[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),td.forEach(u=>{u!==r&&(0,Of[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const tl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:hf},{provide:c.g9A,useValue:function el(){Ns.makeCurrent()},multi:!0},{provide:Y,useFactory:function r_(){return(0,c.RDi)(document),document},deps:[]}]),po=new c.OlP(""),Pf=[{provide:c.rWj,useClass:class Af{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const f=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?M().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],rd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Us(){return new c.qLn},deps:[]},{provide:Vs,useClass:sc,multi:!0,deps:[Y,c.R0b,c.Lbi]},{provide:Vs,useClass:Ff,multi:!0,deps:[Y]},{provide:ta,useClass:ta,deps:[Qu,nc,c.AFp]},{provide:c.FYo,useExisting:ta},{provide:Jo,useExisting:nc},{provide:nc,useClass:nc,deps:[Y]},{provide:Qu,useClass:Qu,deps:[Vs,c.R0b]},{provide:class Kl{},useClass:KD,deps:[]},[]];let ia=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Tf,useExisting:c.AFp},tc]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...rd,...Pf],imports:[qo,c.hGG]}),n})(),mo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ra(){return new mo((0,c.LFG)(Y))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ad=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG($f),i},providedIn:"root"}),n})(),$f=(()=>{class n extends ad{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${c.JZr})`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function jf(n){return new $f(n.get(Y))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Ut=R(8996),Sn=R(9751);const{isArray:qr}=Array,{getPrototypeOf:Y0,prototype:zf,keys:ld}=Object;function lc(n){if(1===n.length){const e=n[0];if(qr(e))return{args:e,keys:null};if(function cd(n){return n&&"object"==typeof n&&Y0(n)===zf}(e)){const t=ld(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var yo=R(8421),vo=R(3269),_n=R(5403),Xe=R(4004);const{isArray:cc}=Array;function ps(n){return(0,Xe.U)(e=>function uc(n,e){return cc(e)?n(...e):n(e)}(n,e))}function ud(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function aa(...n){const e=(0,vo.jO)(n),{args:t,keys:i}=lc(n),r=new Sn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const f=new Array(u);let g=u,v=u;for(let x=0;x<u;x++){let D=!1;(0,yo.Xf)(t[x]).subscribe((0,_n.x)(o,O=>{D||(D=!0,v--),f[x]=O},()=>g--,void 0,()=>{(!g||!D)&&(v||o.next(i?ud(i,f):f),o.complete())}))}});return e?r.pipe(ps(e)):r}let dc=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),js=(()=>{class n extends dc{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const fi=new c.OlP("NgValueAccessor"),hd={provide:fi,useExisting:(0,c.Gpc)(()=>_r),multi:!0},$s=new c.OlP("CompositionEventMode");let _r=(()=>{class n extends dc{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fd(){const n=M()?M().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36($s,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[c._Bn([hd]),c.qOj]}),n})();function bo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function hc(n){return null!=n&&"number"==typeof n.length}const qn=new c.OlP("NgValidators"),zs=new c.OlP("NgAsyncValidators"),u_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class md{static min(e){return function fc(n){return e=>{if(bo(e.value)||bo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function sl(n){return e=>{if(bo(e.value)||bo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return gd(e)}static requiredTrue(e){return function Gf(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return ol(e)}static minLength(e){return function d_(n){return e=>bo(e.value)||!hc(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function _d(n){return e=>hc(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Wf(n){if(!n)return pc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(bo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return m_(e)}static composeAsync(e){return g_(e)}}function gd(n){return bo(n.value)?{required:!0}:null}function ol(n){return bo(n.value)||u_.test(n.value)?null:{email:!0}}function pc(n){return null}function al(n){return null!=n}function mc(n){return(0,c.QGY)(n)?(0,Ut.D)(n):n}function h_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function f_(n,e){return e.map(t=>t(n))}function p_(n){return n.map(e=>function yd(n){return!n.validate}(e)?e:t=>e.validate(t))}function m_(n){if(!n)return null;const e=n.filter(al);return 0==e.length?null:function(t){return h_(f_(t,e))}}function qf(n){return null!=n?m_(p_(n)):null}function g_(n){if(!n)return null;const e=n.filter(al);return 0==e.length?null:function(t){return aa(f_(t,e).map(mc)).pipe((0,Xe.U)(h_))}}function gc(n){return null!=n?g_(p_(n)):null}function Zf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vd(n){return n._rawValidators}function _c(n){return n._rawAsyncValidators}function yc(n){return n?Array.isArray(n)?n:[n]:[]}function ll(n,e){return Array.isArray(n)?n.includes(e):n===e}function vc(n,e){const t=yc(e);return yc(n).forEach(r=>{ll(t,r)||t.push(r)}),t}function Mr(n,e){return yc(e).filter(t=>!ll(n,t))}class Kf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ci extends Kf{get formDirective(){return null}get path(){return null}}class Zr extends Kf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ul=(()=>{class n extends cl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zr,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),bc=(()=>{class n extends cl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ci,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const k="VALID",te="INVALID",ye="PENDING",ze="DISABLED";function nt(n){return(tr(n)?n.validators:n)||null}function ln(n,e){return(tr(e)?e.asyncValidators:n)||null}function tr(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class da{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===k}get invalid(){return this.status===te}get pending(){return this.status==ye}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mr(e,this._rawAsyncValidators))}hasValidator(e){return ll(this._rawValidators,e)}hasAsyncValidator(e){return ll(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ye,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ze,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k||this.status===ye)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:k}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const t=mc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?te:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(te)?te:k}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tr(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lt(n){return Array.isArray(n)?qf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yr(n){return Array.isArray(n)?gc(n):n||null}(this._rawAsyncValidators)}}class dl extends da{constructor(e,t,i){super(nt(t),ln(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Gs(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function ua(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const wo=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cc}),Cc="always";function Eo(n,e,t=Cc){bd(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function XD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E_(n,e)})}(n,e),function fl(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function J0(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Q0(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hl(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bd(n,e){const t=vd(n);null!==e.validator?n.setValidators(Zf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=_c(n);null!==e.asyncValidator?n.setAsyncValidators(Zf(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Sc(e._rawValidators,r),Sc(e._rawAsyncValidators,r)}function np(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=vd(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=_c(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Sc(e._rawValidators,i),Sc(e._rawAsyncValidators,i),t}function E_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function x_(n,e){bd(n,e)}function rp(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const nw={provide:Ci,useExisting:(0,c.Gpc)(()=>xo)},pl=(()=>Promise.resolve())();let xo=(()=>{class n extends Ci{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new dl({},qf(t),gc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pl.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Eo(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pl.then(()=>{const i=this._findContainer(t.path),r=new dl({});x_(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){pl.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rp(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qn,10),c.Y36(zs,10),c.Y36(wo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([nw]),c.qOj]}),n})();function ap(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ac(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const iw=class extends da{constructor(e=null,t,i){super(nt(t),ln(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tr(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ac(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ap(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ap(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ac(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},iS={provide:Zr,useExisting:(0,c.Gpc)(()=>wd)},sw=(()=>Promise.resolve())();let wd=(()=>{class n extends Zr{constructor(t,i,r,o,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new iw,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function sp(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===_r?t=o:function tw(n){return Object.getPrototypeOf(n.constructor)===js}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ip(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Eo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);sw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Dc(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ci,9),c.Y36(qn,10),c.Y36(zs,10),c.Y36(fi,10),c.Y36(c.sBO,8),c.Y36(wo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([iS]),c.qOj,c.TTD]}),n})(),S_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const T_={provide:fi,useExisting:(0,c.Gpc)(()=>A_),multi:!0};let A_=(()=>{class n extends js{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([T_]),c.qOj]}),n})(),lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const sS={provide:Ci,useExisting:(0,c.Gpc)(()=>Ed)};let Ed=(()=>{class n extends Ci{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Eo(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){hl(t.control||null,t,!1),function op(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,rp(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(hl(i||null,t),(n=>n instanceof iw)(r)&&(Eo(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);x_(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function ew(n,e){return np(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bd(this.form,this),this._oldForm&&np(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qn,10),c.Y36(zs,10),c.Y36(wo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([sS]),c.qOj,c.TTD]}),n})(),Mc=(()=>{class n{constructor(){this._validator=pc}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const tF={provide:qn,useExisting:(0,c.Gpc)(()=>Id),multi:!0};let Id=(()=>{class n extends Mc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>gd}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([tF]),c.qOj]}),n})();const pS={provide:qn,useExisting:(0,c.Gpc)(()=>L_),multi:!0};let L_=(()=>{class n extends Mc{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=t=>ol}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([pS]),c.qOj]}),n})(),yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lp]}),n})(),_S=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wo,useValue:t.callSetDisabledState??Cc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yw]}),n})();class V_{}class bw{}const ma="*";function pp(n,e){return{type:7,name:n,definitions:e,options:{}}}function kc(n,e=null){return{type:4,styles:e,timings:n}}function mp(n,e=null){return{type:2,steps:n,options:e}}function Do(n){return{type:6,styles:n,offset:null}}function Rc(n,e,t){return{type:0,name:n,styles:e,options:t}}function ga(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ww(n=null){return{type:9,options:n}}function xS(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Dd(n){Promise.resolve().then(n)}class Sd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Dd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class gp{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?Dd(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function B_(n){return new c.vHH(3e3,!1)}function $S(){return typeof window<"u"&&typeof window.document<"u"}function G_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kr(n){switch(n.length){case 0:return new Sd;case 1:return n[0];default:return new gp(n)}}function Ws(n,e,t,i,r=new Map,o=new Map){const u=[],f=[];let g=-1,v=null;if(i.forEach(x=>{const D=x.get("offset"),O=D==g,V=O&&v||new Map;x.forEach(($,ee)=>{let fe=ee,Ve=$;if("offset"!==ee)switch(fe=e.normalizePropertyName(fe,u),Ve){case"!":Ve=r.get(ee);break;case ma:Ve=o.get(ee);break;default:Ve=e.normalizeStyleValue(ee,fe,Ve,u)}V.set(fe,Ve)}),O||f.push(V),v=V,g=D}),u.length)throw function LS(n){return new c.vHH(3502,!1)}();return f}function W_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&q_(t,"start",n)));break;case"done":n.onDone(()=>i(t&&q_(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&q_(t,"destroy",n)))}}function q_(n,e,t){const o=Tw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function Tw(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Kr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Z_(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Aw=(n,e)=>!1,K_=(n,e,t)=>[],Y_=null;function X_(n){const e=n.parentNode||n.host;return e===Y_?null:e}(G_()||typeof Element<"u")&&($S()?(Y_=(()=>document.documentElement)(),Aw=(n,e)=>{for(;e;){if(e===n)return!0;e=X_(e)}return!1}):Aw=(n,e)=>n.contains(e),K_=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ml=null,Yr=!1;const Mw=Aw,kw=K_;let Q_=(()=>{class n{validateStyleProperty(t){return function WS(n){ml||(ml=function ZS(){return typeof document<"u"?document.body:null}()||{},Yr=!!ml.style&&"WebkitAppearance"in ml.style);let e=!0;return ml.style&&!function GS(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ml.style,!e&&Yr&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ml.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Mw(t,i)}getParentElement(t){return X_(t)}query(t,i,r){return kw(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,f=[],g){return new Sd(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),J_=(()=>{class n{}return n.NOOP=new Q_,n})();const _p="ng-enter",kd="ng-leave",Rd="ng-trigger",yp=".ng-trigger",Ow="ng-animating",vp=".ng-animating";function So(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:bp(parseFloat(e[1]),e[2])}function bp(n,e){return"s"===e?1e3*n:n}function wp(n,e,t){return n.hasOwnProperty("duration")?n:function YS(n,e,t){let r,o=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(B_()),{duration:0,delay:0,easing:""};r=bp(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(o=bp(parseFloat(g),f[4]));const v=f[5];v&&(u=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function U_(){return new c.vHH(3100,!1)}()),f=!0),o<0&&(e.push(function IS(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,B_())}return{duration:r,delay:o,easing:u}}(n,e,t)}function Ep(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ey(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ya(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function xp(n,e,t){return t?e+":"+t+";":""}function Ip(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=xp(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xp(0,Pw(t),n.style[t]));n.setAttribute("style",e)}function qs(n,e,t){n.style&&(e.forEach((i,r)=>{const o=iy(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),G_()&&Ip(n))}function Vc(n,e){n.style&&(e.forEach((t,i)=>{const r=iy(i);n.style[r]=""}),G_()&&Ip(n))}function Cp(n){return Array.isArray(n)?1==n.length?n[0]:mp(n):n}const ty=new RegExp("{{\\s*(.+?)\\s*}}","g");function ny(n){let e=[];if("string"==typeof n){let t;for(;t=ty.exec(n);)e.push(t[1]);ty.lastIndex=0}return e}function Dp(n,e,t){const i=n.toString(),r=i.replace(ty,(o,u)=>{let f=e[u];return null==f&&(t.push(function xw(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function Sp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Bc=/-+([a-z0-9])/g;function iy(n){return n.replace(Bc,(...e)=>e[1].toUpperCase())}function Pw(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Nc(n){return new c.vHH(3004,!1)}()}}function ry(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hF(n,e,t){if(":"==n[0]){const g=function sy(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function FS(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Ad(n){return new c.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(gl(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&e.push(gl(u,r))}(i,t,e)):t.push(n),t}const kp=new Set(["true","1"]),oy=new Set(["false","0"]);function gl(n,e){const t=kp.has(n)||oy.has(n),i=kp.has(e)||oy.has(e);return(r,o)=>{let u="*"==n||n==r,f="*"==e||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?kp.has(n):oy.has(n)),!f&&i&&"boolean"==typeof o&&(f=o?kp.has(e):oy.has(e)),u&&f}}const tT=new RegExp("s*:selfs*,?","g");function Rp(n,e,t,i){return new nT(n).build(e,t,i)}class nT{constructor(e){this._driver=e}build(e,t,i){const r=new ly(t);return this._resetContextStyleTimingState(r),vr(this,Cp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function SS(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(x=>{g.name=x,o.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function TS(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{ny(g).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(Sp(o.values()),t.errors.push(function H_(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=vr(this,Cp(e.animation),t);return{type:1,matchers:ry(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Zs(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>vr(this,i,t)),options:Zs(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const f=vr(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:o,options:Zs(e.options)}}visitAnimate(e,t){const i=function cy(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fp(wp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Fp(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=wp(t,e);return Fp(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Do({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};i.easing&&(v.easing=i.easing),u=Do(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ma?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(ey(f));let o=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!o))for(let g of f.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),x=v.get(g);let D=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(t.errors.push(function kS(n,e,t,i,r){return new c.vHH(3010,!1)}()),D=!1),o=x.startTime),D&&v.set(g,{startTime:o,endTime:r}),t.options&&function uF(n,e,t){const i=e.params||{},r=ny(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function CS(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Iw(){return new c.vHH(3011,!1)}()),i;let o=0;const u=[];let f=!1,g=!1,v=0;const x=e.steps.map(Ve=>{const Ze=this._makeStyleAst(Ve,t);let rt=null!=Ze.offset?Ze.offset:function Fd(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ze.styles),st=0;return null!=rt&&(o++,st=Ze.offset=rt),g=g||st<0||st>1,f=f||st<v,v=st,u.push(st),Ze});g&&t.errors.push(function aF(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function RS(){return new c.vHH(3200,!1)}());const D=e.steps.length;let O=0;o>0&&o<D?t.errors.push(function Td(){return new c.vHH(3202,!1)}()):0==o&&(O=1/(D-1));const V=D-1,$=t.currentTime,ee=t.currentAnimateTimings,fe=ee.duration;return x.forEach((Ve,Ze)=>{const rt=O>0?Ze==V?1:O*Ze:u[Ze],st=rt*fe;t.currentTime=$+ee.delay+st,ee.duration=st,this._validateStyleAst(Ve,t),Ve.offset=rt,i.styles.push(Ve)}),i}visitReference(e,t){return{type:8,animation:vr(this,Cp(e.animation),t),options:Zs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zs(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zs(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function Op(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tT,"")),n=n.replace(/@\*/g,yp).replace(/@\w+/g,t=>yp+"-"+t.slice(1)).replace(/:animating/g,vp),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Kr(t.collectedStyles,t.currentQuerySelector,new Map);const f=vr(this,Cp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Zs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function OS(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wp(e.timings,t.errors,!0);return{type:12,animation:vr(this,Cp(e.animation),t),timings:i,options:null}}}class ly{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zs(n){return n?(n=Ep(n)).params&&(n.params=function Uc(n){return n?Ep(n):null}(n.params)):n={},n}function Fp(n,e,t){return{duration:n,delay:e,easing:t}}function Pd(n,e,t,i,r,o,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:f}}class Hc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dy=new RegExp(":enter","g"),rT=new RegExp(":leave","g");function Pp(n,e,t,i,r,o=new Map,u=new Map,f,g,v=[]){return(new sT).buildKeyframes(n,e,t,i,r,o,u,f,g,v)}class sT{buildKeyframes(e,t,i,r,o,u,f,g,v,x=[]){v=v||new Hc;const D=new Np(e,t,v,r,o,x,[]);D.options=g;const O=g.delay?So(g.delay):0;D.currentTimeline.delayNextStep(O),D.currentTimeline.setStyles([u],null,D.errors,g),vr(this,i,D);const V=D.timelines.filter($=>$.containsAnimation());if(V.length&&f.size){let $;for(let ee=V.length-1;ee>=0;ee--){const fe=V[ee];if(fe.element===t){$=fe;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,D.errors,g)}return V.length?V.map($=>$.buildKeyframes()):[Pd(t,[],[],[],0,O,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:So(Dp(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?So(i.duration):null,f=null!=i.delay?So(i.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,f);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),vr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Nd);const u=So(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>vr(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?So(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);o&&f.delayNextStep(o),vr(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wp(t.params?Dp(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*o),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?So(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Nd);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,x)=>{t.currentQueryIndex=x;const D=t.createSubContext(e.options,v);o&&D.delayNextStep(o),v===t.element&&(g=D.currentTimeline),vr(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const x=t.currentTimeline;g&&x.delayNextStep(g);const D=x.currentTime;vr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const Nd={};class Np{constructor(e,t,i,r,o,u,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Lp(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=So(i.duration)),null!=i.delay&&(r.delay=So(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Dp(o[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Np(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Nd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new oT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(dy,"."+this._enterClassName)).replace(rT,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!o&&0==f.length&&u.push(function Lc(n){return new c.vHH(3014,!1)}()),f}}class Lp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Lp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function Uw(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ma)}else ya(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of u){const v=Dp(g,o,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ma),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=ya(f,new Map,this._backFill);v.forEach((x,D)=>{"!"===x?e.add(D):x===ma&&t.add(D)}),i||v.set("offset",g/this.duration),r.push(v)});const o=e.size?Sp(e.values()):[],u=t.size?Sp(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return Pd(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class oT extends Lp{constructor(e,t,i,r,o,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,f=t/u,g=ya(e[0]);g.set("offset",0),o.push(g);const v=ya(e[0]);v.set("offset",br(f)),o.push(v);const x=e.length-1;for(let D=1;D<=x;D++){let O=ya(e[D]);const V=O.get("offset");O.set("offset",br((t+V*i)/u)),o.push(O)}i=u,t=0,r="",e=o}return Pd(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function br(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hw{}const $w=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aT extends Hw{normalizePropertyName(e,t){return iy(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if($w.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function DS(n,e){return new c.vHH(3005,!1)}())}return u+o}}function zw(n,e,t,i,r,o,u,f,g,v,x,D,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:x,totalTime:D,errors:O}}const hy={};class fy{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function lT(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,f,g,v,x){const D=[],O=this.ast.options&&this.ast.options.params||hy,$=this.buildStyles(i,f&&f.params||hy,D),ee=g&&g.params||hy,fe=this.buildStyles(r,ee,D),Ve=new Set,Ze=new Map,rt=new Map,st="void"===r,vt={params:py(ee,O),delay:this.ast.options?.delay},It=x?[]:Pp(e,t,this.ast.animation,o,u,$,fe,vt,v,D);let Qt=0;if(It.forEach(jl=>{Qt=Math.max(jl.duration+jl.delay,Qt)}),D.length)return zw(t,this._triggerName,i,r,st,$,fe,[],[],Ze,rt,Qt,D);It.forEach(jl=>{const $l=jl.element,LH=Kr(Ze,$l,new Set);jl.preStyleProps.forEach(nf=>LH.add(nf));const S0=Kr(rt,$l,new Set);jl.postStyleProps.forEach(nf=>S0.add(nf)),$l!==t&&Ve.add($l)});const Hr=Sp(Ve.values());return zw(t,this._triggerName,i,r,st,$,fe,It,Hr,Ze,rt,Qt)}}function py(n,e){const t=Ep(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class cT{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ep(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,f)=>{u&&(u=Dp(u,r,t));const g=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,g,u,t),i.set(f,u)})}),i}}class dT{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new cT(r.style,r.options&&r.options.params||{},i))}),Gw(this.states,"true","1"),Gw(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new fy(e,r,this.states))}),this.fallbackTransition=function hT(n,e,t){return new fy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Gw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ks=new Hc;class my{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Rp(this._driver,t,i,[]);if(i.length)throw function Dw(n){return new c.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Ws(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const f=new Map;if(o?(u=Pp(this._driver,t,o,_p,kd,new Map,new Map,i,Ks,r),u.forEach(x=>{const D=Kr(f,x.element,new Map);x.postStyleProps.forEach(O=>D.set(O,null))})):(r.push(function Sw(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function j_(n){return new c.vHH(3504,!1)}();f.forEach((x,D)=>{x.forEach((O,V)=>{x.set(V,this._driver.computeStyle(D,V,ma))})});const v=kr(u.map(x=>{const D=f.get(x.element);return this._buildPlayer(x,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function $_(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=Tw(t,"","","");return W_(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ww="ng-animate-queued",Vp="ng-animate-disabled",gy=[],qw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_T={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nr="__ng_removed";class Ld{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Yw(n){return n??null}(i?e.value:e),i){const o=Ep(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const va="void",Zw=new Ld(va);class _y{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oi(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function VS(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function z_(n){return new c.vHH(3303,!1)}();if(!function yy(n){return"start"==n||"done"==n}(i))throw function Md(n,e){return new c.vHH(3400,!1)}();const o=Kr(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const f=Kr(this._engine.statesByElement,e,new Map);return f.has(t)||(Oi(e,Rd),Oi(e,Rd+"-"+t),f.set(t,Zw)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function BS(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new Bp(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oi(e,Rd),Oi(e,Rd+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new Ld(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=Zw),v.value!==va&&g.value===v.value){if(!function yT(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(g.params,v.params)){const ee=[],fe=o.matchStyles(g.value,g.params,ee),Ve=o.matchStyles(v.value,v.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Vc(e,fe),qs(e,Ve)})}return}const O=Kr(this._engine.playersByElement,e,[]);O.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let V=o.matchTransition(g.value,v.value,e,v.params),$=!1;if(!V){if(!r)return;V=o.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:g,toState:v,player:u,isFallbackTransition:$}),$||(Oi(e,Ww),u.onStart(()=>{jc(e,Ww)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const fe=this._engine.playersByElement.get(e);if(fe){let Ve=fe.indexOf(u);Ve>=0&&fe.splice(Ve,1)}}),this.players.push(u),O.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,yp,!0);i.forEach(r=>{if(r[nr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const f=[];if(o.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const x=this.trigger(e,v,va,r);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&kr(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||Zw,x=new Ld(va),D=new Bp(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:x,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[nr];(!o||o===qw)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Oi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=Tw(o,i.triggerName,i.fromState.value,i.toState.value);g._data=e,W_(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class mF{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new _y(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Vd(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Vd(t))return;const o=t[nr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oi(e,Vp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jc(e,Vp))}removeNode(e,t,i,r){if(Vd(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[nr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Vd(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,vp,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[nr];if(t&&t.setForRemoval){if(e[nr]=qw,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Vp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?kr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function US(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Hc,r=[],o=new Map,u=[],f=new Map,g=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(ot=>{x.add(ot);const bt=this.driver.query(ot,".ng-animate-queued",!0);for(let Dt=0;Dt<bt.length;Dt++)x.add(bt[Dt])});const D=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=Ud(O,this.collectedEnterElements),$=new Map;let ee=0;V.forEach((ot,bt)=>{const Dt=_p+ee++;$.set(bt,Dt),ot.forEach(nn=>Oi(nn,Dt))});const fe=[],Ve=new Set,Ze=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const bt=this.collectedLeaveElements[ot],Dt=bt[nr];Dt&&Dt.setForRemoval&&(fe.push(bt),Ve.add(bt),Dt.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(nn=>Ve.add(nn)):Ze.add(bt))}const rt=new Map,st=Ud(O,Array.from(Ve));st.forEach((ot,bt)=>{const Dt=kd+ee++;rt.set(bt,Dt),ot.forEach(nn=>Oi(nn,Dt))}),e.push(()=>{V.forEach((ot,bt)=>{const Dt=$.get(bt);ot.forEach(nn=>jc(nn,Dt))}),st.forEach((ot,bt)=>{const Dt=rt.get(bt);ot.forEach(nn=>jc(nn,Dt))}),fe.forEach(ot=>{this.processLeaveNode(ot)})});const vt=[],It=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Dt=>{const nn=Dt.player,$i=Dt.element;if(vt.push(nn),this.collectedEnterElements.length){const Cr=$i[nr];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has(Dt.triggerName)){const rf=Cr.previousTriggersValues.get(Dt.triggerName),io=this.statesByElement.get(Dt.element);if(io&&io.has(Dt.triggerName)){const ZD=io.get(Dt.triggerName);ZD.value=rf,io.set(Dt.triggerName,ZD)}}return void nn.destroy()}}const Va=!D||!this.driver.containsElement(D,$i),ks=rt.get($i),Nu=$.get($i),jn=this._buildInstruction(Dt,i,Nu,ks,Va);if(jn.errors&&jn.errors.length)return void It.push(jn);if(Va)return nn.onStart(()=>Vc($i,jn.fromStyles)),nn.onDestroy(()=>qs($i,jn.toStyles)),void r.push(nn);if(Dt.isFallbackTransition)return nn.onStart(()=>Vc($i,jn.fromStyles)),nn.onDestroy(()=>qs($i,jn.toStyles)),void r.push(nn);const UH=[];jn.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||UH.push(Cr)}),jn.timelines=UH,i.append($i,jn.timelines),u.push({instruction:jn,player:nn,element:$i}),jn.queriedElements.forEach(Cr=>Kr(f,Cr,[]).push(nn)),jn.preStyleProps.forEach((Cr,rf)=>{if(Cr.size){let io=g.get(rf);io||g.set(rf,io=new Set),Cr.forEach((ZD,KO)=>io.add(KO))}}),jn.postStyleProps.forEach((Cr,rf)=>{let io=v.get(rf);io||v.set(rf,io=new Set),Cr.forEach((ZD,KO)=>io.add(KO))})});if(It.length){const ot=[];It.forEach(bt=>{ot.push(function HS(n,e){return new c.vHH(3505,!1)}())}),vt.forEach(bt=>bt.destroy()),this.reportError(ot)}const Qt=new Map,Hr=new Map;u.forEach(ot=>{const bt=ot.element;i.has(bt)&&(Hr.set(bt,bt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Qt))}),r.forEach(ot=>{const bt=ot.element;this._getPreviousPlayers(bt,!1,ot.namespaceId,ot.triggerName,null).forEach(nn=>{Kr(Qt,bt,[]).push(nn),nn.destroy()})});const jl=fe.filter(ot=>$c(ot,g,v)),$l=new Map;Bd($l,this.driver,Ze,v,ma).forEach(ot=>{$c(ot,g,v)&&jl.push(ot)});const S0=new Map;V.forEach((ot,bt)=>{Bd(S0,this.driver,new Set(ot),g,"!")}),jl.forEach(ot=>{const bt=$l.get(ot),Dt=S0.get(ot);$l.set(ot,new Map([...Array.from(bt?.entries()??[]),...Array.from(Dt?.entries()??[])]))});const nf=[],VH=[],BH={};u.forEach(ot=>{const{element:bt,player:Dt,instruction:nn}=ot;if(i.has(bt)){if(x.has(bt))return Dt.onDestroy(()=>qs(bt,nn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(nn.totalTime),void r.push(Dt);let $i=BH;if(Hr.size>1){let ks=bt;const Nu=[];for(;ks=ks.parentNode;){const jn=Hr.get(ks);if(jn){$i=jn;break}Nu.push(ks)}Nu.forEach(jn=>Hr.set(jn,$i))}const Va=this._buildAnimation(Dt.namespaceId,nn,Qt,o,S0,$l);if(Dt.setRealPlayer(Va),$i===BH)nf.push(Dt);else{const ks=this.playersByElement.get($i);ks&&ks.length&&(Dt.parentPlayer=kr(ks)),r.push(Dt)}}else Vc(bt,nn.fromStyles),Dt.onDestroy(()=>qs(bt,nn.toStyles)),VH.push(Dt),x.has(bt)&&r.push(Dt)}),VH.forEach(ot=>{const bt=o.get(ot.element);if(bt&&bt.length){const Dt=kr(bt);ot.setRealPlayer(Dt)}}),r.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<fe.length;ot++){const bt=fe[ot],Dt=bt[nr];if(jc(bt,kd),Dt&&Dt.hasAnimation)continue;let nn=[];if(f.size){let Va=f.get(bt);Va&&Va.length&&nn.push(...Va);let ks=this.driver.query(bt,vp,!0);for(let Nu=0;Nu<ks.length;Nu++){let jn=f.get(ks[Nu]);jn&&jn.length&&nn.push(...jn)}}const $i=nn.filter(Va=>!Va.destroyed);$i.length?Xw(this,bt,$i):this.processLeaveNode(bt)}return fe.length=0,nf.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const bt=this.players.indexOf(ot);this.players.splice(bt,1)}),ot.play()}),nf}elementContainsData(e,t){let i=!1;const r=t[nr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!o||o==va;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,x=v!==o,D=Kr(i,v,[]);this._getPreviousPlayers(v,x,u,f,t.toState).forEach(V=>{const $=V.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),V.destroy(),D.push(V)})}Vc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const f=t.triggerName,g=t.element,v=[],x=new Set,D=new Set,O=t.timelines.map($=>{const ee=$.element;x.add(ee);const fe=ee[nr];if(fe&&fe.removedBeforeQueried)return new Sd($.duration,$.delay);const Ve=ee!==g,Ze=function Qw(n){const e=[];return Jw(n,e),e}((i.get(ee)||gy).map(Qt=>Qt.getRealPlayer())).filter(Qt=>!!Qt.element&&Qt.element===ee),rt=o.get(ee),st=u.get(ee),vt=Ws(0,this._normalizer,0,$.keyframes,rt,st),It=this._buildPlayer($,vt,Ze);if($.subTimeline&&r&&D.add(ee),Ve){const Qt=new Bp(e,f,ee);Qt.setRealPlayer(It),v.push(Qt)}return It});v.forEach($=>{Kr(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function Kw(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,$.element,$))}),x.forEach($=>Oi($,Ow));const V=kr(O);return V.onDestroy(()=>{x.forEach($=>jc($,Ow)),qs(g,t.toStyles)}),D.forEach($=>{Kr(r,$,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Sd(e.duration,e.delay)}}class Bp{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Sd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>W_(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Vd(n){return n&&1===n.nodeType}function Ys(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Bd(n,e,t,i,r){const o=[];t.forEach(g=>o.push(Ys(g)));const u=[];i.forEach((g,v)=>{const x=new Map;g.forEach(D=>{const O=e.computeStyle(v,D,r);x.set(D,O),(!O||0==O.length)&&(v[nr]=_T,u.push(v))}),n.set(v,x)});let f=0;return t.forEach(g=>Ys(g,o[f++])),u}function Ud(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(f){if(!f)return 1;let g=o.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:u(v),o.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function Oi(n,e){n.classList?.add(e)}function jc(n,e){n.classList?.remove(e)}function Xw(n,e,t){kr(t).onDone(()=>n.processLeaveNode(e))}function Jw(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof gp?Jw(i.players,e):e.push(i)}}function $c(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Up{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new mF(e,t,i),this._timelineEngine=new my(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],x=Rp(this._driver,o,g,[]);if(g.length)throw function NS(n,e){return new c.vHH(3404,!1)}();f=function uT(n,e,t){return new dT(n,e,t)}(r,x,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=Z_(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,f]=Z_(i);return this._timelineEngine.listen(u,t,f,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ET=(()=>{class n extends V_{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mp(t):t;return Hp(this._renderer,null,i,"register",[r]),new xT(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xT extends bw{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tE(this._id,e,t||{},this._renderer)}}class tE{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hp(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Hp(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const $p="@.disabled";let IT=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const f=u?.parentNode(o);f&&u.removeChild(f,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(o);return x||(x=new nE("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(u,f,t,x.name,x)};return i.data.animation.forEach(g),new CT(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,f]=o;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Up),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class nE{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==$p?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class CT extends nE{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$p?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function DT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function ST(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let TT=(()=>{class n extends Up{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(J_),c.LFG(Hw),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const by=[{provide:V_,useClass:ET},{provide:Hw,useFactory:function AT(){return new aT}},{provide:Up,useClass:TT},{provide:c.FYo,useFactory:function iE(n,e,t){return new IT(n,e,t)},deps:[ta,Up,c.R0b]}],kT=[{provide:J_,useClass:Q_},{provide:c.QbO,useValue:"NoopAnimations"},...by];let _l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:kT,imports:[ia]}),n})();function Ye(...n){const e=(0,vo.yG)(n);return(0,Ut.D)(n,e)}var Vt=R(7579);class Xr extends Vt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const zp=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ir=R(4671),Hd=R(9672);function pi(...n){const e=(0,vo.yG)(n),t=(0,vo.jO)(n),{args:i,keys:r}=lc(n);if(0===i.length)return(0,Ut.D)([],e);const o=new Sn.y(function yl(n,e,t=ir.y){return i=>{jd(e,()=>{const{length:r}=n,o=new Array(r);let u=r,f=r;for(let g=0;g<r;g++)jd(e,()=>{const v=(0,Ut.D)(n[g],e);let x=!1;v.subscribe((0,_n.x)(i,D=>{o[g]=D,x||(x=!0,f--),f||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>ud(r,u):ir.y));return t?o.pipe(ps(t)):o}function jd(n,e,t){n?(0,Hd.f)(t,n,e):e()}var Fi=R(8189);function To(...n){return function xy(){return(0,Fi.J)(1)}()((0,Ut.D)(n,(0,vo.yG)(n)))}function ba(n){return new Sn.y(e=>{(0,yo.Xf)(n()).subscribe(e)})}var zc=R(9635),Pi=R(576);function ms(n,e){const t=(0,Pi.m)(n)?n:()=>n,i=r=>r.error(t());return new Sn.y(e?r=>e.schedule(i,0,r):i)}var Rr=R(515),mi=R(727),yn=R(4482);function wa(){return(0,yn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,_n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Iy extends Sn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,yn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_n.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mi.w0.EMPTY)}return e}refCount(){return wa()(this)}}function Bn(n,e){return(0,yn.e)((t,i)=>{let r=null,o=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,_n.x)(i,g=>{r?.unsubscribe();let v=0;const x=o++;(0,yo.Xf)(n(g,x)).subscribe(r=(0,_n.x)(i,D=>i.next(e?e(g,D,x,v++):D),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Qr(n){return n<=0?()=>Rr.E:(0,yn.e)((e,t)=>{let i=0;e.subscribe((0,_n.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ao(...n){const e=(0,vo.yG)(n);return(0,yn.e)((t,i)=>{(e?To(n,t,e):To(n,t)).subscribe(i)})}function gi(n,e){return(0,yn.e)((t,i)=>{let r=0;t.subscribe((0,_n.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var Si=R(5577);function $d(n){return(0,yn.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Cy(n=rE){return(0,yn.e)((e,t)=>{let i=!1;e.subscribe((0,_n.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rE(){return new zp}function Mo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,o)=>n(r,o,i)):ir.y,Qr(1),t?$d(e):Cy(()=>new zp))}function Ea(n,e){return(0,Pi.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}function An(n,e,t){const i=(0,Pi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,yn.e)((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let f=!0;r.subscribe((0,_n.x)(o,g=>{var v;null===(v=i.next)||void 0===v||v.call(i,g),o.next(g)},()=>{var g;f=!1,null===(g=i.complete)||void 0===g||g.call(i),o.complete()},g=>{var v;f=!1,null===(v=i.error)||void 0===v||v.call(i,g),o.error(g)},()=>{var g,v;f&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(v=i.finalize)||void 0===v||v.call(i)}))}):ir.y}function ko(n){return(0,yn.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,_n.x)(t,void 0,void 0,u=>{o=(0,yo.Xf)(n(u,ko(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function sE(n,e,t,i,r){return(o,u)=>{let f=t,g=e,v=0;o.subscribe((0,_n.x)(u,x=>{const D=v++;g=f?n(g,x,D):(f=!0,x),i&&u.next(g)},r&&(()=>{f&&u.next(g),u.complete()})))}}function vl(n,e){return(0,yn.e)(sE(n,e,arguments.length>=2,!0))}function zd(n){return n<=0?()=>Rr.E:(0,yn.e)((e,t)=>{let i=[];e.subscribe((0,_n.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function oE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,o)=>n(r,o,i)):ir.y,zd(1),t?$d(e):Cy(()=>new zp))}function Gd(n,e=!1){return(0,yn.e)((t,i)=>{let r=0;t.subscribe((0,_n.x)(i,o=>{const u=n(o,r++);(u||e)&&i.next(o),!u&&i.complete()}))})}function Gc(n){return(0,yn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $t="primary",bl=Symbol("RouteTitle");class Dy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wl(n){return new Dy(n)}function aE(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],f=n[o];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Ty(n[r],e[r]))return!1;return!0}function Ty(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Wp(n){return Array.prototype.concat.apply([],n)}function qp(n){return n.length>0?n[n.length-1]:null}function _i(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ro(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Ut.D)(Promise.resolve(n)):Ye(n)}const Wd=!1,lE={exact:function My(n,e,t){if(!Ia(n.segments,e.segments)||!qd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!My(n.children[i],e.children[i],t))return!1;return!0},subset:Ry},cE={exact:function uE(n,e){return gs(n,e)},subset:function ky(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ty(n[t],e[t]))},ignored:()=>!0};function Ay(n,e,t){return lE[t.paths](n.root,e.root,t.matrixParams)&&cE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ry(n,e,t){return Oy(n,e,e.segments,t)}function Oy(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ia(r,t)||e.hasChildren()||!qd(r,t,i))}if(n.segments.length===t.length){if(!Ia(n.segments,t)||!qd(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ry(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ia(n.segments,r)&&qd(n.segments,r,i)&&n.children[$t])&&Oy(n.children[$t],e,o,i)}}function qd(n,e,t){return e.every((i,r)=>cE[t](n[r].parameters,i.parameters))}class xa{constructor(e=new zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return OT.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_i(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qc(this)}}class Wc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wl(this.parameters)),this._parameterMap}toString(){return pE(this)}}function Ia(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Jr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Fy},providedIn:"root"}),n})();class Fy{parse(e){const t=new _E(e);return new xa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_s(e.root,!0)}`,i=function FT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Yp(t)}=${Yp(r)}`).join("&"):`${Yp(t)}=${Yp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Py(n){return encodeURI(n)}(e.fragment)}`:""}`}}const OT=new Fy;function qc(n){return n.segments.map(e=>pE(e)).join("/")}function _s(n,e){if(!n.hasChildren())return qc(n);if(e){const t=n.children[$t]?_s(n.children[$t],!1):"",i=[];return _i(n.children,(r,o)=>{o!==$t&&i.push(`${o}:${_s(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Zp(n,e){let t=[];return _i(n.children,(i,r)=>{r===$t&&(t=t.concat(e(i,r)))}),_i(n.children,(i,r)=>{r!==$t&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$t?[_s(n.children[$t],!1)]:[`${r}:${_s(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${qc(n)}/${t[0]}`:`${qc(n)}/(${t.join("//")})`}}function Kp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yp(n){return Kp(n).replace(/%3B/gi,";")}function hE(n){return Kp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ny(n){return decodeURIComponent(n)}function fE(n){return Ny(n.replace(/\+/g,"%20"))}function pE(n){return`${hE(n.path)}${function mE(n){return Object.keys(n).map(e=>`;${hE(e)}=${hE(n[e])}`).join("")}(n.parameters)}`}const si=/^[^\/()?;=#]+/;function Zd(n){const e=n.match(si);return e?e[0]:""}const PT=/^[^=?&#]+/,gE=/^[^&#]+/;class _E{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$t]=new zt(e,t)),i}parseSegment(){const e=Zd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Wd);return this.capture(e),new Wc(Ny(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Zd(this.remaining);r&&(i=r,this.capture(i))}e[Ny(t)]=Ny(i)}parseQueryParam(e){const t=function NT(n){const e=n.match(PT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function LT(n){const e=n.match(gE);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=fE(t),o=fE(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Zd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,Wd);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$t);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[$t]:new zt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Wd)}}function Xp(n){return n.segments.length>0?new zt([],{[$t]:n}):n}function Oo(n){const e={};for(const i of Object.keys(n.children)){const o=Oo(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function VT(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function El(n){return n instanceof xa}function Ly(n,e,t,i,r){if(0===t.length)return Zc(e.root,e.root,e.root,i,r);const o=function es(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ys(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return _i(o.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,o]},[]);return new ys(t,e,i)}(t);return o.toRoot()?Zc(e.root,e.root,new zt([],{}),i,r):function u(g){const v=function wE(n,e,t,i){if(n.isAbsolute)return new Ni(e.root,!0,0);if(-1===i)return new Ni(t,t===e.root,0);return function EE(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Ni(i,!1,r-o)}(t,i+(xl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,g),x=v.processChildren?Kd(v.segmentGroup,v.index,o.commands):Vy(v.segmentGroup,v.index,o.commands);return Zc(e.root,v.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function xl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wr(n){return"object"==typeof n&&null!=n&&n.outlets}function Zc(n,e,t,i,r){let u,o={};i&&_i(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(x=>`${x}`):`${g}`}),u=n===e?t:vE(n,e,t);const f=Xp(Oo(u));return new xa(f,o,r)}function vE(n,e,t){const i={};return _i(n.children,(r,o)=>{i[o]=r===e?t:vE(r,e,t)}),new zt(n.segments,i)}class ys{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&xl(i[0]))throw new c.vHH(4003,!1);const r=i.find(wr);if(r&&r!==qp(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ni{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Vy(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return Kd(n,e,t);const i=function By(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],f=t[i];if(wr(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!xE(g,v,u))return o;i+=2}else{if(!xE(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new zt(n.segments.slice(0,i.pathIndex),{});return o.children[$t]=new zt(n.segments.slice(i.pathIndex),n.children),Kd(o,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?Il(n,e,t):i.match?Kd(n,0,r):Il(n,e,t)}function Kd(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function BT(n){return wr(n[0])?n[0].outlets:{[$t]:n}}(t),r={};return _i(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=Vy(n.children[u],e,o))}),_i(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new zt(n.segments,r)}}function Il(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(wr(o)){const g=UT(o.outlets);return new zt(i,g)}if(0===r&&xl(t[0])){i.push(new Wc(n.segments[e].path,Uy(t[0]))),r++;continue}const u=wr(o)?o.outlets[$t]:`${o}`,f=r<t.length-1?t[r+1]:null;u&&f&&xl(f)?(i.push(new Wc(u,Uy(f))),r+=2):(i.push(new Wc(u,{})),r++)}return new zt(i,{})}function UT(n){const e={};return _i(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Il(new zt([],{}),0,t))}),e}function Uy(n){const e={};return _i(n,(t,i)=>e[i]=`${t}`),e}function xE(n,e,t){return n==t.path&&gs(e,t.parameters)}class Xs{constructor(e,t){this.id=e,this.url=t}}class Jp extends Xs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qs extends Xs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class em extends Xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hy extends Xs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IE extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tm extends Xs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $y extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CE extends Xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AE{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ME{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zy{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jT=(()=>{class n{createUrlTree(t,i,r,o,u,f){return Ly(t||i.root,r,o,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return jT.\u0275fac(e)},providedIn:"root"}),n})();class RE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gy(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Wy(e,this._root).map(t=>t.value)}}function Gy(n,e){if(n===e.value)return e;for(const t of e.children){const i=Gy(n,t);if(i)return i}return null}function Wy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Wy(n,t);if(i.length)return i.unshift(e),i}return[]}class Fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Kc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OE extends RE{constructor(e,t){super(e),this.snapshot=t,im(this,e)}toString(){return this.snapshot.toString()}}function FE(n,e){const t=function zT(n,e){const u=new nm([],{},{},"",{},$t,e,null,n.root,-1,{});return new qy("",new Fo(u,[]))}(n,e),i=new Xr([new Wc("",{})]),r=new Xr({}),o=new Xr({}),u=new Xr({}),f=new Xr(""),g=new Yc(i,r,u,f,o,$t,e,t.root);return g.snapshot=t.root,new OE(new Fo(g,[]),t)}class Yc{constructor(e,t,i,r,o,u,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,Xe.U)(v=>v[bl]))??Ye(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(e=>wl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(e=>wl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function GT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class nm{constructor(e,t,i,r,o,u,f,g,v,x,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=x,this._resolve=D}get title(){return this.data?.[bl]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qy extends RE{constructor(e,t){super(t),this.url=e,im(this,t)}toString(){return Zy(this._root)}}function im(n,e){e.value._routerState=n,e.children.forEach(t=>im(n,t))}function Zy(n){const e=n.children.length>0?` { ${n.children.map(Zy).join(", ")} } `:"";return`${n.value}${e}`}function rm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function Sy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sm(n,e){const t=gs(n.params,e.params)&&function dE(n,e){return Ia(n,e)&&n.every((t,i)=>gs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sm(n.parent,e.parent))}function Xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function LE(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xc(n,i,r);return Xc(n,i)})}(n,e,t);return new Fo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Xc(n,f)),u}}const i=function VE(n){return new Yc(new Xr(n.url),new Xr(n.params),new Xr(n.queryParams),new Xr(n.fragment),new Xr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Xc(n,o));return new Fo(i,r)}}const Yd="ngNavigationCancelingError";function om(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=El(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ca(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Ca(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Yd]=!0,i.cancellationCode=e,t&&(i.url=t),i}function BE(n){return UE(n)&&El(n.url)}function UE(n){return n&&n[Yd]}class Qc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new am,this.attachRef=null}}let am=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Qc,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jc=!1;let HE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(am),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Jc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Jc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Jc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Jc);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new jE(t,f,r.injector);if(i&&function $E(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class jE{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Yc?this.route:e===am?this.childContexts:this.parent.get(e,t)}}let zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[HE],encapsulation:2}),n})();function mt(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function GE(n){const e=n.children&&n.children.map(GE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=zE),t}function Or(n){return n.outlet||$t}function Yy(n,e){const t=n.filter(i=>Or(i)===e);return t.push(...n.filter(i=>Or(i)!==e)),t}function Qd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class qE{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),rm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Kc(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),_i(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Kc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Kc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Kc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new kE(o.value.snapshot))}),e.children.length&&this.forwardEvent(new AE(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(rm(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),rm(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Qd(r.snapshot),g=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Xy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jd{constructor(e,t){this.component=e,this.route=t}}function WT(n,e,t){const i=n._root;return Po(i,e?e._root:null,t,[i.value])}function eu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Po(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Kc(e);return n.children.forEach(u=>{(function ZT(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function KT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ia(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ia(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(n,e)||!gs(n.queryParams,e.queryParams);default:return!sm(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Xy(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Po(n,e,o.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Jd(f.outlet.component,u))}else u&&eh(e,f,r),r.canActivateChecks.push(new Xy(i)),Po(n,null,o.component?f?f.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),_i(o,(u,f)=>eh(u,t.getContext(f),r)),r}function eh(n,e,t){const i=Kc(n),r=n.value;_i(i,(o,u)=>{eh(o,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Jd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Da(n){return"function"==typeof n}function Qy(n){return n instanceof zp||"EmptyError"===n?.name}const ih=Symbol("INITIAL_VALUE");function Cl(){return Bn(n=>pi(n.map(e=>e.pipe(Qr(1),Ao(ih)))).pipe((0,Xe.U)(e=>{for(const t of e)if(!0!==t){if(t===ih)return ih;if(!1===t||t instanceof xa)return t}return!0}),gi(e=>e!==ih),Qr(1)))}function tA(n){return(0,zc.z)(An(e=>{if(El(e))throw om(0,e)}),(0,Xe.U)(e=>!0===e))}const um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rh(n,e,t,i,r){const o=Jy(n,e,t);return o.matched?function MF(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ye(r.map(u=>{const f=eu(u,n);return Ro(function nh(n){return n&&Da(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Cl(),tA()):Ye(!0)}(i=mt(e,i),e,t).pipe((0,Xe.U)(u=>!0===u?o:{...um})):Ye(o)}function Jy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...um}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||aE)(t,n,e);if(!r)return{...um};const o={};_i(r.posParams,(f,g)=>{o[g]=f.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function dm(n,e,t,i){if(t.length>0&&function nA(n,e,t){return t.some(i=>hm(n,e,i)&&Or(i)!==$t)}(n,t,i)){const o=new zt(e,function sh(n,e,t,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Or(o)!==$t){const u=new zt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Or(o)]=u}return r}(n,e,i,new zt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function iA(n,e,t){return t.some(i=>hm(n,e,i))}(n,t,i)){const o=new zt(n.segments,function JE(n,e,t,i,r){const o={};for(const u of i)if(hm(n,t,u)&&!r[Or(u)]){const f=new zt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[Or(u)]=f}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new zt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function hm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ex(n,e,t,i){return!!(Or(n)===i||i!==$t&&hm(e,t,n))&&("**"===n.path||Jy(e,n,t).matched)}function tx(n,e,t){return 0===e.length&&!n.children[t]}const oh=!1;class fm{constructor(e){this.segmentGroup=e||null}}class nx{constructor(e){this.urlTree=e}}function No(n){return ms(new fm(n))}function ix(n){return ms(new nx(n))}class sA{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=dm(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$t).pipe((0,Xe.U)(o=>this.createUrlTree(Oo(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ko(o=>{if(o instanceof nx)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof fm?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$t).pipe((0,Xe.U)(r=>this.createUrlTree(Oo(r),e.queryParams,e.fragment))).pipe(ko(r=>{throw r instanceof fm?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,oh)}createUrlTree(e,t,i){const r=Xp(e);return new xa(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Xe.U)(o=>new zt([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Ut.D)(r).pipe(Ea(o=>{const u=i.children[o],f=Yy(t,o);return this.expandSegmentGroup(e,f,u,o).pipe((0,Xe.U)(g=>({segment:g,outlet:o})))}),vl((o,u)=>(o[u.outlet]=u.segment,o),{}),oE())}expandSegment(e,t,i,r,o,u){return(0,Ut.D)(i).pipe(Ea(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,o,u).pipe(ko(v=>{if(v instanceof fm)return Ye(null);throw v}))),Mo(f=>!!f),ko((f,g)=>{if(Qy(f))return tx(t,r,o)?Ye(new zt([],{})):No(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,o,u,f){return ex(r,t,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u):No(t):No(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ix(o):this.lineralizeSegments(i,o).pipe((0,Si.z)(u=>{const f=new zt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:x}=Jy(t,r,o);if(!f)return No(t);const D=this.applyRedirectCommands(g,r.redirectTo,x);return r.redirectTo.startsWith("/")?ix(D):this.lineralizeSegments(r,D).pipe((0,Si.z)(O=>this.expandSegment(e,t,i,O.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=mt(i,e),i.loadChildren?(i._loadedRoutes?Ye({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Xe.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new zt(r,{})))):Ye(new zt(r,{}))):rh(t,i,r,e).pipe(Bn(({matched:u,consumedSegments:f,remainingSegments:g})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Si.z)(x=>{const D=x.injector??e,O=x.routes,{segmentGroup:V,slicedSegments:$}=dm(t,f,g,O),ee=new zt(V.segments,V.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(D,O,ee).pipe((0,Xe.U)(rt=>new zt(f,rt)));if(0===O.length&&0===$.length)return Ye(new zt(f,{}));const fe=Or(i)===o;return this.expandSegment(D,ee,O,$,fe?$t:o,!0).pipe((0,Xe.U)(Ze=>new zt(f.concat(Ze.segments),Ze.children)))})):No(t)))}getChildConfig(e,t,i){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function AF(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ye(!0):Ye(r.map(u=>{const f=eu(u,n);return Ro(function KE(n){return n&&Da(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Cl(),tA())}(e,t,i).pipe((0,Si.z)(r=>r?this.configLoader.loadChildren(e,t).pipe(An(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function rA(n){return ms(Ca(oh,3))}())):Ye({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ye(i);if(r.numberOfChildren>1||!r.children[$t])return ms(new c.vHH(4e3,oh));r=r.children[$t]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new xa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return _i(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[o]=t[f]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return _i(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,i,r)}),new zt(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,oh);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class ev{}class cx{constructor(e,t,i,r,o,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=dm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$t).pipe((0,Xe.U)(t=>{if(null===t)return null;const i=new nm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fo(i,t),o=new qy(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=PE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Ut.D)(Object.keys(i.children)).pipe(Ea(r=>{const o=i.children[r],u=Yy(t,r);return this.processSegmentGroup(e,u,o,r)}),vl((r,o)=>r&&o?(r.push(...o),r):null),Gd(r=>null!==r),$d(null),oE(),(0,Xe.U)(r=>{if(null===r)return null;const o=pm(r);return function aA(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,Ut.D)(t).pipe(Ea(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,o)),Mo(u=>!!u),ko(u=>{if(Qy(u))return tx(i,r,o)?Ye([]):Ye(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!ex(t,i,r,o))return Ye(null);let u;if("**"===t.path){const f=r.length>0?qp(r).parameters:{},g=ux(i)+r.length;u=Ye({snapshot:new nm(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dx(t),Or(t),t.component??t._loadedComponent??null,t,tv(i),g,hx(t)),consumedSegments:[],remainingSegments:[]})}else u=rh(i,t,r,e).pipe((0,Xe.U)(({matched:f,consumedSegments:g,remainingSegments:v,parameters:x})=>{if(!f)return null;const D=ux(i)+g.length;return{snapshot:new nm(g,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dx(t),Or(t),t.component??t._loadedComponent??null,t,tv(i),D,hx(t)),consumedSegments:g,remainingSegments:v}}));return u.pipe(Bn(f=>{if(null===f)return Ye(null);const{snapshot:g,consumedSegments:v,remainingSegments:x}=f;e=t._injector??e;const D=t._loadedInjector??e,O=function lA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:$}=dm(i,v,x,O.filter(fe=>void 0===fe.redirectTo));if(0===$.length&&V.hasChildren())return this.processChildren(D,O,V).pipe((0,Xe.U)(fe=>null===fe?null:[new Fo(g,fe)]));if(0===O.length&&0===$.length)return Ye([new Fo(g,[])]);const ee=Or(t)===o;return this.processSegment(D,O,V,$,ee?$t:o).pipe((0,Xe.U)(fe=>null===fe?null:[new Fo(g,fe)]))}))}}function cA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pm(n){const e=[],t=new Set;for(const i of n){if(!cA(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=pm(i.children);e.push(new Fo(i.value,r))}return e.filter(i=>!t.has(i))}function tv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ux(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function dx(n){return n.data||{}}function hx(n){return n.resolve||{}}function mx(n){return"string"==typeof n.title||null===n.title}function nv(n){return Bn(e=>{const t=n(e);return t?(0,Ut.D)(t).pipe((0,Xe.U)(()=>e)):Ye(e)})}const tu=new c.OlP("ROUTES");let iv=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ro(t.loadComponent()).pipe((0,Xe.U)(mm),An(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Gc(()=>{this.componentLoaders.delete(t)})),r=new Iy(i,()=>new Vt.x).pipe(wa());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ye({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Xe.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,x=!1;Array.isArray(f)?v=f:(g=f.create(t).injector,v=Wp(g.get(tu,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(GE),injector:g}}),Gc(()=>{this.childrenLoaders.delete(i)})),u=new Iy(o,()=>new Vt.x).pipe(wa());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Ro(t()).pipe((0,Xe.U)(mm),(0,Si.z)(r=>r instanceof c.YKP||Array.isArray(r)?Ye(r):(0,Ut.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mm(n){return function rv(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ah=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Vt.x,this.configLoader=(0,c.f3M)(iv),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Jr),this.rootContexts=(0,c.f3M)(am),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new SE(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new DE(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Xr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(i=>0!==i.id),(0,Xe.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let r=!1,o=!1;return Ye(i).pipe(An(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bn(u=>{const f=t.browserUrlTree.toString(),g=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||g)&&t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return yx(u.source)&&(t.browserUrlTree=u.extractedUrl),Ye(u).pipe(Bn(x=>{const D=this.transitions?.getValue();return this.events.next(new Jp(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),D!==this.transitions?.getValue()?Rr.E:Promise.resolve(x)}),function ox(n,e,t,i){return Bn(r=>function sx(n,e,t,i,r){return new sA(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Xe.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),An(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function dA(n,e,t,i,r){return(0,Si.z)(o=>function lx(n,e,t,i,r,o,u="emptyOnly"){return new cx(n,e,t,i,r,u,o).recognize().pipe(Bn(f=>null===f?function oA(n){return new Sn.y(e=>e.error(n))}(new ev):Ye(f)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Xe.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),An(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const O=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(O,x)}t.browserUrlTree=x.urlAfterRedirects}const D=new IE(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(D)}));if(g&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:O,source:V,restoredState:$,extras:ee}=u,fe=new Jp(D,this.urlSerializer.serialize(O),V,$);this.events.next(fe);const Ve=FE(O,t.rootComponentType).snapshot;return Ye(i={...u,targetSnapshot:Ve,urlAfterRedirects:O,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=u.rawUrl,u.resolve(null),Rr.E}),An(u=>{const f=new jy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,Xe.U)(u=>i={...u,guards:WT(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function XE(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?Ye({...t,guardsResult:!0}):function QT(n,e,t,i){return(0,Ut.D)(n).pipe((0,Si.z)(r=>function TF(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ye(o.map(f=>{const g=Qd(e)??r,v=eu(f,g);return Ro(function th(n){return n&&Da(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(Mo())})).pipe(Cl()):Ye(!0)}(r.component,r.route,t,e,i)),Mo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Si.z)(f=>f&&function ZE(n){return"boolean"==typeof n}(f)?function QE(n,e,t,i){return(0,Ut.D)(e).pipe(Ea(r=>To(function eA(n,e){return null!==n&&e&&e(new TE(n)),Ye(!0)}(r.route.parent,i),function JT(n,e){return null!==n&&e&&e(new ME(n)),Ye(!0)}(r.route,i),function SF(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function qT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ba(()=>Ye(u.guards.map(g=>{const v=Qd(u.node)??t,x=eu(g,v);return Ro(function YT(n){return n&&Da(n.canActivateChild)}(x)?x.canActivateChild(i,n):v.runInContext(()=>x(i,n))).pipe(Mo())})).pipe(Cl())));return Ye(o).pipe(Cl())}(n,r.path,t),function DF(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ye(!0);const r=i.map(o=>ba(()=>{const u=Qd(e)??t,f=eu(o,u);return Ro(function YE(n){return n&&Da(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Mo())}));return Ye(r).pipe(Cl())}(n,r.route,t))),Mo(r=>!0!==r,!0))}(i,o,n,e):Ye(f)),(0,Xe.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),An(u=>{if(i.guardsResult=u.guardsResult,El(u.guardsResult))throw om(0,u.guardsResult);const f=new tm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),gi(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3,t),!1)),nv(u=>{if(u.guards.canActivateChecks.length)return Ye(u).pipe(An(f=>{const g=new $y(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Bn(f=>{let g=!1;return Ye(f).pipe(function hA(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ye(t);let o=0;return(0,Ut.D)(r).pipe(Ea(u=>function fA(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!mx(r)&&(o[bl]=r.title),function pA(n,e,t,i){const r=function fx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ye({});const o={};return(0,Ut.D)(r).pipe((0,Si.z)(u=>function px(n,e,t,i){const r=Qd(e)??i,o=eu(n,r);return Ro(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(Mo(),An(f=>{o[u]=f}))),zd(1),function Gp(n){return(0,Xe.U)(()=>n)}(o),ko(u=>Qy(u)?Rr.E:ms(u)))}(o,n,e,i).pipe((0,Xe.U)(u=>(n._resolvedData=u,n.data=PE(n,t).resolve,r&&mx(r)&&(n.data[bl]=r.title),null)))}(u.route,i,n,e)),An(()=>o++),zd(1),(0,Si.z)(u=>o===r.length?Ye(t):Rr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),An({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2,t))}}))}),An(f=>{const g=new CE(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),nv(u=>{const f=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(An(x=>{g.component=x}),(0,Xe.U)(()=>{})));for(const x of g.children)v.push(...f(x));return v};return pi(f(u.targetSnapshot.root)).pipe($d(),Qr(1))}),nv(()=>t.afterPreactivation()),(0,Xe.U)(u=>{const f=function NE(n,e,t){const i=Xc(n,e._root,t?t._root:void 0);return new OE(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),An(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Xe.U)(i=>(new qE(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),An({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),Gc(()=>{r||o||this.cancelNavigationTransition(i,"",1,t),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ko(u=>{if(o=!0,UE(u)){BE(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new em(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),BE(u)){const g=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||yx(i.source)};t.scheduleNavigation(g,"imperative",null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Hy(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(g){i.reject(g)}}return Rr.E}))}))}cancelNavigationTransition(t,i,r,o){const u=new em(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yx(n){return"imperative"!==n}let vx=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$t);return i}getResolvedTitleForRoute(t){return t.data[bl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ov)},providedIn:"root"}),n})(),ov=(()=>{class n extends vx{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(nu)},providedIn:"root"}),n})();class bx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nu=(()=>{class n extends bx{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gm=new c.OlP("",{providedIn:"root",factory:()=>({})});let RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ex)},providedIn:"root"}),n})(),Ex=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gA(n){throw n}function av(n,e,t){return e.parse("/")}const _A={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(gm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||gA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||av,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ye(void 0),this.urlHandlingStrategy=(0,c.f3M)(RF),this.routeReuseStrategy=(0,c.f3M)(mA),this.urlCreationStrategy=(0,c.f3M)($T),this.titleStrategy=(0,c.f3M)(vx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Wp((0,c.f3M)(tu,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(ah),this.urlSerializer=(0,c.f3M)(Jr),this.location=(0,c.f3M)(ke),this.rootComponentType=null,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FE(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(t.state){const f={...t.state};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(GE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,v=g?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,x,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=El(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Ix(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{..._A}:!1===i?{...xx}:i,El(t))return Ay(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Ay(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let f,g,v,x;return u?(f=u.resolve,g=u.reject,v=u.promise):v=new Promise((D,O)=>{f=D,g=O}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lh=(()=>{class n{constructor(t,i,r,o,u,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Vt.x;const g=u.nativeElement.tagName;this.isAnchorElement="A"===g||"AREA"===g,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Qs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ti),c.Y36(Yc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(We))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Sx{}let yA=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof Qs),Ea(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,f=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,Ut.D)(r).pipe((0,Fi.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ye(null);const o=r.pipe((0,Si.z)(u=>null===u?Ye(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Ut.D)([o,u]).pipe((0,Fi.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Sx),c.LFG(iv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ym=new c.OlP("");let vA=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ch(n,e){return{\u0275kind:n,\u0275providers:e}}function Ax(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(Ti),r=n.get(Mx);1===n.get(cv)&&i.initialNavigation(),n.get(kx,null,c.XFs.Optional)?.setUpPreloading(),n.get(ym,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Mx=new c.OlP("",{factory:()=>new Vt.x}),cv=new c.OlP("",{providedIn:"root",factory:()=>1});const kx=new c.OlP("");function IA(n){return ch(0,[{provide:kx,useExisting:yA},{provide:Sx,useExisting:n}])}const uv=new c.OlP("ROUTER_FORROOT_GUARD"),Rx=[ke,{provide:Jr,useClass:Fy},Ti,am,{provide:Yc,useFactory:function Tx(n){return n.routerState.root},deps:[Ti]},iv,[]];function Ox(){return new c.PXZ("Router",Ti)}let dv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Rx,[],{provide:tu,multi:!0,useValue:t},{provide:uv,useFactory:Fx,deps:[[Ti,new c.FiY,new c.tp0]]},{provide:gm,useValue:i||{}},i?.useHash?{provide:We,useClass:we}:{provide:We,useClass:Ae},{provide:ym,useFactory:()=>{const n=(0,c.f3M)(Ug),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(gm),i=(0,c.f3M)(ah),r=(0,c.f3M)(Jr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vA(r,i,n,e,t)}},i?.preloadingStrategy?IA(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ox},i?.initialNavigation?Px(i):[],[{provide:Nx,useFactory:Ax},{provide:c.tb,multi:!0,useExisting:Nx}]]}}static forChild(t){return{ngModule:n,providers:[{provide:tu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uv,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[zE]}),n})();function Fx(n){return"guarded"}function Px(n){return["disabled"===n.initialNavigation?ch(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ti);return()=>{e.setUpLocationChangeListener()}}},{provide:cv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ch(2,[{provide:cv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(be,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Ti),u=e.get(Mx);(function i(r){e.get(Ti).events.pipe(gi(u=>u instanceof Qs||u instanceof em||u instanceof Hy),(0,Xe.U)(u=>u instanceof Qs||u instanceof em&&(0===u.code||1===u.code)&&null),gi(u=>null!==u),Qr(1)).subscribe(()=>{r()})})(()=>{r(!0)}),o.afterPreactivation=()=>(r(!0),u.closed?Ye(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const Nx=new c.OlP("");var AA=R(1520),Gt=R(9681);(0,Gt.registerVersion)("firebase","9.15.0","app");var X=R(5861),it=R(2090),vs=R(4859),bs=R(1877),ru=R(8766);const uh="@firebase/installations",Vx="w:0.6.0",hv="FIS_v2",eo=new it.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wm(n){return n instanceof it.ZR&&n.code.includes("request-failed")}function dh({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Hx(n){return{token:n.token,requestStatus:2,expiresIn:$x(n.expiresIn),creationTime:Date.now()}}function gv(n,e){return _v.apply(this,arguments)}function _v(){return(_v=(0,X.Z)(function*(n,e){const i=(yield e.json()).error;return eo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function jx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yv(n,{refreshToken:e}){const t=jx(n);return t.append("Authorization",function zx(n){return`${hv} ${n}`}(e)),t}function hh(n){return Em.apply(this,arguments)}function Em(){return(Em=(0,X.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function $x(n){return Number(n.replace("s","000"))}function Gx(n,e){return vv.apply(this,arguments)}function vv(){return(vv=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=dh(n),r=jx(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const f={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:hv,appId:n.appId,sdkVersion:Vx})},g=yield hh(()=>fetch(i,f));if(g.ok){const v=yield g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Hx(v.authToken)}}throw yield gv("Create Installation",g)})).apply(this,arguments)}function bv(n){return new Promise(e=>{setTimeout(e,n)})}const kA=/^[cdef][\w-]{21}$/;function qx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function rr(n){return function Wx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return kA.test(t)?t:""}catch{return""}}function ws(n){return`${n.appName}!${n.appId}`}const ou=new Map;function Zx(n,e){const t=ws(n);wv(t,e),function Kx(n,e){const t=function Yx(){return!Es&&"BroadcastChannel"in self&&(Es=new BroadcastChannel("[Firebase] FID Change"),Es.onmessage=n=>{wv(n.data.key,n.data.fid)}),Es}();t&&t.postMessage({key:n,fid:e}),function Im(){0===ou.size&&Es&&(Es.close(),Es=null)}()}(t,e)}function wv(n,e){const t=ou.get(n);if(t)for(const i of t)i(e)}let Es=null;const Sl="firebase-installations-store";let Ev=null;function xv(){return Ev||(Ev=(0,ru.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Sl)}})),Ev}function au(n,e){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,X.Z)(function*(n,e){const t=ws(n),r=(yield xv()).transaction(Sl,"readwrite"),o=r.objectStore(Sl),u=yield o.get(t);return yield o.put(e,t),yield r.done,(!u||u.fid!==e.fid)&&Zx(n,e.fid),e})).apply(this,arguments)}function Dm(n){return lu.apply(this,arguments)}function lu(){return(lu=(0,X.Z)(function*(n){const e=ws(n),i=(yield xv()).transaction(Sl,"readwrite");yield i.objectStore(Sl).delete(e),yield i.done})).apply(this,arguments)}function Tl(n,e){return Qx.apply(this,arguments)}function Qx(){return(Qx=(0,X.Z)(function*(n,e){const t=ws(n),r=(yield xv()).transaction(Sl,"readwrite"),o=r.objectStore(Sl),u=yield o.get(t),f=e(u);return void 0===f?yield o.delete(t):yield o.put(f,t),yield r.done,f&&(!u||u.fid!==f.fid)&&Zx(n,f.fid),f})).apply(this,arguments)}function Sm(n){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,X.Z)(function*(n){let e;const t=yield Tl(n.appConfig,i=>{const r=Jx(i),o=cu(n,r);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Jx(n){return FA(n||{fid:qx(),registrationStatus:0})}function cu(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(eo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function OA(n,e){return Tm.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cv(n)}:{installationEntry:e}}function Tm(){return(Tm=(0,X.Z)(function*(n,e){try{const t=yield Gx(n,e);return au(n.appConfig,t)}catch(t){throw wm(t)&&409===t.customData.serverCode?yield Dm(n.appConfig):yield au(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Cv(n){return eI.apply(this,arguments)}function eI(){return(eI=(0,X.Z)(function*(n){let e=yield tI(n.appConfig);for(;1===e.registrationStatus;)yield bv(100),e=yield tI(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Sm(n);return i||t}return e})).apply(this,arguments)}function tI(n){return Tl(n,e=>{if(!e)throw eo.create("installation-not-found");return FA(e)})}function FA(n){return function PA(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function NA(n,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=nI(n,t),r=yv(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const f={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Vx,appId:n.appId}})},g=yield hh(()=>fetch(i,f));if(g.ok)return Hx(yield g.json());throw yield gv("Generate Auth Token",g)})).apply(this,arguments)}function nI(n,{fid:e}){return`${dh(n)}/${e}/authTokens:generate`}function Am(n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,X.Z)(function*(n,e=!1){let t;const i=yield Tl(n.appConfig,o=>{if(!sI(o))throw eo.create("not-registered");const u=o.authToken;if(!e&&oI(u))return o;if(1===u.requestStatus)return t=iI(n,e),o;{if(!navigator.onLine)throw eo.create("app-offline");const f=lI(o);return t=LA(n,f),f}});return t?yield t:i.authToken})).apply(this,arguments)}function iI(n,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,X.Z)(function*(n,e){let t=yield rI(n.appConfig);for(;1===t.authToken.requestStatus;)yield bv(100),t=yield rI(n.appConfig);const i=t.authToken;return 0===i.requestStatus?Am(n,e):i})).apply(this,arguments)}function rI(n){return Tl(n,e=>{if(!sI(e))throw eo.create("not-registered");return function cI(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function LA(n,e){return km.apply(this,arguments)}function km(){return(km=(0,X.Z)(function*(n,e){try{const t=yield NA(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield au(n.appConfig,i),t}catch(t){if(!wm(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield au(n.appConfig,i)}else yield Dm(n.appConfig);throw t}})).apply(this,arguments)}function sI(n){return void 0!==n&&2===n.registrationStatus}function oI(n){return 2===n.requestStatus&&!function aI(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function lI(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Tv(){return(Tv=(0,X.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Sm(e);return i?i.catch(console.error):Am(e).catch(console.error),t.fid})).apply(this,arguments)}function Rm(){return(Rm=(0,X.Z)(function*(n,e=!1){const t=n;return yield jF(t),(yield Am(t,e)).token})).apply(this,arguments)}function jF(n){return uI.apply(this,arguments)}function uI(){return(uI=(0,X.Z)(function*(n){const{registrationPromise:e}=yield Sm(n);e&&(yield e)})).apply(this,arguments)}function Om(n){return eo.create("missing-app-config-values",{valueName:n})}const fh="installations",pI=n=>{const e=n.getProvider("app").getImmediate(),t=function GF(n){if(!n||!n.options)throw Om("App Configuration");if(!n.name)throw Om("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Om(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Gt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},WF=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Gt._getProvider)(e,fh).getImmediate();return{getId:()=>function VA(n){return Tv.apply(this,arguments)}(t),getToken:r=>function HF(n){return Rm.apply(this,arguments)}(t,r)}};(function Mv(){(0,Gt._registerComponent)(new vs.wA(fh,pI,"PUBLIC")),(0,Gt._registerComponent)(new vs.wA("installations-internal",WF,"PRIVATE"))})(),(0,Gt.registerVersion)(uh,"0.6.0"),(0,Gt.registerVersion)(uh,"0.6.0","esm2017");const Fm="@firebase/remote-config",Er=new it.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ts{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,X.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&u.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(u),o})()}}function qA(n=navigator){return n.languages&&n.languages[0]||n.language}class Rv{constructor(e,t,i,r,o,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=u}fetch(e){var t=this;return(0,X.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},g={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:qA()},v={method:"POST",headers:f,body:JSON.stringify(g)},x=fetch(u,v),D=new Promise((Ve,Ze)=>{e.signal.addEventListener(()=>{const rt=new Error("The operation was aborted.");rt.name="AbortError",Ze(rt)})});let O;try{yield Promise.race([x,D]),O=yield x}catch(Ve){let Ze="fetch-client-network";throw"AbortError"===Ve?.name&&(Ze="fetch-timeout"),Er.create(Ze,{originalErrorMessage:Ve?.message})}let V=O.status;const $=O.headers.get("ETag")||void 0;let ee,fe;if(200===O.status){let Ve;try{Ve=yield O.json()}catch(Ze){throw Er.create("fetch-client-parse",{originalErrorMessage:Ze?.message})}ee=Ve.entries,fe=Ve.state}if("INSTANCE_STATE_UNSPECIFIED"===fe?V=500:"NO_CHANGE"===fe?V=304:("NO_TEMPLATE"===fe||"EMPTY_CONFIG"===fe)&&(ee={}),304!==V&&200!==V)throw Er.create("fetch-status",{httpStatus:V});return{status:V,eTag:$,config:ee}})()}}class Ov{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,X.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,X.Z)(function*(){yield function ZA(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function KA(n){if(!(n instanceof it.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const u={throttleEndTimeMillis:Date.now()+(0,it.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class YA{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ph(n,e){const t=n.target.error||void 0;return Er.create(e,{originalErrorMessage:t&&t?.message})}const Sa="app_namespace_store";class Fv{constructor(e,t,i,r=function QA(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(ph(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sa,{keyPath:"compositeKey"})}}catch(t){e(Er.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,X.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const f=i.transaction([Sa],"readonly").objectStore(Sa),g=t.createCompositeKey(e);try{const v=f.get(g);v.onerror=x=>{o(ph(x,"storage-get"))},v.onsuccess=x=>{const D=x.target.result;r(D?D.value:void 0)}}catch(v){o(Er.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var i=this;return(0,X.Z)(function*(){const r=yield i.openDbPromise;return new Promise((o,u)=>{const g=r.transaction([Sa],"readwrite").objectStore(Sa),v=i.createCompositeKey(e);try{const x=g.put({compositeKey:v,value:t});x.onerror=D=>{u(ph(D,"storage-set"))},x.onsuccess=()=>{o()}}catch(x){u(Er.create("storage-set",{originalErrorMessage:x?.message}))}})})()}delete(e){var t=this;return(0,X.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const f=i.transaction([Sa],"readwrite").objectStore(Sa),g=t.createCompositeKey(e);try{const v=f.delete(g);v.onerror=x=>{o(ph(x,"storage-delete"))},v.onsuccess=()=>{r()}}catch(v){o(Er.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ta{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,X.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const f=yield r;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function JA(){return xI.apply(this,arguments)}function xI(){return(xI=(0,X.Z)(function*(){if(!(0,it.hl)())return!1;try{return yield(0,it.eu)()}catch{return!1}})).apply(this,arguments)}!function wI(){(0,Gt._registerComponent)(new vs.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Er.create("registration-window");if(!(0,it.hl)())throw Er.create("indexed-db-unavailable");const{projectId:o,apiKey:u,appId:f}=i.options;if(!o)throw Er.create("registration-project-id");if(!u)throw Er.create("registration-api-key");if(!f)throw Er.create("registration-app-id");const g=new Fv(f,i.name,t=t||"firebase"),v=new Ta(g),x=new bs.Yd(Fm);x.logLevel=bs.in.ERROR;const D=new Rv(r,Gt.SDK_VERSION,t,o,u,f),O=new Ov(D,g),V=new ts(O,g,v,x),$=new YA(i,V,v,g,x);return function KF(n){const e=(0,it.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}($),$},"PUBLIC").setMultipleInstances(!0)),(0,Gt.registerVersion)(Fm,"0.4.0"),(0,Gt.registerVersion)(Fm,"0.4.0","esm2017")}();const eM="/firebase-messaging-sw.js",tM="/firebase-cloud-messaging-push-scope",II="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pv="google.c.a.c_id",JF="google.c.a.c_l",CI="google.c.a.ts",iM="google.c.a.e";var mh=(()=>{return(n=mh||(mh={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",mh;var n})();function Is(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DI(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const Lm="fcm_token_details_db",Nv="fcm_token_object_Store";function TI(n){return du.apply(this,arguments)}function du(){return du=(0,X.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Lm))return null;let e=null;return(yield(0,ru.X3)(Lm,5,{upgrade:(i=(0,X.Z)(function*(r,o,u,f){var g;if(o<2||!r.objectStoreNames.contains(Nv))return;const v=f.objectStore(Nv),x=yield v.index("fcmSenderId").get(n);if(yield v.clear(),x)if(2===o){const D=x;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(g=D.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:Is(D.vapidKey)}}}else if(3===o){const D=x;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:Is(D.auth),p256dh:Is(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:Is(D.vapidKey)}}}else if(4===o){const D=x;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:Is(D.auth),p256dh:Is(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:Is(D.vapidKey)}}}}),function(o,u,f,g){return i.apply(this,arguments)})})).close(),yield(0,ru.Lj)(Lm),yield(0,ru.Lj)("fcm_vapid_details_db"),yield(0,ru.Lj)("undefined"),Vm(e)?e:null;var i}),du.apply(this,arguments)}function Vm(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Al="firebase-messaging-store";let MI=null;function kI(){return MI||(MI=(0,ru.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Al)}})),MI}function oM(n){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,X.Z)(function*(n){const e=OI(n),i=yield(yield kI()).transaction(Al).objectStore(Al).get(e);if(i)return i;{const r=yield TI(n.appConfig.senderId);if(r)return yield Lv(n,r),r}})).apply(this,arguments)}function Lv(n,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,X.Z)(function*(n,e){const t=OI(n),r=(yield kI()).transaction(Al,"readwrite");return yield r.objectStore(Al).put(e,t),yield r.done,e})).apply(this,arguments)}function aM(n){return RI.apply(this,arguments)}function RI(){return(RI=(0,X.Z)(function*(n){const e=OI(n),i=(yield kI()).transaction(Al,"readwrite");yield i.objectStore(Al).delete(e),yield i.done})).apply(this,arguments)}function OI({appConfig:n}){return n.appId}const Li=new it.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tP(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,X.Z)(function*(n,e){const t=yield jm(n),i=$m(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Lo(n.appConfig),r)).json()}catch(u){throw Li.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(o.error)throw Li.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Li.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Um(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,X.Z)(function*(n,e){const t=yield jm(n),i=$m(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Lo(n.appConfig)}/${e.token}`,r)).json()}catch(u){throw Li.create("token-update-failed",{errorInfo:u?.toString()})}if(o.error)throw Li.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Li.create("token-update-no-token");return o.token})).apply(this,arguments)}function FI(n,e){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,X.Z)(function*(n,e){const i={method:"DELETE",headers:yield jm(n)};try{const o=yield(yield fetch(`${Lo(n.appConfig)}/${e}`,i)).json();if(o.error)throw Li.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Li.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function Lo({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function jm(n){return gh.apply(this,arguments)}function gh(){return(gh=(0,X.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function $m({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==II&&(r.web.applicationPubKey=i),r}const lM=6048e5;function Hv(n){return _h.apply(this,arguments)}function _h(){return(_h=(0,X.Z)(function*(n){const e=yield uM(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},i=yield oM(n.firebaseDependencies);if(i){if(dM(i.subscriptionOptions,t))return Date.now()>=i.createTime+lM?nP(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield FI(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return cM(n.firebaseDependencies,t)}return cM(n.firebaseDependencies,t)})).apply(this,arguments)}function yh(n){return PI.apply(this,arguments)}function PI(){return(PI=(0,X.Z)(function*(n){const e=yield oM(n.firebaseDependencies);e&&(yield FI(n.firebaseDependencies,e.token),yield aM(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function nP(n,e){return NI.apply(this,arguments)}function NI(){return(NI=(0,X.Z)(function*(n,e){try{const t=yield Um(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Lv(n.firebaseDependencies,i),t}catch(t){throw yield yh(n),t}})).apply(this,arguments)}function cM(n,e){return zm.apply(this,arguments)}function zm(){return(zm=(0,X.Z)(function*(n,e){const i={token:yield tP(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Lv(n,i),i.token})).apply(this,arguments)}function uM(n,e){return jv.apply(this,arguments)}function jv(){return(jv=(0,X.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:DI(e)})})).apply(this,arguments)}function dM(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function LI(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function VI(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function BI(n,e){!e.data||(n.data=e.data)}(e,n),function UI(n,e){var t,i,r,o,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;f&&(n.fcmOptions.link=f);const g=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;g&&(n.fcmOptions.analyticsLabel=g)}(e,n),e}function hM(n){return"object"==typeof n&&!!n&&Pv in n}function HI(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function vh(n){return Li.create("missing-app-config-values",{valueName:n})}HI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),HI("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class iP{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function jI(n){if(!n||!n.options)throw vh("App Configuration Object");if(!n.name)throw vh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw vh(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function $v(n){return bh.apply(this,arguments)}function bh(){return(bh=(0,X.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(eM,{scope:tM}),n.swRegistration.update().catch(()=>{})}catch(e){throw Li.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function fM(n,e){return zv.apply(this,arguments)}function zv(){return(zv=(0,X.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield $v(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Li.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function rP(n,e){return $I.apply(this,arguments)}function $I(){return($I=(0,X.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=II)})).apply(this,arguments)}function Gv(){return(Gv=(0,X.Z)(function*(n,e){if(!navigator)throw Li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Li.create("permission-blocked");return yield rP(n,e?.vapidKey),yield fM(n,e?.serviceWorkerRegistration),Hv(n)})).apply(this,arguments)}function pM(n,e,t){return GI.apply(this,arguments)}function GI(){return(GI=(0,X.Z)(function*(n,e,t){const i=sP(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[Pv],message_name:t[JF],message_time:t[CI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sP(n){switch(n){case mh.NOTIFICATION_CLICKED:return"notification_open";case mh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function WI(){return(WI=(0,X.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===mh.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(LI(t)):n.onMessageHandler.next(LI(t)));const i=t.data;hM(i)&&"1"===i[iM]&&(yield pM(n,t.messageType,i))})).apply(this,arguments)}const mM="@firebase/messaging",aP=n=>{const e=new iP(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function oP(n,e){return WI.apply(this,arguments)}(e,t)),e},lP=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function zI(n,e){return Gv.apply(this,arguments)}(e,i)}};function gM(){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,X.Z)(function*(){try{yield(0,it.eu)()}catch{return!1}return typeof window<"u"&&(0,it.hl)()&&(0,it.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cP(){(0,Gt._registerComponent)(new vs.wA("messaging",aP,"PUBLIC")),(0,Gt._registerComponent)(new vs.wA("messaging-internal",lP,"PRIVATE")),(0,Gt.registerVersion)(mM,"0.12.0"),(0,Gt.registerVersion)(mM,"0.12.0","esm2017")}();const w="analytics",I="firebase_id",C="origin",P="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",z="https://www.googletagmanager.com/gtag/js",Q=new bs.Yd("@firebase/analytics");function me(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ne(n,e){const t=document.createElement("script");t.src=`${z}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function tt(n,e,t,i,r,o){return gt.apply(this,arguments)}function gt(){return(gt=(0,X.Z)(function*(n,e,t,i,r,o){const u=i[r];try{if(u)yield e[u];else{const g=(yield me(t)).find(v=>v.measurementId===r);g&&(yield e[g.appId])}}catch(f){Q.error(f)}n("config",r,o)})).apply(this,arguments)}function Se(n,e,t,i,r){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,X.Z)(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const f=yield me(t);for(const g of u){const v=f.find(D=>D.measurementId===g),x=v&&e[v.appId];if(!x){o=[];break}o.push(x)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Q.error(o)}})).apply(this,arguments)}function dP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(z)&&t.src.includes(n))return t;return null}const Cs=new it.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hP=new class YH{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function XH(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function QH(n){return _M.apply(this,arguments)}function _M(){return(_M=(0,X.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:XH(i)},o=P.replace("{app-id}",t),u=yield fetch(o,r);if(200!==u.status&&304!==u.status){let f="";try{const g=yield u.json();null!==(e=g.error)&&void 0!==e&&e.message&&(f=g.error.message)}catch{}throw Cs.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()})).apply(this,arguments)}function JH(n){return yM.apply(this,arguments)}function yM(){return(yM=(0,X.Z)(function*(n,e=hP,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Cs.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Cs.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new nj;return setTimeout((0,X.Z)(function*(){f.abort()}),void 0!==t?t:6e4),fP({appId:i,apiKey:r,measurementId:o},u,f,e)})).apply(this,arguments)}function fP(n,e,t){return vM.apply(this,arguments)}function vM(){return(vM=(0,X.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=hP){var o;const{appId:u,measurementId:f}=n;try{yield ej(i,e)}catch(g){if(f)return Q.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw g}try{const g=yield QH(n);return r.deleteThrottleMetadata(u),g}catch(g){const v=g;if(!tj(v)){if(r.deleteThrottleMetadata(u),f)return Q.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:u,measurementId:f};throw g}const x=503===Number(null===(o=v?.customData)||void 0===o?void 0:o.httpStatus)?(0,it.$s)(t,r.intervalMillis,30):(0,it.$s)(t,r.intervalMillis),D={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return r.setThrottleMetadata(u,D),Q.debug(`Calling attemptFetch again in ${x} millis`),fP(n,D,i,r)}})).apply(this,arguments)}function ej(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Cs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tj(n){if(!(n instanceof it.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class nj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let bM,DM;function wM(){return(wM=(0,X.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function pP(n){DM=n}function mP(n){bM=n}function lj(){return SM.apply(this,arguments)}function SM(){return(SM=(0,X.Z)(function*(){if(!(0,it.hl)())return Q.warn(Cs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,it.eu)()}catch(n){return Q.warn(Cs.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function TM(){return(TM=(0,X.Z)(function*(n,e,t,i,r,o,u){var f;const g=JH(n);g.then(V=>{t[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&Q.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Q.error(V)),e.push(g);const v=lj().then(V=>{if(V)return i.getId()}),[x,D]=yield Promise.all([g,v]);dP(o)||Ne(o,x.measurementId),DM&&(r("consent","default",DM),pP(void 0)),r("js",new Date);const O=null!==(f=u?.config)&&void 0!==f?f:{};return O[C]="firebase",O.update=!0,null!=D&&(O[I]=D),r("config",x.measurementId,O),bM&&(r("set",bM),mP(void 0)),x.measurementId})).apply(this,arguments)}class uj{constructor(e){this.app=e}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},gP=[];const _P={};let vP,kl,KI="dataLayer",AM=!1;function hj(n,e,t){!function dj(){const n=[];if((0,it.ru)()&&n.push("This is a browser extension environment."),(0,it.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Cs.create("invalid-analytics-context",{errorInfo:e});Q.warn(t.message)}}();const i=n.options.appId;if(!i)throw Cs.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Cs.create("no-api-key");Q.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ml[i])throw Cs.create("already-exists",{id:i});if(!AM){!function He(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(KI);const{wrappedGtag:o,gtagCore:u}=function Un(n,e,t,i,r){let o=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function vn(n,e,t,i){function o(){return(o=(0,X.Z)(function*(u,f,g){try{"event"===u?yield Se(n,e,t,f,g):"config"===u?yield tt(n,e,t,i,f,g):"consent"===u?n("consent","update",g):n("set",f)}catch(v){Q.error(v)}})).apply(this,arguments)}return function r(u,f,g){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(Ml,gP,_P,KI,"gtag");kl=o,vP=u,AM=!0}return Ml[i]=function cj(n,e,t,i,r,o,u){return TM.apply(this,arguments)}(n,gP,_P,e,vP,KI,t),new uj(n)}function pj(){return MM.apply(this,arguments)}function MM(){return(MM=(0,X.Z)(function*(){if((0,it.ru)()||!(0,it.zI)()||!(0,it.hl)())return!1;try{return yield(0,it.eu)()}catch{return!1}})).apply(this,arguments)}const bP="@firebase/analytics";!function gj(){(0,Gt._registerComponent)(new vs.wA(w,(e,{options:t})=>hj(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Gt._registerComponent)(new vs.wA("analytics-internal",function n(e){try{const t=e.getProvider(w).getImmediate();return{logEvent:(i,r,o)=>function mj(n,e,t,i){n=(0,it.m9)(n),function ij(n,e,t,i,r){return wM.apply(this,arguments)}(kl,Ml[n.app.options.appId],e,t,i).catch(r=>Q.error(r))}(t,i,r,o)}}catch(t){throw Cs.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Gt.registerVersion)(bP,"0.9.0"),(0,Gt.registerVersion)(bP,"0.9.0","esm2017")}();class _j extends mi.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const YI={setInterval(n,e,...t){const{delegate:i}=YI;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=YI;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var yj=R(8737);class XI extends _j{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return YI.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&YI.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,yj.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const kM={now:()=>(kM.delegate||Date).now(),delegate:void 0};class Wv{constructor(e,t=Wv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Wv.now=kM.now;class QI extends Wv{constructor(e,t=Wv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const wj=new class bj extends QI{}(class vj extends XI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),qv=new QI(XI),Ej=qv;var Zv=R(9468),Gm=R(5363);const JI=new c.GfV("7.5.0"),RM="__angularfire_symbol__analyticsIsSupportedValue",OM="__angularfire_symbol__analyticsIsSupported",FM="__angularfire_symbol__remoteConfigIsSupportedValue",PM="__angularfire_symbol__remoteConfigIsSupported",NM="__angularfire_symbol__messagingIsSupportedValue",LM="__angularfire_symbol__messagingIsSupported";function BM(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(u=>u.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[OM]||(globalThis[OM]=pj().then(n=>globalThis[RM]=n).catch(()=>globalThis[RM]=!1)),globalThis[LM]||(globalThis[LM]=gM().then(n=>globalThis[NM]=n).catch(()=>globalThis[NM]=!1)),globalThis[PM]||(globalThis[PM]=JA().then(n=>globalThis[FM]=n).catch(()=>globalThis[FM]=!1));const UM=(n,e)=>{const t=e?[e]:(0,Gt.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function Wm(){}class EP{constructor(e,t=wj){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class xj{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wm,{},Wm,Wm)),t.pipe(An({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kv=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new EP(Zone.current)),this.insideAngular=t.run(()=>new EP(Zone.current,qv)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ij(n){return wh().ngZone.runOutsideAngular(()=>n())}function Eh(n){return wh().ngZone.run(()=>n())}function Ds(n){return wh(),function Cj(n){return function(t){return(t=t.lift(new xj(n.ngZone))).pipe((0,Zv.R)(n.outsideAngular),(0,Gm.Q)(n.insideAngular))}}(wh())(n)}const Dj=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Eh(()=>n.apply(void 0,i))},Yv=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Eh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wm,{},Wm,Wm)))),i[o]=Dj(i[o],t));const r=Ij(()=>n.apply(this,i));if(!e){if(r instanceof Sn.y){const o=wh();return r.pipe((0,Zv.R)(o.outsideAngular),(0,Gm.Q)(o.insideAngular))}return Eh(()=>r)}return r instanceof Sn.y?r.pipe(Ds):r instanceof Promise?Eh(()=>new Promise((o,u)=>r.then(f=>Eh(()=>o(f)),f=>Eh(()=>u(f))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Eh(()=>r)};class qm{constructor(e){return e}}class HM{constructor(){return(0,Gt.getApps)()}}const jM=new c.OlP("angularfire2._apps"),Tj={provide:qm,useFactory:function Sj(n){return n&&1===n.length?n[0]:new qm((0,Gt.getApp)())},deps:[[new c.FiY,jM]]},Aj={provide:HM,deps:[[new c.FiY,jM]]};function Mj(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new qm(i)}}let kj=(()=>{class n{constructor(t){(0,Gt.registerVersion)("angularfire",JI.full,"core"),(0,Gt.registerVersion)("angularfire",JI.full,"app"),(0,Gt.registerVersion)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Tj,Aj]}),n})();const Oj=Yv(Gt.initializeApp,!0),$M=new Map,xP={activated:!1,tokenObservers:[]},Fj={initialized:!1,enabled:!1};function sr(n){return $M.get(n)||Object.assign({},xP)}function eC(){return Fj}class Uj{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new it.BH,yield function Hj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new it.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fr=new it.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CP(n){if(!sr(n).activated)throw Fr.create("use-before-activation",{appName:n.name})}function WM(n,e){return qM.apply(this,arguments)}function qM(){return(qM=(0,X.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,o)}catch(D){throw Fr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==u.status)throw Fr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(D){throw Fr.create("fetch-parse-error",{originalErrorMessage:D?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function Gj(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Xv="firebase-app-check-store";let iC=null;function SP(){return iC||(iC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Fr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Xv,{keyPath:"compositeKey"})}}catch(t){e(Fr.create("storage-open",{originalErrorMessage:t?.message}))}}),iC)}function ZM(){return(ZM=(0,X.Z)(function*(n,e){const i=(yield SP()).transaction(Xv,"readwrite"),o=i.objectStore(Xv).put({compositeKey:n,value:e});return new Promise((u,f)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;f(Fr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Qv=new bs.Yd("@firebase/app-check");function XM(n,e){return(0,it.hl)()?function Kj(n,e){return function TP(n,e){return ZM.apply(this,arguments)}(function MP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kP(){return eC().enabled}function RP(){return JM.apply(this,arguments)}function JM(){return(JM=(0,X.Z)(function*(){const n=eC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const t$={error:"UNKNOWN_ERROR"};function n$(n){return it.US.encodeString(JSON.stringify(n),!1)}function rC(n){return ek.apply(this,arguments)}function ek(){return(ek=(0,X.Z)(function*(n,e=!1){const t=n.app;CP(t);const i=sr(t);let o,r=i.token;if(r&&!Zm(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(Zm(g)?r=g:yield XM(t,void 0))}if(!e&&r&&Zm(r))return{token:r.token};let f,u=!1;if(kP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=WM(Gj(t,yield RP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield XM(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield sr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Qv.warn(g.message):Qv.error(g),o=g}return r?o?f=Zm(r)?{token:r.token,internalError:o}:PP(o):(f={token:r.token},i.token=r,yield XM(t,r)):f=PP(o),u&&FP(t,f),f})).apply(this,arguments)}function nk(n,e){const t=sr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function OP(n){const{app:e}=n,t=sr(e);let i=t.tokenRefresher;i||(i=function i$(n){const{app:e}=n;return new Uj((0,X.Z)(function*(){let i;if(i=sr(e).token?yield rC(n,!0):yield rC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=sr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function FP(n,e){const t=sr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Zm(n){return n.expireTimeMillis-Date.now()>0}function PP(n){return{token:n$(t$),error:n}}class r${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=sr(this.app);for(const t of e)nk(this.app,t.next);return Promise.resolve()}}const $P="app-check-internal";!function y$(){(0,Gt._registerComponent)(new vs.wA("app-check",n=>function s$(n,e){return new r$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($P).initialize()})),(0,Gt._registerComponent)(new vs.wA($P,n=>function o$(n){return{getToken:e=>rC(n,e),addTokenListener:e=>function tk(n,e,t,i){const{app:r}=n,o=sr(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Zm(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),OP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>OP(n))}(n,"INTERNAL",e),removeTokenListener:e=>nk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gt.registerVersion)("@firebase/app-check","0.6.0")}();class Jv{constructor(){return UM("app-check")}}typeof window<"u"&&window;var x$=R(552);class ak{constructor(e){return e}}class WP{constructor(){return UM("auth")}}const lk=new c.OlP("angularfire2.auth-instances");function C$(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ak(i)}}const D$={provide:WP,deps:[[new c.FiY,lk]]},S$={provide:ak,useFactory:function I$(n,e){const t=BM("auth",n,e);return t&&new ak(t)},deps:[[new c.FiY,lk],qm]};let T$=(()=>{class n{constructor(){(0,Gt.registerVersion)("angularfire",JI.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[S$,D$]}),n})();const M$=Yv(x$.n,!0);var dt,k$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rl={},ck=ck||{},Ft=k$||self;function oC(){}function aC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uk="closure_uid_"+(1e9*Math.random()>>>0),O$=0;function F$(n,e,t){return n.call.apply(n.bind,arguments)}function P$(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function xr(n,e,t){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F$:P$).apply(null,arguments)}function lC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function or(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function hu(){this.s=this.s,this.o=this.o}hu.prototype.s=!1,hu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function R$(n){Object.prototype.hasOwnProperty.call(n,uk)&&n[uk]||(n[uk]=++O$)}(this)},hu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dk(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ZP(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(aC(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var L$=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",oC,e),Ft.removeEventListener("test",oC,e)}catch{}return n}();function cC(n){return/^[\s\xa0]*$/.test(n)}var KP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hk(n,e){return n<e?-1:n>e?1:0}function uC(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function Aa(n){return-1!=uC().indexOf(n)}function fk(n){return fk[" "](n),n}fk[" "]=oC;var dC,n,B$=Aa("Opera"),Km=Aa("Trident")||Aa("MSIE"),YP=Aa("Edge"),pk=YP||Km,XP=Aa("Gecko")&&!(-1!=uC().toLowerCase().indexOf("webkit")&&!Aa("Edge"))&&!(Aa("Trident")||Aa("MSIE"))&&!Aa("Edge"),U$=-1!=uC().toLowerCase().indexOf("webkit")&&!Aa("Edge");function QP(){var n=Ft.document;return n?n.documentMode:void 0}e:{var mk="",gk=(n=uC(),XP?/rv:([^\);]+)(\)|;)/.exec(n):YP?/Edge\/([\d\.]+)/.exec(n):Km?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):U$?/WebKit\/(\S+)/.exec(n):B$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gk&&(mk=gk?gk[1]:""),Km){var _k=QP();if(null!=_k&&_k>parseFloat(mk)){dC=String(_k);break e}}dC=mk}var H$={};var $$=Ft.document&&Km&&(QP()||parseInt(dC,10))||void 0;function tb(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XP){e:{try{fk(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:z$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tb.X.h.call(this)}}or(tb,Ir);var z$={2:"touch",3:"pen",4:"mouse"};tb.prototype.h=function(){tb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nb="closure_listenable_"+(1e6*Math.random()|0),G$=0;function W$(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++G$,this.ba=this.ea=!1}function hC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function vk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function eN(n){const e={};for(const t in n)e[t]=n[t];return e}const tN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nN(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<tN.length;o++)t=tN[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function fC(n){this.src=n,this.g={},this.h=0}function bk(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=qP(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(hC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wk(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==i)return r}return-1}fC.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=wk(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new W$(e,this.src,o,!!i,r)).ea=t,n.push(e)),e};var Ek="closure_lm_"+(1e6*Math.random()|0),xk={};function iN(n,e,t,i,r){if(i&&i.once)return sN(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)iN(n,e[o],t,i,r);return null}return t=Sk(t),n&&n[nb]?n.N(e,t,eb(i)?!!i.capture:!!i,r):rN(n,e,t,!1,i,r)}function rN(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=eb(r)?!!r.capture:!!r,f=Ck(n);if(f||(n[Ek]=f=new fC(n)),(t=f.add(e,t,i,u,o)).proxy)return t;if(i=function q$(){const e=Z$;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)L$||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(aN(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function sN(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sN(n,e[o],t,i,r);return null}return t=Sk(t),n&&n[nb]?n.O(e,t,eb(i)?!!i.capture:!!i,r):rN(n,e,t,!0,i,r)}function oN(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)oN(n,e[o],t,i,r);else i=eb(i)?!!i.capture:!!i,t=Sk(t),n&&n[nb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wk(o=n.g[e],t,i,r))&&(hC(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Ck(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wk(e,t,i,r)),(t=-1<n?e[n]:null)&&Ik(t))}function Ik(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[nb])bk(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(aN(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Ck(e))?(bk(t,n),0==t.h&&(t.src=null,e[Ek]=null)):hC(n)}}}function aN(n){return n in xk?xk[n]:xk[n]="on"+n}function Z$(n,e){if(n.ba)n=!0;else{e=new tb(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Ik(n),n=t.call(i,e)}return n}function Ck(n){return(n=n[Ek])instanceof fC?n:null}var Dk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sk(n){return"function"==typeof n?n:(n[Dk]||(n[Dk]=function(e){return n.handleEvent(e)}),n[Dk])}function Vi(){hu.call(this),this.i=new fC(this),this.P=this,this.I=null}function ar(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;nN(e=new Ir(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=pC(u,i,!0,e)&&r}if(r=pC(u=e.g=n,i,!0,e)&&r,r=pC(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=pC(u=e.g=t[o],i,!1,e)&&r}function pC(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ba&&u.capture==t){var f=u.listener,g=u.ha||u.src;u.ea&&bk(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}or(Vi,hu),Vi.prototype[nb]=!0,Vi.prototype.removeEventListener=function(n,e,t,i){oN(this,n,e,t,i)},Vi.prototype.M=function(){if(Vi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)hC(t[i]);delete n.g[e],n.h--}}this.I=null},Vi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Vi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Tk=Ft.JSON.stringify;function K$(){var n=uN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ak,lN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new X$,n=>n.reset());class X${constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Q$(n){Ft.setTimeout(()=>{throw n},0)}function cN(n,e){Ak||function J$(){var n=Ft.Promise.resolve(void 0);Ak=function(){n.then(ez)}}(),Mk||(Ak(),Mk=!0),uN.add(n,e)}var Mk=!1,uN=new class Y${constructor(){this.h=this.g=null}add(e,t){const i=lN.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ez(){for(var n;n=K$();){try{n.h.call(n.g)}catch(t){Q$(t)}var e=lN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mk=!1}function mC(n,e){Vi.call(this),this.h=n||1,this.g=e||Ft,this.j=xr(this.lb,this),this.l=Date.now()}function kk(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Rk(n,e,t){if("function"==typeof n)t&&(n=xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function dN(n){n.g=Rk(()=>{n.g=null,n.i&&(n.i=!1,dN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}or(mC,Vi),(dt=mC.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ar(this,"tick"),this.ca&&(kk(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){mC.X.M.call(this),kk(this),delete this.g};class tz extends hu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dN(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ib(n){hu.call(this),this.h=n,this.g={}}or(ib,hu);var hN=[];function fN(n,e,t,i){Array.isArray(t)||(t&&(hN[0]=t.toString()),t=hN);for(var r=0;r<t.length;r++){var o=iN(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function pN(n){vk(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ik(e)},n),n.g={}}function gC(){this.g=!0}function Ym(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sz(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Tk(t)}catch{return e}}(n,t)+(i?" "+i:"")})}ib.prototype.M=function(){ib.X.M.call(this),pN(this)},ib.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gC.prototype.Aa=function(){this.g=!1},gC.prototype.info=function(){};var xh={},mN=null;function _C(){return mN=mN||new Vi}function gN(n){Ir.call(this,xh.Pa,n)}function rb(n){const e=_C();ar(e,new gN(e))}function _N(n,e){Ir.call(this,xh.STAT_EVENT,n),this.stat=e}function Pr(n){const e=_C();ar(e,new _N(e,n))}function yN(n,e){Ir.call(this,xh.Qa,n),this.size=e}function sb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}xh.Pa="serverreachability",or(gN,Ir),xh.STAT_EVENT="statevent",or(_N,Ir),xh.Qa="timingevent",or(yN,Ir);var yC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ok(){}function wN(){}Ok.prototype.h=null;var Nk,ob={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fk(){Ir.call(this,"d")}function Pk(){Ir.call(this,"c")}function vC(){}function ab(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new ib(this),this.O=oz,this.T=new mC(n=pk?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new EN}function EN(){this.i=null,this.g="",this.h=!1}or(Fk,Ir),or(Pk,Ir),or(vC,Ok),vC.prototype.g=function(){return new XMLHttpRequest},vC.prototype.i=function(){return{}},Nk=new vC;var oz=45e3,Lk={},bC={};function Vk(n,e,t){n.K=1,n.v=IC(Ol(e)),n.s=t,n.P=!0,xN(n,null)}function xN(n,e){n.F=Date.now(),lb(n),n.A=Ol(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ON(t.i,"t",i),n.C=0,t=n.l.H,n.h=new EN,n.g=iL(n.l,t?e:null,!n.s),0<n.N&&(n.L=new tz(xr(n.La,n,n.g),n.N)),fN(n.S,n.g,"readystatechange",n.ib),e=n.H?eN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),rb(),function nz(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",f=o.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var x=v[0];v=v[1];var D=x.split("_");u=2<=D.length&&"type"==D[1]?u+(x+"=")+v+"&":u+(x+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function IN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CN(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=az(n,t),r==bC){4==e&&(n.o=4,Pr(14),i=!1),Ym(n.j,n.m,null,"[Incomplete Response]");break}if(r==Lk){n.o=4,Pr(15),Ym(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ym(n.j,n.m,r,null),Bk(n,r)}IN(n)&&r!=bC&&r!=Lk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),qk(e),e.K=!0,Pr(11))):(Ym(n.j,n.m,t,"[Invalid Chunked Response]"),Ih(n),cb(n))}function az(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?bC:(t=Number(e.substring(t,i)),isNaN(t)?Lk:(i+=1)+t>e.length?bC:(e=e.substr(i,t),n.C=i+t,e))}function lb(n){n.V=Date.now()+n.O,DN(n,n.O)}function DN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sb(xr(n.gb,n),e)}function wC(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function cb(n){0==n.l.G||n.I||JN(n.l,n)}function Ih(n){wC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kk(n.T),pN(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Bk(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Uk(t.h,n)))if(!n.J&&Uk(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;MC(t),TC(t)}Wk(t),Pr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=sb(xr(t.cb,t),6e3));if(1>=NN(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Dh(t,11)}else if((n.J||t.g==n)&&MC(t),!cC(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const x=v[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const D=v[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(t.J=i=1.5*O,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const $=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var o=i.h;o.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Hk(o,o.h),o.h=null))}if(i.D){const ee=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.za=ee,kn(i.F,i.D,ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=nL(i,i.H?i.ka:null,i.V),u.J){LN(i.h,u);var f=u,g=i.J;g&&f.setTimeout(g),f.B&&(wC(f),lb(f)),i.g=u}else XN(i);0<t.i.length&&AC(t)}else"stop"!=v[0]&&"close"!=v[0]||Dh(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Dh(t,7):Gk(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}rb()}catch{}}function SN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(aC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cz(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(aC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function lz(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(aC(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(dt=ab.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Fl(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const x=Fl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>x)&&(3!=x||pk||this.g&&(this.h.h||this.g.fa()||GN(this.g)))){this.I||4!=x||7==e||rb(),wC(this);var t=this.g.aa();this.Y=t;t:if(IN(this)){var i=GN(this.g);n="";var r=i.length,o=4==Fl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ih(this),cb(this);var u="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function iz(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cC(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Pr(12),Ih(this),cb(this);break e}Ym(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bk(this,t)}this.P?(CN(this,x,u),pk&&this.i&&3==x&&(fN(this.S,this.T,"tick",this.hb),this.T.start())):(Ym(this.j,this.m,u,null),Bk(this,u)),4==x&&Ih(this),this.i&&!this.I&&(4==x?JN(this.l,this):(this.i=!1,lb(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Ih(this),cb(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Fl(this.g),e=this.g.fa();this.C<e.length&&(wC(this),CN(this,n,e),this.i&&4!=n&&lb(this))}},dt.cancel=function(){this.I=!0,Ih(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function rz(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rb(),Pr(17)),Ih(this),this.o=2,cb(this)):DN(this,this.V-n)};var TN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ch){this.h=void 0!==e?e:n.h,EC(this,n.j),this.s=n.s,this.g=n.g,xC(this,n.m),this.l=n.l,e=n.i;var t=new hb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),AN(this,t),this.o=n.o}else n&&(t=String(n).match(TN))?(this.h=!!e,EC(this,t[1]||"",!0),this.s=ub(t[2]||""),this.g=ub(t[3]||"",!0),xC(this,t[4]),this.l=ub(t[5]||"",!0),AN(this,t[6]||"",!0),this.o=ub(t[7]||"")):(this.h=!!e,this.i=new hb(null,this.h))}function Ol(n){return new Ch(n)}function EC(n,e,t){n.j=t?ub(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function AN(n,e,t){e instanceof hb?(n.i=e,function gz(n,e){e&&!n.j&&(fu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(kN(this,i),ON(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=db(e,pz)),n.i=new hb(e,n.h))}function kn(n,e,t){n.i.set(e,t)}function IC(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ub(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function db(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dz),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dz(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ch.prototype.toString=function(){var n=[],e=this.j;e&&n.push(db(e,MN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(db(e,MN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(db(t,"/"==t.charAt(0)?fz:hz,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",db(t,mz)),n.join("")};var MN=/[#\/\?@]/g,hz=/[#\?:]/g,fz=/[#\?]/g,pz=/[#\?@]/g,mz=/#/g;function hb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fu(n){n.g||(n.g=new Map,n.h=0,n.i&&function uz(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kN(n,e){fu(n),e=Xm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RN(n,e){return fu(n),e=Xm(n,e),n.g.has(e)}function ON(n,e,t){kN(n,e),0<t.length&&(n.i=null,n.g.set(Xm(n,e),dk(t)),n.h+=t.length)}function Xm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FN(n){this.l=n||yz,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ga&&Ft.g.Ga()&&Ft.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=hb.prototype).add=function(n,e){fu(this),this.i=null,n=Xm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){fu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},dt.oa=function(){fu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},dt.W=function(n){fu(this);let e=[];if("string"==typeof n)RN(this,n)&&(e=e.concat(this.g.get(Xm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return fu(this),this.i=null,RN(this,n=Xm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var yz=10;function PN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NN(n){return n.h?1:n.g?n.g.size:0}function Uk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Hk(n,e){n.g?n.g.add(e):n.h=e}function LN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return dk(n.i)}function jk(){}function vz(){this.g=new jk}function bz(n,e,t){const i=t||"";try{SN(n,function(r,o){let u=r;eb(r)&&(u=Tk(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function CC(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function fb(n){this.l=n.ac||null,this.j=n.jb||!1}function DC(n,e){Vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=$k,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FN.prototype.cancel=function(){if(this.i=VN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jk.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},jk.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},or(fb,Ok),fb.prototype.g=function(){return new DC(this.l,this.j)},fb.prototype.i=function(n){return function(){return n}}({}),or(DC,Vi);var $k=0;function BN(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function pb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mb(n)}function mb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=DC.prototype).open=function(n,e){if(this.readyState!=$k)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mb(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pb(this)),this.readyState=$k},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mb(this)),this.g&&(this.readyState=3,mb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BN(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pb(this):mb(this),3==this.readyState&&BN(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,pb(this))},dt.Ua=function(n){this.g&&(this.response=n,pb(this))},dt.ga=function(){this.g&&pb(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(DC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ez=Ft.JSON.parse;function Zn(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UN,this.K=this.L=!1}or(Zn,Vi);var UN="",xz=/^https?$/i,Iz=["POST","PUT"];function HN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jN(n),SC(n)}function jN(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function $N(n){if(n.h&&typeof ck<"u"&&(!n.C[1]||4!=Fl(n)||2!=n.aa()))if(n.v&&4==Fl(n))Rk(n.Ha,0,n);else if(ar(n,"readystatechange"),4==Fl(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(TN)[1]||null;if(!r&&Ft.self&&Ft.self.location){var o=Ft.self.location.protocol;r=o.substr(0,o.length-1)}i=!xz.test(r?r.toLowerCase():"")}t=i}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var u=2<Fl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",jN(n)}}finally{SC(n)}}}function SC(n,e){if(n.g){zN(n);const t=n.g,i=n.C[0]?oC:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=i}catch{}}}function zN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Fl(n){return n.g?n.g.readyState:0}function GN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WN(n){let e="";return vk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function zk(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=WN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function gb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qN(n){this.Ca=0,this.i=[],this.j=new gC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gb("baseRetryDelayMs",5e3,n),this.bb=gb("retryDelaySeedMs",1e4,n),this.$a=gb("forwardChannelMaxRetries",2,n),this.ta=gb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new FN(n&&n.concurrentRequestLimit),this.Fa=new vz,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gk(n){if(ZN(n),3==n.G){var e=n.U++,t=Ol(n.F);kn(t,"SID",n.I),kn(t,"RID",e),kn(t,"TYPE","terminate"),_b(n,t),(e=new ab(n,n.j,e,void 0)).K=2,e.v=IC(Ol(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=iL(e.l,null),e.g.da(e.v)),e.F=Date.now(),lb(e)}tL(n)}function TC(n){n.g&&(qk(n),n.g.cancel(),n.g=null)}function ZN(n){TC(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),MC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function AC(n){PN(n.h)||n.m||(n.m=!0,cN(n.Ja,n),n.C=0)}function KN(n,e){var t;t=e?e.m:n.U++;const i=Ol(n.F);kn(i,"SID",n.I),kn(i,"RID",t),kn(i,"AID",n.T),_b(n,i),n.o&&n.s&&zk(i,n.o,n.s),t=new ab(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=YN(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Hk(n.h,t),Vk(t,i,e)}function _b(n,e){n.ia&&vk(n.ia,function(t,i){kn(e,i,t)}),n.l&&SN({},function(t,i){kn(e,i,t)})}function YN(n,e,t){t=Math.min(n.i.length,t);var i=n.l?xr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const x=r[g].g;if(v-=o,0>v)o=Math.max(0,r[g].h-100),f=!1;else try{bz(x,u,"req"+v+"_")}catch{i&&i(x)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function XN(n){n.g||n.u||(n.Z=1,cN(n.Ia,n),n.A=0)}function Wk(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=sb(xr(n.Ia,n),eL(n,n.A)),n.A++,0))}function qk(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function QN(n){n.g=new ab(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ol(n.sa);kn(e,"RID","rpc"),kn(e,"SID",n.I),kn(e,"CI",n.L?"0":"1"),kn(e,"AID",n.T),kn(e,"TYPE","xmlhttp"),_b(n,e),n.o&&n.s&&zk(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=IC(Ol(e)),t.s=null,t.P=!0,xN(t,n)}function MC(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function JN(n,e){var t=null;if(n.g==e){MC(n),qk(n),n.g=null;var i=2}else{if(!Uk(n.h,e))return;t=e.D,LN(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ar(i=_C(),new yN(i,t)),AC(n)}else XN(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function Dz(n,e){return!(NN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=sb(xr(n.Ja,n,e),eL(n,n.C)),n.C++,0)))}(n,e)||2==i&&Wk(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Dh(n,5);break;case 4:Dh(n,10);break;case 3:Dh(n,6);break;default:Dh(n,2)}}function eL(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Dh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=xr(n.kb,n);t||(t=new Ch("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||EC(t,"https"),IC(t)),function wz(n,e){const t=new gC;if(Ft.Image){const i=new Image;i.onload=lC(CC,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lC(CC,t,i,"TestLoadImage: error",!1,e),i.onabort=lC(CC,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lC(CC,t,i,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.G=0,n.l&&n.l.va(e),tL(n),ZN(n)}function tL(n){if(n.G=0,n.la=[],n.l){const e=VN(n.h);(0!=e.length||0!=n.i.length)&&(ZP(n.la,e),ZP(n.la,n.i),n.h.i.length=0,dk(n.i),n.i.length=0),n.l.ua()}}function nL(n,e,t){var i=t instanceof Ch?Ol(t):new Ch(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),xC(i,i.m);else{var r=Ft.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ch(null,void 0);i&&EC(o,i),e&&(o.g=e),r&&xC(o,r),t&&(o.l=t),i=o}return e=n.za,(t=n.D)&&e&&kn(i,t,e),kn(i,"VER",n.ma),_b(n,i),i}function iL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&n.Da&&!n.ra?new fb({jb:!0}):n.ra)).Ka(n.H),e}function rL(){}function kC(){if(Km&&!(10<=Number($$)))throw Error("Environmental error: no available transport.")}function Ss(n,e){Vi.call(this),this.g=new qN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!cC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qm(this)}function sL(n){Fk.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oL(){Pk.call(this),this.status=1}function Qm(n){this.g=n}(dt=Zn.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nk.g(),this.C=function bN(n){return n.h||(n.h=n.i())}(this.u?this.u:Nk),this.g.onreadystatechange=xr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void HN(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ft.FormData&&n instanceof Ft.FormData,!(0<=qP(Iz,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zN(this),0<this.B&&((this.K=function Cz(n){return Km&&function j$(){return function V$(n){var e=H$;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=KP(String(dC)).split("."),t=KP("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",o=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=hk(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||hk(0==r[2].length,0==o[2].length)||hk(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.qa,this)):this.A=Rk(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){HN(this,o)}},dt.qa=function(){typeof ck<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),SC(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SC(this,!0)),Zn.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?$N(this):this.fb())},dt.fb=function(){$N(this)},dt.aa=function(){try{return 2<Fl(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ez(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=qN.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new ab(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=eN(o),nN(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=YN(this,r,e),kn(t=Ol(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),_b(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(WN(o)))+"&"+e:this.o&&zk(t,this.o,o)),Hk(this.h,r),this.Ya&&kn(t,"TYPE","init"),this.O?(kn(t,"$req",e),kn(t,"SID","null"),r.Z=!0,Vk(r,t,null)):Vk(r,t,e),this.G=2}}else 3==this.G&&(n?KN(this,n):0==this.i.length||PN(this.h)||KN(this))},dt.Ia=function(){if(this.u=null,QN(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=sb(xr(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pr(10),TC(this),QN(this))},dt.cb=function(){null!=this.v&&(this.v=null,TC(this),Wk(this),Pr(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Pr(2)):(this.j.info("Failed to ping google.com"),Pr(1))},(dt=rL.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},kC.prototype.g=function(n,e){return new Ss(n,e)},or(Ss,Vi),Ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Pr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=nL(n,null,n.V),AC(n)},Ss.prototype.close=function(){Gk(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tk(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&AC(e)},Ss.prototype.M=function(){this.g.l=null,delete this.j,Gk(this.g),delete this.g,Ss.X.M.call(this)},or(sL,Fk),or(oL,Pk),or(Qm,rL),Qm.prototype.xa=function(){ar(this.g,"a")},Qm.prototype.wa=function(n){ar(this.g,new sL(n))},Qm.prototype.va=function(n){ar(this.g,new oL)},Qm.prototype.ua=function(){ar(this.g,"b")},kC.prototype.createWebChannel=kC.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,yC.NO_ERROR=0,yC.TIMEOUT=8,yC.HTTP_ERROR=6,vN.COMPLETE="complete",wN.EventType=ob,ob.OPEN="a",ob.CLOSE="b",ob.ERROR="c",ob.MESSAGE="d",Vi.prototype.listen=Vi.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.Oa,Zn.prototype.getLastErrorCode=Zn.prototype.Ea,Zn.prototype.getStatus=Zn.prototype.aa,Zn.prototype.getResponseJson=Zn.prototype.Sa,Zn.prototype.getResponseText=Zn.prototype.fa,Zn.prototype.send=Zn.prototype.da,Zn.prototype.setWithCredentials=Zn.prototype.Ka;var Sz=Rl.createWebChannelTransport=function(){return new kC},Tz=Rl.getStatEventTarget=function(){return _C()},Zk=Rl.ErrorCode=yC,Az=Rl.EventType=vN,Mz=Rl.Event=xh,aL=Rl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},kz=Rl.FetchXmlHttpFactory=fb,RC=Rl.WebChannel=wN,Rz=Rl.XhrIo=Zn;const lL="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let Jm="9.15.0";const pu=new bs.Yd("@firebase/firestore");function Kk(){return pu.logLevel}function Fe(n,...e){if(pu.logLevel<=bs.in.DEBUG){const t=e.map(Yk);pu.debug(`Firestore (${Jm}): ${n}`,...t)}}function oi(n,...e){if(pu.logLevel<=bs.in.ERROR){const t=e.map(Yk);pu.error(`Firestore (${Jm}): ${n}`,...t)}}function Sh(n,...e){if(pu.logLevel<=bs.in.WARN){const t=e.map(Yk);pu.warn(`Firestore (${Jm}): ${n}`,...t)}}function Yk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Jm}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function ut(n,e){n||Je()}function Ge(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends it.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class Nz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lz{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ai,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,X.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ai)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ut("string"==typeof i.accessToken),new cL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Bi(e)}}class Vz{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Bz{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Vz(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uz{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=o=>{null!=o.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.A=t.token,new uL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class dL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Hz(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function Pt(n,e){return n<e?-1:n>e?1:0}function eg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function hL(n){return n+"\0"}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Rn(0,0))}static max(){return new pt(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yb{constructor(e,t,i){void 0===t?t=0:t>e.length&&Je(),void 0===i?i=e.length-t:i>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends yb{construct(e,t,i){return new en(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new De(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new en(t)}static emptyPath(){return new en([])}}const jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends yb{construct(e,t,i){return new Kn(e,t,i)}static isValidIdentifier(e){return jz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new De(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new De(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new De(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(o(),r++)}if(o(),u)throw new De(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(en.fromString(e))}static fromName(e){return new je(en.fromString(e).popFirst(5))}static empty(){return new je(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new en(e.slice()))}}class OC{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Xk(n){return n.fields.find(e=>2===e.kind)}function Th(n){return n.fields.filter(e=>2!==e.kind)}OC.UNKNOWN_ID=-1;class FC{constructor(e,t){this.fieldPath=e,this.kind=t}}class vb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vb(0,Ts.min())}}function fL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(1e9===i?new Rn(t+1,0):new Rn(t,i));return new Ts(r,je.empty(),e)}function pL(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ts(pt.min(),je.empty(),-1)}static max(){return new Ts(pt.max(),je.empty(),-1)}}function Qk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const mL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mu(n){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,X.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==mL)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Jk.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,o=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++o,u&&o===r&&t()},g=>i(g))}),u=!0,o===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,r)=>{const o=e.length,u=new Array(o);let f=0;for(let g=0;g<o;g++){const v=g;t(e[v]).next(x=>{u[v]=x,++f,f===o&&i(u)},x=>r(x))}})}static doWhile(e,t){return new ue((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class PC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new bb(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=eR(i.target.error);this.P.reject(new bb(e,r))}}static open(e,t,i,r){try{return new PC(t,e.transaction(r,i))}catch(o){throw new bb(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Wz(t)}}class Vo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Vo.D((0,it.z$)())&&oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Ah(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,it.hl)())return!1;if(Vo.N())return!0;const e=(0,it.z$)(),t=Vo.D(e),i=0<t&&t<10,r=Vo.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,X.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new bb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new De(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new De(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new bb(e,f))},o.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,X.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.F(e);const g=PC.open(o.db,e,u?"readonly":"readwrite",i),v=r(g).next(x=>(g.V(),x)).catch(x=>(g.abort(x),ue.reject(x))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,x="FirebaseError"!==v.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),o.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Gz{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ah(this.q.delete())}}class bb extends De{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gu(n){return"IndexedDbTransactionError"===n.name}class Wz{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ah(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Ah(this.store.add(e))}get(e){return Ah(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Ah(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Ah(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,f)=>{o.push(f)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ue((o,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=o=>{const u=eR(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new ue((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new Gz(f),v=t(f.primaryKey,f.value,g);if(v instanceof ue){const x=v.catch(D=>(g.done(),ue.reject(D)));i.push(x)}g.isDone?r():null===g.G?f.continue():f.continue(g.G)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ah(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=eR(i.target.error);t(r)}})}let _L=!1;function eR(n){const e=Vo.D((0,it.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _L||(_L=!0,setTimeout(()=>{throw i},0)),i}}return n}class qz{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){gu(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield mu(i)}yield t.nt(6e4)}))}}class Zz{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,o=!0;return ue.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});o=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,o)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=pL(o);Qk(u,i)>0&&(i=u)}),new Ts(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let As=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Kz{constructor(e,t,i,r,o,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class _u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}function yL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wb(n){return null==n}function Eb(n){return 0===n&&1/n==-1/0}function bL(n){return"number"==typeof n&&Number.isInteger(n)&&!Eb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Xz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yu(n){if(ut(!!n),"string"==typeof n){let e=0;const t=Xz.exec(n);if(ut(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kh(n){return"string"==typeof n?Mi.fromBase64String(n):Mi.fromUint8Array(n)}function tR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wL(n){const e=n.mapValue.fields.__previous_value__;return tR(e)?wL(e):e}function xb(n){const e=yu(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}const vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},NC={nullValue:"NULL_VALUE"};function Rh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tR(n)?4:CL(n)?9007199254740991:10:Je()}function Ma(n,e){if(n===e)return!0;const t=Rh(n);if(t!==Rh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xb(n).isEqual(xb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=yu(i.timestampValue),u=yu(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,kh(n.bytesValue).isEqual(kh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Yn(i.geoPointValue.latitude)===Yn(r.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Yn(i.integerValue)===Yn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Yn(i.doubleValue),u=Yn(r.doubleValue);return o===u?Eb(o)===Eb(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return eg(n.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(yL(o)!==yL(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===u[f]||!Ma(o[f],u[f])))return!1;return!0}(n,e);default:return Je()}var r}function Ib(n,e){return void 0!==(n.values||[]).find(t=>Ma(t,e))}function bu(n,e){if(n===e)return 0;const t=Rh(n),i=Rh(e);if(t!==i)return Pt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=Yn(r.integerValue||r.doubleValue),f=Yn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return EL(n.timestampValue,e.timestampValue);case 4:return EL(xb(n),xb(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(r,o){const u=kh(r),f=kh(o);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),f=o.split("/");for(let g=0;g<u.length&&g<f.length;g++){const v=Pt(u[g],f[g]);if(0!==v)return v}return Pt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=Pt(Yn(r.latitude),Yn(o.latitude));return 0!==u?u:Pt(Yn(r.longitude),Yn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],f=o.values||[];for(let g=0;g<u.length&&g<f.length;++g){const v=bu(u[g],f[g]);if(v)return v}return Pt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===vu.mapValue&&o===vu.mapValue)return 0;if(r===vu.mapValue)return 1;if(o===vu.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),g=o.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const D=Pt(f[x],v[x]);if(0!==D)return D;const O=bu(u[f[x]],g[v[x]]);if(0!==O)return O}return Pt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Je()}}function EL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=yu(n),i=yu(e),r=Pt(t.seconds,i.seconds);return 0!==r?r:Pt(t.nanos,i.nanos)}function tg(n){return nR(n)}function nR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=yu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kh(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=nR(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${nR(i.fields[f])}`;return o+"}"}(n.mapValue):Je();var e}function Oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iR(n){return!!n&&"integerValue"in n}function Cb(n){return!!n&&"arrayValue"in n}function xL(n){return!!n&&"nullValue"in n}function IL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function LC(n){return!!n&&"mapValue"in n}function Db(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Db(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Db(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qz(n){return"nullValue"in n?NC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Oh(_u.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function Jz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Oh(_u.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?vu:Je()}function DL(n,e){const t=bu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function SL(n,e){const t=bu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wu{constructor(e,t){this.position=e,this.inclusive=t}}function TL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?je.comparator(je.fromName(u.referenceValue),t.key):bu(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function AL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ma(n.position[t],e.position[t]))return!1;return!0}class ML{}class Yt extends ML{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new e3(e,t,i):"array-contains"===t?new r3(e,i):"in"===t?new VL(e,i):"not-in"===t?new s3(e,i):"array-contains-any"===t?new o3(e,i):new Yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new t3(e,i):new n3(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(bu(t,this.value)):null!==t&&Rh(this.value)===Rh(t)&&this.matchesComparison(bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class dn extends ML{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new dn(e,t)}matches(e){return ng(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ng(n){return"and"===n.op}function rR(n){return"or"===n.op}function kL(n){return RL(n)&&ng(n)}function RL(n){for(const e of n.filters)if(e instanceof dn)return!1;return!0}function OL(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+tg(n.value);{const e=n.filters.map(t=>OL(t)).join(",");return`${n.op}(${e})`}}function FL(n,e){return n instanceof Yt?(t=n,(i=e)instanceof Yt&&t.op===i.op&&t.field.isEqual(i.field)&&Ma(t.value,i.value)):n instanceof dn?function(t,i){return i instanceof dn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&FL(o,i.filters[u]),!0)}(n,e):void Je();var t,i}function PL(n,e){const t=n.filters.concat(e);return dn.create(t,n.op)}function NL(n){return n instanceof Yt?`${(e=n).field.canonicalString()} ${e.op} ${tg(e.value)}`:n instanceof dn?function(e){return e.op.toString()+" {"+e.getFilters().map(NL).join(" ,")+"}"}(n):"Filter";var e}class e3 extends Yt{constructor(e,t,i){super(e,t,i),this.key=je.fromName(i.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class t3 extends Yt{constructor(e,t){super(e,"in",t),this.keys=LL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class n3 extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=LL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>je.fromName(i.referenceValue))}class r3 extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cb(t)&&Ib(t.arrayValue,this.value)}}class VL extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ib(this.value.arrayValue,t)}}class s3 extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ib(this.value.arrayValue,t)}}class o3 extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ib(this.value.arrayValue,i))}}class ig{constructor(e,t="asc"){this.field=e,this.dir=t}}function a3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xn{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new VC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new VC(this.root,e,this.comparator,!1)}getReverseIterator(){return new VC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new VC(this.root,e,this.comparator,!0)}}class VC{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??lr.RED,this.left=r??lr.EMPTY,this.right=o??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new lr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,i,r){return this}insert(n,e,t){return new lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BL(this.data.getIterator())}getIteratorFrom(e){return new BL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class BL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rg(n){return n.hasNext()?n.getNext():void 0}class Ms{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Ms([])}unionWith(e){let t=new pn(Kn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!LC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Db(t)}setAll(e){let t=Kn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Db(u):r.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());LC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];LC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Mh(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new cr(Db(this.value))}}function UL(n){const e=[];return Mh(n.fields,(t,i)=>{const r=new Kn([t]);if(LC(i)){const o=UL(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Ms(e)}class En{constructor(e,t,i,r,o,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new En(e,0,pt.min(),pt.min(),pt.min(),cr.empty(),0)}static newFoundDocument(e,t,i,r){return new En(e,1,t,pt.min(),i,r,0)}static newNoDocument(e,t){return new En(e,2,t,pt.min(),pt.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,pt.min(),pt.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class l3{constructor(e,t=null,i=[],r=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=f,this.ft=null}}function sR(n,e=null,t=[],i=[],r=null,o=null,u=null){return new l3(n,e,t,i,r,o,u)}function Fh(n){const e=Ge(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>OL(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),wb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>tg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>tg(i)).join(",")),e.ft=t}return e.ft}function Sb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AL(n.startAt,e.startAt)&&AL(n.endAt,e.endAt)}function BC(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function UC(n,e){return n.filters.filter(t=>t instanceof Yt&&t.field.isEqual(e))}function HL(n,e,t){let i=NC,r=!0;for(const o of UC(n,e)){let u=NC,f=!0;switch(o.op){case"<":case"<=":u=Qz(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,f=!1;break;case"!=":case"not-in":u=NC}DL({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];DL({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function jL(n,e,t){let i=vu,r=!0;for(const o of UC(n,e)){let u=vu,f=!0;switch(o.op){case">=":case">":u=Jz(o.value),f=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,f=!1;break;case"!=":case"not-in":u=vu}SL({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];SL({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Pl{constructor(e,t=null,i=[],r=[],o=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=g,this.dt=null,this._t=null}}function $L(n,e,t,i,r,o,u,f){return new Pl(n,e,t,i,r,o,u,f)}function sg(n){return new Pl(n)}function zL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function HC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function aR(n){return null!==n.collectionGroup}function Ph(n){const e=Ge(n);if(null===e.dt){e.dt=[];const t=HC(e),i=oR(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new ig(t)),e.dt.push(new ig(Kn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ig(Kn.keyField(),o))}}}return e.dt}function Nr(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=sR(e.path,e.collectionGroup,Ph(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Ph(e))t.push(new ig(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new wu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wu(e.startAt.position,e.startAt.inclusive):null;e._t=sR(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function lR(n,e){e.getFirstInequalityField(),HC(n);const t=n.filters.concat([e]);return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jC(n,e,t){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tb(n,e){return Sb(Nr(n),Nr(e))&&n.limitType===e.limitType}function GL(n){return`${Fh(Nr(n))}|lt:${n.limitType}`}function cR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>NL(i)).join(", ")}]`),wb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>tg(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>tg(i)).join(",")),`Target(${t})`}(Nr(n))}; limitType=${n.limitType})`}function uR(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ph(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const f=TL(r,o,u);return r.inclusive?f<=0:f<0}(t.startAt,Ph(t),i)||t.endAt&&!function(r,o,u){const f=TL(r,o,u);return r.inclusive?f>=0:f>0}(t.endAt,Ph(t),i)));var t,i}function WL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qL(n){return(e,t)=>{let i=!1;for(const r of Ph(n)){const o=c3(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function c3(n,e,t){const i=n.field.isKeyField()?je.comparator(e.key,t.key):function(r,o,u){const f=o.data.field(r),g=u.data.field(r);return null!==f&&null!==g?bu(f,g):Je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Je()}}function ZL(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eb(e)?"-0":e}}function KL(n){return{integerValue:""+n}}function YL(n,e){return bL(e)?KL(e):ZL(n,e)}class $C{constructor(){this._=void 0}}function u3(n,e,t){return n instanceof og?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Nh?QL(n,e):n instanceof Lh?JL(n,e):function(i,r){const o=XL(i,r),u=e2(o)+e2(i.gt);return iR(o)&&iR(i.gt)?KL(u):ZL(i.yt,u)}(n,e)}function d3(n,e,t){return n instanceof Nh?QL(n,e):n instanceof Lh?JL(n,e):t}function XL(n,e){return n instanceof ag?iR(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class og extends $C{}class Nh extends $C{constructor(e){super(),this.elements=e}}function QL(n,e){const t=t2(e);for(const i of n.elements)t.some(r=>Ma(r,i))||t.push(i);return{arrayValue:{values:t}}}class Lh extends $C{constructor(e){super(),this.elements=e}}function JL(n,e){let t=t2(e);for(const i of n.elements)t=t.filter(r=>!Ma(r,i));return{arrayValue:{values:t}}}class ag extends $C{constructor(e,t){super(),this.yt=e,this.gt=t}}function e2(n){return Yn(n.integerValue||n.doubleValue)}function t2(n){return Cb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ab{constructor(e,t){this.field=e,this.transform=t}}class f3{constructor(e,t){this.version=e,this.transformResults=t}}class On{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class GC{}function n2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cg(n.key,On.none()):new lg(n.key,n.data,On.none());{const t=n.data,i=cr.empty();let r=new pn(Kn.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Nl(n.key,i,new Ms(r.toArray()),On.none())}}function p3(n,e,t){n instanceof lg?function(i,r,o){const u=i.value.clone(),f=o2(i.fieldTransforms,r,o.transformResults);u.setAll(f),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Nl?function(i,r,o){if(!zC(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=o2(i.fieldTransforms,r,o.transformResults),f=r.data;f.setAll(s2(i)),f.setAll(u),r.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mb(n,e,t,i){return n instanceof lg?function(r,o,u,f){if(!zC(r.precondition,o))return u;const g=r.value.clone(),v=a2(r.fieldTransforms,f,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Nl?function(r,o,u,f){if(!zC(r.precondition,o))return u;const g=a2(r.fieldTransforms,f,o),v=o.data;return v.setAll(s2(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,t,i):(u=t,zC(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function m3(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=XL(i.transform,r||null);null!=o&&(null===t&&(t=cr.empty()),t.set(i.field,o))}return t||null}function r2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&eg(t,i,(r,o)=>function h3(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Nh&&i instanceof Nh||t instanceof Lh&&i instanceof Lh?eg(t.elements,i.elements,Ma):t instanceof ag&&i instanceof ag?Ma(t.gt,i.gt):t instanceof og&&i instanceof og);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class lg extends GC{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nl extends GC{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function s2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function o2(n,e,t){const i=new Map;ut(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,f=e.data.field(o.field);i.set(o.field,d3(u,f,t[r]))}return i}function a2(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,u3(o,u,e))}return i}class cg extends GC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends GC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g3{constructor(e){this.count=e}}var yi,tn;function l2(n){switch(n){default:return Je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function c2(n){if(void 0===n)return oi("GRPC error has no .code"),he.UNKNOWN;switch(n){case yi.OK:return he.OK;case yi.CANCELLED:return he.CANCELLED;case yi.UNKNOWN:return he.UNKNOWN;case yi.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case yi.INTERNAL:return he.INTERNAL;case yi.UNAVAILABLE:return he.UNAVAILABLE;case yi.UNAUTHENTICATED:return he.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case yi.NOT_FOUND:return he.NOT_FOUND;case yi.ALREADY_EXISTS:return he.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return he.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case yi.ABORTED:return he.ABORTED;case yi.OUT_OF_RANGE:return he.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return he.UNIMPLEMENTED;case yi.DATA_LOSS:return he.DATA_LOSS;default:return Je()}}(tn=yi||(yi={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mh(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return vL(this.inner)}size(){return this.innerSize}}const _3=new Xn(je.comparator);function ns(){return _3}const u2=new Xn(je.comparator);function kb(...n){let e=u2;for(const t of n)e=e.insert(t.key,t);return e}function d2(n){let e=u2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ka(){return Rb()}function h2(){return Rb()}function Rb(){return new Eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const y3=new Xn(je.comparator),v3=new pn(je.comparator);function jt(...n){let e=v3;for(const t of n)e=e.add(t);return e}const b3=new pn(Pt);function WC(){return b3}class Ob{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Fb.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ob(pt.min(),r,WC(),ns(),jt())}}class Fb{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fb(i,t,jt(),jt(),jt())}}class qC{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class f2{constructor(e,t){this.targetId=e,this.Et=t}}class p2{constructor(e,t,i=Mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class m2{constructor(){this.At=0,this.Rt=_2(),this.bt=Mi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=jt(),t=jt(),i=jt();return this.Rt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Je()}}),new Fb(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=_2()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class w3{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ns(),this.qt=g2(),this.Ut=new pn(Pt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const o=r.target;if(BC(o))if(0===i){const u=new je(o.path);this.Qt(t,u,En.newNoDocument(u,pt.min()))}else ut(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,u)=>{const f=this.Yt(u);if(f){if(o.current&&BC(f.target)){const g=new je(f.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,En.newNoDocument(g,e))}o.St&&(t.set(u,o.Ct()),o.xt())}});let i=jt();this.qt.forEach((o,u)=>{let f=!0;u.forEachWhile(g=>{const v=this.Yt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(e));const r=new Ob(e,t,this.Ut,this.Lt,i);return this.Lt=ns(),this.qt=g2(),this.Ut=new pn(Pt),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new m2,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new pn(Pt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new m2),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function g2(){return new Xn(je.comparator)}function _2(){return new Xn(je.comparator)}const E3={asc:"ASCENDING",desc:"DESCENDING"},x3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class C3{constructor(e,t){this.databaseId=e,this.wt=t}}function ug(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y2(n,e){return n.wt?e.toBase64():e.toUint8Array()}function D3(n,e){return ug(n,e.toTimestamp())}function ai(n){return ut(!!n),pt.fromTimestamp(function(e){const t=yu(e);return new Rn(t.seconds,t.nanos)}(n))}function hR(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function v2(n){const e=en.fromString(n);return ut(T2(e)),e}function Pb(n,e){return hR(n.databaseId,e.path)}function Ra(n,e){const t=v2(e);if(t.get(1)!==n.databaseId.projectId)throw new De(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(w2(t))}function fR(n,e){return hR(n.databaseId,e)}function b2(n){const e=v2(n);return 4===e.length?en.emptyPath():w2(e)}function Nb(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w2(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function E2(n,e,t){return{name:Pb(n,e),fields:t.value.mapValue.fields}}function x2(n,e,t){const i=Ra(n,e.name),r=ai(e.updateTime),o=e.createTime?ai(e.createTime):pt.min(),u=new cr({mapValue:{fields:e.fields}}),f=En.newFoundDocument(i,r,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Lb(n,e){let t;if(e instanceof lg)t={update:E2(n,e.key,e.value)};else if(e instanceof cg)t={delete:Pb(n,e.key)};else if(e instanceof Nl)t={update:E2(n,e.key,e.data),updateMask:F3(e.fieldMask)};else{if(!(e instanceof dR))return Je();t={verify:Pb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof og)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Nh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Lh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ag)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw Je()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:D3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Je()),t;var r}function pR(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?On.updateTime(ai(r.updateTime)):void 0!==r.exists?On.exists(r.exists):On.none():On.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let f=null;"setToServerValue"in u?(ut("REQUEST_TIME"===u.setToServerValue),f=new og):"appendMissingElements"in u?f=new Nh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Lh(u.removeAllFromArray.values||[]):"increment"in u?f=new ag(o,u.increment):Je();const g=Kn.fromServerFormat(u.fieldPath);return new Ab(g,f)}(n,r)):[];var r;if(e.update){const r=Ra(n,e.update.name),o=new cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ms((e.updateMask.fieldPaths||[]).map(v=>Kn.fromServerFormat(v)));return new Nl(r,o,u,t,i)}return new lg(r,o,t,i)}if(e.delete){const r=Ra(n,e.delete);return new cg(r,t)}if(e.verify){const r=Ra(n,e.verify);return new dR(r,t)}return Je()}function I2(n,e){return{documents:[fR(n,e.path)]}}function mR(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=fR(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fR(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return S2(dn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:dg((x=v).field),direction:k3(x.dir)};var x})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=(v=e.limit,n.wt||wb(v)?v:{value:v});var v,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function C2(n){let e=b2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ut(1===i);const x=t.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let o=[];t.where&&(o=function(x){const D=D2(x);return D instanceof dn&&kL(D)?D.getFilters():[D]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(x=>{return new ig(hg((D=x).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(x){let D;return D="object"==typeof x?x.value:x,wb(D)?null:D}(t.limit));let g=null;var x;t.startAt&&(g=new wu((x=t.startAt).values||[],!!x.before));let v=null;return t.endAt&&(v=function(x){return new wu(x.values||[],!x.before)}(t.endAt)),$L(e,r,u,o,f,"F",g,v)}function D2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hg(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=hg(e.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hg(e.unaryFilter.field);return Yt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hg(e.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?Yt.create(hg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return dn.create(e.compositeFilter.filters.map(t=>D2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function k3(n){return E3[n]}function R3(n){return x3[n]}function O3(n){return I3[n]}function dg(n){return{fieldPath:n.canonicalString()}}function hg(n){return Kn.fromServerFormat(n.fieldPath)}function S2(n){return n instanceof Yt?function(e){if("=="===e.op){if(IL(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NAN"}};if(xL(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(IL(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NAN"}};if(xL(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dg(e.field),op:R3(e.op),value:e.value}}}(n):n instanceof dn?function(e){const t=e.getFilters().map(i=>S2(i));return 1===t.length?t[0]:{compositeFilter:{op:O3(e.op),filters:t}}}(n):Je()}function F3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Lr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A2(e)),e=P3(n.get(t),e);return A2(e)}function P3(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function A2(n){return n+"\x01\x01"}function Oa(n){const e=n.length;if(ut(e>=2),2===e)return ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&Je(),n.charAt(u+1)){case"\x01":const f=n.substring(o,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:Je()}o=u+2}return new en(i)}const M2=["userId","batchId"];function ZC(n,e){return[n,Lr(e)]}function k2(n,e,t){return[n,Lr(e),t]}const N3={},L3=["prefixPath","collectionGroup","readTime","documentId"],V3=["prefixPath","collectionGroup","documentId"],B3=["collectionGroup","readTime","prefixPath","documentId"],U3=["canonicalId","targetId"],H3=["targetId","path"],j3=["path","targetId"],$3=["collectionId","parent"],z3=["indexId","uid"],G3=["uid","sequenceNumber"],W3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q3=["indexId","uid","orderedDocumentKey"],Z3=["userId","collectionPath","documentId"],K3=["userId","collectionPath","largestBatchId"],Y3=["userId","collectionGroup","largestBatchId"],R2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X3=[...R2,"documentOverlays"],O2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F2=O2,Q3=[...F2,"indexConfiguration","indexState","indexEntries"];class gR extends gL{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Ui(n,e){const t=Ge(n);return Vo.M(t.se,e)}class _R{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&p3(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=h2();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(r.key)?null:f;const g=n2(u,f);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&eg(this.mutations,e.mutations,(t,i)=>r2(t,i))&&eg(this.baseMutations,e.baseMutations,(t,i)=>r2(t,i))}}class yR{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ut(e.mutations.length===i.length);let r=y3;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new yR(e,t,i,r)}}class vR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xu{constructor(e,t,i,r,o=pt.min(),u=pt.min(),f=Mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class P2{constructor(e){this.ie=e}}function N2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Pb(r=n.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ug(r,o.version.toTimestamp()),createTime:ug(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Vh(e.version)};else{if(!e.isUnknownDocument())return Je();i.unknownDocument={path:t.path.toArray(),version:Vh(e.version)}}var r,o;return i}function KC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bh(n){const e=new Rn(n.seconds,n.nanoseconds);return pt.fromTimestamp(e)}function Uh(n,e){const t=(e.baseMutations||[]).map(o=>pR(n.ie,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(u.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const i=e.mutations.map(o=>pR(n.ie,o)),r=Rn.fromMillis(e.localWriteTimeMs);return new _R(e.batchId,r,t,i)}function Vb(n){const e=Bh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bh(n.lastLimboFreeSnapshotVersion):pt.min();let i;var r;return void 0!==n.query.documents?(ut(1===(r=n.query).documents.length),i=Nr(sg(b2(r.documents[0])))):i=Nr(C2(n.query)),new xu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Mi.fromBase64String(n.resumeToken))}function L2(n,e){const t=Vh(e.snapshotVersion),i=Vh(e.lastLimboFreeSnapshotVersion);let r;r=BC(e.target)?I2(n.ie,e.target):mR(n.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function bR(n){const e=C2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jC(e,e.limit,"L"):e}function wR(n,e){return new vR(e.largestBatchId,pR(n.ie,e.overlayMutation))}function V2(n,e){const t=e.path.lastSegment();return[n,Lr(e.path.popLast()),t]}function B2(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Vh(i.readTime),documentKey:Lr(i.documentKey.path),largestBatchId:i.largestBatchId}}class e6{getBundleMetadata(e,t){return U2(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return U2(e).put({bundleId:(i=t).id,createTime:Vh(ai(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return H2(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:bR(r.bundledQuery),readTime:Bh(r.readTime)};var r})}saveNamedQuery(e,t){return H2(e).put({name:(i=t).name,readTime:Vh(ai(i.readTime)),bundledQuery:i.bundledQuery});var i}}function U2(n){return Ui(n,"bundles")}function H2(n){return Ui(n,"namedQueries")}class YC{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new YC(e,t.uid||"")}getOverlay(e,t){return Bb(e).get(V2(this.userId,t)).next(i=>i?wR(this.yt,i):null)}getOverlays(e,t){const i=ka();return ue.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const f=new vR(t,u);r.push(this.oe(e,f))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Lr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Bb(e).Y("collectionPathOverlayIndex",f))}),ue.waitFor(o)}getOverlaysForCollection(e,t,i){const r=ka(),o=Lr(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Bb(e).W("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const v=wR(this.yt,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=ka();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bb(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,v,x)=>{const D=wR(this.yt,v);o.size()<r||D.largestBatchId===u?(o.set(D.getKey(),D),u=D.largestBatchId):x.done()}).next(()=>o)}oe(e,t){return Bb(e).put(function(i,r,o){const[u,f,g]=V2(r,o.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Lb(i.ie,o.mutation)}}(this.yt,this.userId,t))}}function Bb(n){return Ui(n,"documentOverlays")}class Hh{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Yn(e.integerValue));else if("doubleValue"in e){const i=Yn(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Eb(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(kh(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?CL(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Je()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),je.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function t6(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function j2(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=t6(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Hh.Ie=new Hh;class n6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=j2(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=j2(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class i6{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class r6{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Ub{constructor(){this.$e=new n6,this.Be=new i6(this.$e),this.Le=new r6(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class jh{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new jh(this.indexId,this.documentKey,this.arrayValue,i)}}function Iu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$2(n.arrayValue,e.arrayValue),0!==t?t:(t=$2(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function $2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class s6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){ut(e.collectionGroup===this.collectionId);const t=Xk(e);if(void 0!==t&&!this.We(t))return!1;const i=Th(e);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ke.length||!this.He(this.Ke[o++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function z2(n){var e,t;if(ut(n instanceof Yt||n instanceof dn),n instanceof Yt){if(n instanceof VL){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Yt.create(n.field,"==",o)))||[];return dn.create(r,"or")}return n}const i=n.filters.map(r=>z2(r));return dn.create(i,n.op)}function o6(n){if(0===n.getFilters().length)return[];const e=IR(z2(n));return ut(G2(e)),ER(e)||xR(e)?[e]:e.getFilters()}function ER(n){return n instanceof Yt}function xR(n){return n instanceof dn&&kL(n)}function G2(n){return ER(n)||xR(n)||function(e){if(e instanceof dn&&rR(e)){for(const t of e.getFilters())if(!ER(t)&&!xR(t))return!1;return!0}return!1}(n)}function IR(n){if(ut(n instanceof Yt||n instanceof dn),n instanceof Yt)return n;if(1===n.filters.length)return IR(n.filters[0]);const e=n.filters.map(i=>IR(i));let t=dn.create(e,n.op);return t=XC(t),G2(t)?t:(ut(t instanceof dn),ut(ng(t)),ut(t.filters.length>1),t.filters.reduce((i,r)=>CR(i,r)))}function CR(n,e){let t;return ut(n instanceof Yt||n instanceof dn),ut(e instanceof Yt||e instanceof dn),t=n instanceof Yt?e instanceof Yt?dn.create([n,e],"and"):W2(n,e):e instanceof Yt?W2(e,n):function(i,r){if(ut(i.filters.length>0&&r.filters.length>0),ng(i)&&ng(r))return PL(i,r.getFilters());const o=rR(i)?i:r,u=rR(i)?r:i,f=o.filters.map(g=>CR(g,u));return dn.create(f,"or")}(n,e),XC(t)}function W2(n,e){if(ng(e))return PL(e,n.getFilters());{const t=e.filters.map(i=>CR(n,i));return dn.create(t,"or")}}function XC(n){if(ut(n instanceof Yt||n instanceof dn),n instanceof Yt)return n;const e=n.getFilters();if(1===e.length)return XC(e[0]);if(RL(n))return n;const t=e.map(r=>XC(r)),i=[];return t.forEach(r=>{r instanceof Yt?i.push(r):r instanceof dn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:dn.create(i,n.op)}class a6{constructor(){this.Je=new DR}addToCollectionParentIndex(e,t){return this.Je.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ts.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class DR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new pn(en.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pn(en.comparator)).toArray()}}const QC=new Uint8Array(0);class l6{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new DR,this.Xe=new Eu(i=>Fh(i),(i,r)=>Sb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const o={collectionId:i,parent:Lr(r)};return q2(e).put(o)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[hL(t),""],!1,!0);return q2(e).W(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(Oa(u.parent))}return i})}addFieldIndex(e,t){const i=JC(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=jb(e);return o.next(f=>{u.put(B2(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=JC(e),r=jb(e),o=Hb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Hb(e);let r=!0;const o=new Map;return ue.forEach(this.Ze(t),u=>this.tn(e,u).next(f=>{r&&(r=!!f),o.set(u,f)})).next(()=>{if(r){let u=jt();const f=[];return ue.forEach(o,(g,v)=>{var x;Fe("IndexedDbIndexManager",`Using index ${x=g,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(rt=>`${rt.fieldPath}:${rt.kind}`).join(",")}`} to execute ${Fh(t)}`);const D=function(rt,st){const vt=Xk(st);if(void 0===vt)return null;for(const It of UC(rt,vt.fieldPath))switch(It.op){case"array-contains-any":return It.value.arrayValue.values||[];case"array-contains":return[It.value]}return null}(v,g),O=function(rt,st){const vt=new Map;for(const It of Th(st))for(const Qt of UC(rt,It.fieldPath))switch(Qt.op){case"==":case"in":vt.set(It.fieldPath.canonicalString(),Qt.value);break;case"not-in":case"!=":return vt.set(It.fieldPath.canonicalString(),Qt.value),Array.from(vt.values())}return null}(v,g),V=function(rt,st){const vt=[];let It=!0;for(const Qt of Th(st)){const Hr=0===Qt.kind?HL(rt,Qt.fieldPath,rt.startAt):jL(rt,Qt.fieldPath,rt.startAt);vt.push(Hr.value),It&&(It=Hr.inclusive)}return new wu(vt,It)}(v,g),$=function(rt,st){const vt=[];let It=!0;for(const Qt of Th(st)){const Hr=0===Qt.kind?jL(rt,Qt.fieldPath,rt.endAt):HL(rt,Qt.fieldPath,rt.endAt);vt.push(Hr.value),It&&(It=Hr.inclusive)}return new wu(vt,It)}(v,g),ee=this.en(g,v,V),fe=this.en(g,v,$),Ve=this.nn(g,v,O),Ze=this.sn(g.indexId,D,ee,V.inclusive,fe,$.inclusive,Ve);return ue.forEach(Ze,rt=>i.J(rt,t.limit).next(st=>{st.forEach(vt=>{const It=je.fromSegments(vt.documentKey);u.has(It)||(u=u.add(It),f.push(It))})}))}).next(()=>f)}return ue.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:o6(dn.create(e.filters,"and")).map(i=>sR(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,o,u,f){const g=(null!=t?t.length:1)*Math.max(i.length,o.length),v=g/(null!=t?t.length:1),x=[];for(let D=0;D<g;++D){const O=t?this.rn(t[D/v]):QC,V=this.on(e,O,i[D%v],r),$=this.un(e,O,o[D%v],u),ee=f.map(fe=>this.on(e,O,fe,!0));x.push(...this.createRange(V,$,ee))}return x}on(e,t,i,r){const o=new jh(e,je.empty(),t,i);return r?o:o.Ue()}un(e,t,i,r){const o=new jh(e,je.empty(),t,i);return r?o.Ue():o}tn(e,t){const i=new s6(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const f of o)i.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return ue.forEach(r,o=>this.tn(e,o).next(u=>{u?0!==i&&u.fields.length<function(f){let g=new pn(Kn.comparator),v=!1;for(const x of f.filters)for(const D of x.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:g=g.add(D.field));for(const x of f.orderBy)x.field.isKeyField()||(g=g.add(x.field));return g.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new Ub;for(const r of Th(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Hh.Ie.ue(o,u)}return i.Fe()}rn(e){const t=new Ub;return Hh.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new Ub;return Hh.Ie.ue(Oh(this.databaseId,t),i.qe(function(r){const o=Th(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new Ub);let o=0;for(const u of Th(e)){const f=i[o++];for(const g of r)if(this.hn(t,u.fieldPath)&&Cb(f))r=this.ln(r,u,f);else{const v=g.qe(u.kind);Hh.Ie.ue(f,v)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const f of r){const g=new Ub;g.seed(f.Fe()),Hh.Ie.ue(u,g.qe(t.kind)),o.push(g)}return o}hn(e,t){return!!e.filters.find(i=>i instanceof Yt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=JC(e),r=jb(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const u=[];return ue.forEach(o,f=>r.get([f.indexId,this.uid]).next(g=>{u.push(function(v,x){const D=x?new vb(x.sequenceNumber,new Ts(Bh(x.readTime),new je(Oa(x.documentKey)),x.largestBatchId)):vb.empty(),O=v.fields.map(([V,$])=>new FC(Kn.fromServerFormat(V),$));return new OC(v.indexId,v.collectionGroup,O,D)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Pt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=JC(e),o=jb(e);return this.dn(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ue.forEach(f,g=>o.put(B2(g.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ue.forEach(f,g=>this._n(e,r,g).next(v=>{const x=this.wn(o,g);return v.isEqual(x)?ue.resolve():this.mn(e,o,g,v,x)}))))})}gn(e,t,i,r){return Hb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return Hb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=Hb(e);let o=new pn(Iu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(u,f)=>{o=o.add(new jh(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}wn(e,t){let i=new pn(Iu);const r=this.cn(t,e);if(null==r)return i;const o=Xk(t);if(null!=o){const u=e.data.field(o.fieldPath);if(Cb(u))for(const f of u.arrayValue.values||[])i=i.add(new jh(t.indexId,e.key,this.rn(f),r))}else i=i.add(new jh(t.indexId,e.key,QC,r));return i}mn(e,t,i,r,o){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,v,x,D){const O=f.getIterator(),V=g.getIterator();let $=rg(O),ee=rg(V);for(;$||ee;){let fe=!1,Ve=!1;if($&&ee){const Ze=v($,ee);Ze<0?Ve=!0:Ze>0&&(fe=!0)}else null!=$?Ve=!0:fe=!0;fe?(x(ee),ee=rg(V)):Ve?(D($),$=rg(O)):($=rg(O),ee=rg(V))}}(r,o,Iu,f=>{u.push(this.gn(e,t,i,f))},f=>{u.push(this.yn(e,t,i,f))}),ue.waitFor(u)}dn(e){let t=1;return jb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Iu(u,f)).filter((u,f,g)=>!f||0!==Iu(u,g[f-1]));const r=[];r.push(e);for(const u of i){const f=Iu(u,e),g=Iu(u,t);if(0===f)r[0]=e.Ue();else if(f>0&&g<0)r.push(u),r.push(u.Ue());else if(g>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,QC,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,QC,[]]))}return o}pn(e,t){return Iu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Z2)}getMinOffset(e,t){return ue.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||Je())).next(Z2)}}function q2(n){return Ui(n,"collectionParents")}function Hb(n){return Ui(n,"indexEntries")}function JC(n){return Ui(n,"indexConfiguration")}function jb(n){return Ui(n,"indexState")}function Z2(n){ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Qk(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Ts(e.readTime,e.documentKey,t)}const K2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new is(e,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Y2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=i.Z({range:u},(x,D,O)=>(f++,O.delete()));o.push(g.next(()=>{ut(1===f)}));const v=[];for(const x of t.mutations){const D=k2(e,x.key.path,t.batchId);o.push(r.delete(D)),v.push(x.key)}return ue.waitFor(o).next(()=>v)}function eD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class tD{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){ut(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new tD(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=fg(e),u=Cu(e);return u.add({}).next(f=>{ut("number"==typeof f);const g=new _R(f,t,i,r),v=function(O,V,$){const ee=$.baseMutations.map(Ve=>Lb(O.ie,Ve)),fe=$.mutations.map(Ve=>Lb(O.ie,Ve));return{userId:V,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:fe}}(this.yt,this.userId,g),x=[];let D=new pn((O,V)=>Pt(O.canonicalString(),V.canonicalString()));for(const O of r){const V=k2(this.userId,O.key.path,f);D=D.add(O.key.path.popLast()),x.push(u.put(v)),x.push(o.put(V,N3))}return D.forEach(O=>{x.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),ue.waitFor(x).next(()=>g)})}lookupMutationBatch(e,t){return Cu(e).get(t).next(i=>i?(ut(i.userId===this.userId),Uh(this.yt,i)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Cu(e).Z({index:"userMutationsIndex",range:r},(u,f,g)=>{f.userId===this.userId&&(ut(f.batchId>=i),o=Uh(this.yt,f)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).W("userMutationsIndex",t).next(i=>i.map(r=>Uh(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ZC(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return fg(e).Z({range:r},(u,f,g)=>{const[v,x,D]=u,O=Oa(x);if(v===this.userId&&t.path.isEqual(O))return Cu(e).get(D).next(V=>{if(!V)throw Je();ut(V.userId===this.userId),o.push(Uh(this.yt,V))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pn(Pt);const r=[];return t.forEach(o=>{const u=ZC(this.userId,o.path),f=IDBKeyRange.lowerBound(u),g=fg(e).Z({range:f},(v,x,D)=>{const[O,V,$]=v,ee=Oa(V);O===this.userId&&o.path.isEqual(ee)?i=i.add($):D.done()});r.push(g)}),ue.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=ZC(this.userId,i),u=IDBKeyRange.lowerBound(o);let f=new pn(Pt);return fg(e).Z({range:u},(g,v,x)=>{const[D,O,V]=g,$=Oa(O);D===this.userId&&i.isPrefixOf($)?$.length===r&&(f=f.add(V)):x.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Cu(e).get(o).next(u=>{if(null===u)throw Je();ut(u.userId===this.userId),i.push(Uh(this.yt,u))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Y2(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return fg(e).Z({range:i},(o,u,f)=>{if(o[0]===this.userId){const g=Oa(o[1]);r.push(g)}else f.done()}).next(()=>{ut(0===r.length)})})}containsKey(e,t){return X2(e,this.userId,t)}Rn(e){return Q2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function X2(n,e,t){const i=ZC(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return fg(n).Z({range:o,X:!0},(f,g,v)=>{const[x,D,O]=f;x===e&&D===r&&(u=!0),v.done()}).next(()=>u)}function Cu(n){return Ui(n,"mutations")}function fg(n){return Ui(n,"documentMutations")}function Q2(n){return Ui(n,"mutationQueues")}class $h{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new $h(0)}static vn(){return new $h(-1)}}class c6{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new $h(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>pt.fromTimestamp(new Rn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(ut(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return pg(e).Z((u,f)=>{const g=Vb(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(e,g)))}).next(()=>ue.waitFor(o)).next(()=>r)}forEachTarget(e,t){return pg(e).Z((i,r)=>{const o=Vb(r);t(o)})}Vn(e){return J2(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}Sn(e,t){return J2(e).put("targetGlobalKey",t)}Dn(e,t){return pg(e).put(L2(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Fh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return pg(e).Z({range:r,index:"queryTargetsIndex"},(u,f,g)=>{const v=Vb(f);Sb(t,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Du(e);return t.forEach(u=>{const f=Lr(u.path);r.push(o.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=Du(e);return ue.forEach(t,o=>{const u=Lr(o.path);return ue.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Du(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Du(e);let o=jt();return r.Z({range:i,X:!0},(u,f,g)=>{const v=Oa(u[1]),x=new je(v);o=o.add(x)}).next(()=>o)}containsKey(e,t){const i=Lr(t.path),r=IDBKeyRange.bound([i],[hL(i)],!1,!0);let o=0;return Du(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}ne(e,t){return pg(e).get(t).next(i=>i?Vb(i):null)}}function pg(n){return Ui(n,"targets")}function J2(n){return Ui(n,"targetGlobal")}function Du(n){return Ui(n,"targetDocuments")}function eV([n,e],[t,i]){const r=Pt(n,t);return 0===r?Pt(e,i):r}class u6{constructor(e){this.xn=e,this.buffer=new pn(eV),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();eV(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){gu(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield mu(i)}yield t.Fn(3e5)}))}}class h6{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(As.at);const i=new u6(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(K2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K2):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,o,u,f,g,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,u=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,f=Date.now(),this.removeTargets(e,i,t))).next(D=>(o=D,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),Kk()<=bs.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-x}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${o} targets in `+(g-f)+`ms\n\tRemoved ${D} documents in `+(v-g)+`ms\nTotal Duration: ${v-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class f6{constructor(e,t){this.db=e,this.garbageCollector=new h6(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return nD(e,i)}removeReference(e,t,i){return nD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return nD(e,t)}Gn(e,t){return function(i,r){let o=!1;return Q2(i).tt(u=>X2(i,u,r).next(f=>(f&&(o=!0),ue.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(e,(u,f)=>{if(f<=t){const g=this.Gn(e,u).next(v=>{if(!v)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,pt.min()),Du(e).delete([0,Lr(u.path)])))});r.push(g)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return nD(e,t)}Kn(e,t){const i=Du(e);let r,o=As.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:v})=>{0===u?(o!==As.at&&t(new je(Oa(r)),o),o=v,r=g):o=As.at}).next(()=>{o!==As.at&&t(new je(Oa(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nD(n,e){return Du(n).put((i=n.currentSequenceNumber,{targetId:0,path:Lr(e.path),sequenceNumber:i}));var i}class tV{constructor(){this.changes=new Eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p6{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return zh(e).put(i)}removeEntry(e,t,i){return zh(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],KC(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=En.newInvalidDocument(t);return zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($b(t))},(r,o)=>{i=this.jn(t,o)}).next(()=>i)}Wn(e,t){let i={size:0,document:En.newInvalidDocument(t)};return zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($b(t))},(r,o)=>{i={document:this.jn(t,o),size:eD(o)}}).next(()=>i)}getEntries(e,t){let i=ns();return this.zn(e,t,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=ns(),r=new Xn(je.comparator);return this.zn(e,t,(o,u)=>{const f=this.jn(o,u);i=i.insert(o,f),r=r.insert(o,eD(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ue.resolve();let r=new pn(sV);t.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound($b(r.first()),$b(r.last())),u=r.getIterator();let f=u.getNext();return zh(e).Z({index:"documentKeyIndex",range:o},(g,v,x)=>{const D=je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&sV(f,D)<0;)i(f,null),f=u.getNext();f&&f.isEqual(D)&&(i(f,v),f=u.hasNext()?u.getNext():null),f?x.j($b(f)):x.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),KC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zh(e).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let f=ns();for(const g of u){const v=this.jn(je.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,i,r){let o=ns();const u=rV(t,i),f=rV(t,Ts.max());return zh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,v,x)=>{const D=this.jn(je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(D.key,D),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(e){return new m6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return iV(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Qn(e,t){return iV(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function J3(n,e){let t;if(e.document)t=x2(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=je.fromSegments(e.noDocument.path),r=Bh(e.noDocument.readTime);t=En.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const i=je.fromSegments(e.unknownDocument.path),r=Bh(e.unknownDocument.version);t=En.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Rn(i[0],i[1]);return pt.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(pt.min()))return i}return En.newInvalidDocument(e)}}function nV(n){return new p6(n)}class m6 extends tV{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Eu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new pn((o,u)=>Pt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,f.readTime)),u.isValidDocument()){const g=N2(this.Yn.yt,u);r=r.add(o.path.popLast());const v=eD(g);i+=v-f.size,t.push(this.Yn.addEntry(e,o,g))}else if(i-=f.size,this.trackRemovals){const g=N2(this.Yn.yt,u.convertToNoDocument(pt.min()));t.push(this.Yn.addEntry(e,o,g))}}),r.forEach(o=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Yn.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function iV(n){return Ui(n,"remoteDocumentGlobal")}function zh(n){return Ui(n,"remoteDocumentsV14")}function $b(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rV(n,e){const t=e.documentKey.path.toArray();return[n,KC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sV(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Pt(t[o],i[o]),r)return r;return r=Pt(t.length,i.length),r||(r=Pt(t[t.length-2],i[i.length-2]),r||Pt(t[t.length-1],i[i.length-1]))}class g6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oV{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Mb(i.mutation,r,Ms.empty(),Rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=jt()){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=kb();return o.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,jt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let o=ns();const u=Rb(),f=Rb();return t.forEach((g,v)=>{const x=i.get(v.key);r.has(v.key)&&(void 0===x||x.mutation instanceof Nl)?o=o.insert(v.key,v):void 0!==x&&(u.set(v.key,x.mutation.getFieldMask()),Mb(x.mutation,v,x.mutation.getFieldMask(),Rn.now()))}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((v,x)=>u.set(v,x)),t.forEach((v,x)=>{var D;return f.set(v,new g6(x,null!==(D=u.get(v))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Rb();let r=new Xn((u,f)=>u-f),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let x=i.get(g)||Ms.empty();x=f.applyToLocalView(v,x),i.set(g,x);const D=(r.get(f.batchId)||jt()).add(g);r=r.insert(f.batchId,D)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,x=g.value,D=h2();x.forEach(O=>{if(!o.has(O)){const V=n2(t.get(O),i.get(O));null!==V&&D.set(O,V),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,D))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):aR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ue.resolve(ka());let f=-1,g=o;return u.next(v=>ue.forEach(v,(x,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),o.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(e,x).next(O=>{g=g.insert(x,O)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,g,v,jt())).next(x=>({batchId:f,changes:d2(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(i=>{let r=kb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=kb();return this.indexManager.getCollectionParents(e,r).next(u=>ue.forEach(u,f=>{const g=(v=t,x=f.child(r),new Pl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((x,D)=>{o=o.insert(x,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(o=>{o.forEach((f,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,En.newInvalidDocument(v)))});let u=kb();return r.forEach((f,g)=>{const v=o.get(f);void 0!==v&&Mb(v.mutation,g,Ms.empty(),Rn.now()),uR(t,g)&&(u=u.insert(f,g))}),u})}}class _6{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:ai(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:bR(i.bundledQuery),readTime:ai(i.readTime)}),ue.resolve();var i}}class y6{constructor(){this.overlays=new Xn(je.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ka();return ue.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.oe(e,t,o)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=ka(),o=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Xn((v,x)=>v-x);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let x=o.get(v.largestBatchId);null===x&&(x=ka(),o=o.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=ka(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=r)););return ue.resolve(f)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new vR(t,i));let o=this.es.get(t);void 0===o&&(o=jt(),this.es.set(t,o)),this.es.set(t,o.add(i.key))}}class SR{constructor(){this.ns=new pn(Hi.ss),this.rs=new pn(Hi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Hi(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Hi(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new je(new en([])),i=new Hi(t,e),r=new Hi(t,e+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new je(new en([])),i=new Hi(t,e),r=new Hi(t,e+1);let o=jt();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Hi(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return je.comparator(e.key,t.key)||Pt(e._s,t._s)}static os(e,t){return Pt(e._s,t._s)||je.comparator(e.key,t.key)}}class v6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new pn(Hi.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.ws;this.ws++;const u=new _R(o,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new Hi(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),o=r<0?0:r;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hi(t,0),r=new Hi(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);o.push(f)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pn(Pt);return t.forEach(r=>{const o=new Hi(r,0),u=new Hi(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],f=>{i=i.add(f._s)})}),ue.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;je.isDocumentKey(o)||(o=o.child(""));const u=new Hi(new je(o),0);let f=new pn(Pt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g._s)),!0)},u),ue.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ue.forEach(t.mutations,r=>{const o=new Hi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Hi(t,0),r=this.gs.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class b6{constructor(e){this.Es=e,this.docs=new Xn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=ns();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():En.newInvalidDocument(r))}),ue.resolve(i)}getAllFromCollection(e,t,i){let r=ns();const o=new je(t.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Qk(pL(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ue.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Je()}As(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new w6(this)}getSize(e){return ue.resolve(this.size)}}class w6 extends tV{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class E6{constructor(e){this.persistence=e,this.Rs=new Eu(t=>Fh(t),Sb),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new SR,this.targetCount=0,this.vs=$h.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ue.waitFor(o).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),ue.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class aV{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new As(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new E6(this),this.indexManager=new a6,this.remoteDocumentCache=new b6(i=>this.referenceDelegate.xs(i)),this.yt=new P2(t),this.Ns=new _6(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new v6(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new x6(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(e,t){return ue.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class x6 extends gL{constructor(e){super(),this.currentSequenceNumber=e}}class iD{constructor(e){this.persistence=e,this.Fs=new SR,this.$s=null}static Bs(e){return new iD(e)}get Ls(){if(this.$s)return this.$s;throw Je()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,i=>{const r=je.fromPath(i);return this.qs(e,r).next(o=>{o||t.removeEntry(r,pt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class I6{constructor(e){this.yt=e}$(e,t,i,r){const o=new PC("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M2,{unique:!0}),f.createObjectStore("documentMutations"),lV(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),lV(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M2,{unique:!0});const x=g.store("mutations"),D=v.map(O=>x.put(O));return ue.waitFor(D)})}(e,o))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Us(o))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Z3});g.createIndex("collectionPathOverlayIndex",K3,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Y3,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:L3});g.createIndex("documentKeyIndex",V3),g.createIndex("collectionGroupIndex",B3)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,o))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:z3}).createIndex("sequenceNumberIndex",G3,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:W3}).createIndex("documentKeyIndex",q3,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=eD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ue.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>ue.forEach(f,g=>{ut(g.userId===o.userId);const v=Uh(this.yt,g);return Y2(e,o.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,f)=>{const g=new en(u),v=[0,Lr(g)];o.push(t.get(v).next(x=>x?ue.resolve():t.put({targetId:0,path:Lr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(o))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$3});const i=t.store("collectionParents"),r=new DR,o=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:Lr(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const g=new en(u);return o(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,g],v)=>{const x=Oa(f);return o(x.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const o=Vb(r),u=L2(this.yt,o);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const f=t.store("remoteDocumentsV14"),g=(v=u,v.document?new je(en.fromString(v.document.name).popFirst(5)):v.noDocument?je.fromSegments(v.noDocument.path):v.unknownDocument?je.fromSegments(v.unknownDocument.path):Je()).path.toArray();var v;const x={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(x))}).next(()=>ue.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=nV(this.yt),o=new aV(iD.Bs,this.yt.ie);return i.W().next(u=>{const f=new Map;return u.forEach(g=>{var v;let x=null!==(v=f.get(g.userId))&&void 0!==v?v:jt();Uh(this.yt,g).keys().forEach(D=>x=x.add(D)),f.set(g.userId,x)}),ue.forEach(f,(g,v)=>{const x=new Bi(v),D=YC.re(this.yt,x),O=o.getIndexManager(x),V=tD.re(x,this.yt,O,o.referenceDelegate);return new oV(r,V,D,O).recalculateAndSaveOverlaysForDocumentKeys(new gR(t,As.at),g).next()})})}}function lV(n){n.createObjectStore("targetDocuments",{keyPath:H3}).createIndex("documentTargetsIndex",j3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",U3,{unique:!0}),n.createObjectStore("targetGlobal")}const TR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class AR{constructor(e,t,i,r,o,u,f,g,v,x,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=o,this.window=u,this.document=f,this.Js=v,this.Ys=x,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!AR.C())throw new De(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f6(this,r),this.ii=t+"main",this.yt=new P2(g),this.ri=new Vo(this.ii,this.Xs,new I6(this.yt)),this.Cs=new c6(this.referenceDelegate,this.yt),this.remoteDocumentCache=nV(this.yt),this.Ns=new e6,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===x&&oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(he.FAILED_PRECONDITION,TR);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new As(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,X.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,X.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(gu(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return zb(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return rD(e).delete(this.clientId)}yi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ui(i,"clientMetadata");return r.W().next(o=>{const u=e.Ii(o,18e5),f=o.filter(g=>-1===u.indexOf(g));return ue.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):zb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new De(he.FAILED_PRECONDITION,TR);return!1}}return!(!this.networkEnabled||!this.inForeground)||rD(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new gR(t,As.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rD(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return tD.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l6(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return YC.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.Xs)?Q3:14===u?F2:13===u?O2:12===u?X3:11===u?R2:void Je();var u;let f;return this.ri.runTransaction(e,r,o,g=>(f=new gR(g,this.Ss?this.Ss.next():As.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw oi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new De(he.FAILED_PRECONDITION,mL);return i(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return zb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new De(he.FAILED_PRECONDITION,TR)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zb(e).put("owner",t)}static C(){return Vo.C()}_i(e){const t=zb(e);return t.get("owner").next(i=>this.mi(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(oi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,it.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return oi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){oi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zb(n){return Ui(n,"owner")}function rD(n){return Ui(n,"clientMetadata")}function MR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kR{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=jt(),r=jt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new kR(e,t.fromCache,i,r)}}class cV{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(o=>o||this.Oi(e,t,r,i)).next(o=>o||this.Mi(e,t))}ki(e,t){if(zL(t))return ue.resolve(null);let i=Nr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jC(t,null,"F"),i=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=jt(...o);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.Fi(t,f);return this.$i(t,v,u,g.readTime)?this.ki(e,jC(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,i,r){return zL(t)||r.isEqual(pt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(o=>{const u=this.Fi(t,o);return this.$i(t,u,i,r)?this.Mi(e,t):(Kk()<=bs.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cR(t)),this.Bi(e,u,t,fL(r,-1)))})}Fi(e,t){let i=new pn(qL(e));return t.forEach((r,o)=>{uR(e,o)&&(i=i.add(o))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(e,t){return Kk()<=bs.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",cR(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ts.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class C6{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Xn(Pt),this.Ui=new Eu(o=>Fh(o),Sb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function uV(n,e,t,i){return new C6(n,e,t,i)}function dV(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,X.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],f=[];let g=jt();for(const v of r){u.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}for(const v of o){f.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:f}))})})}),RR.apply(this,arguments)}function D6(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,v){const x=g.batch,D=x.keys();let O=ue.resolve();return D.forEach(V=>{O=O.next(()=>v.getEntry(f,V)).next($=>{const ee=g.docVersions.get(V);ut(null!==ee),$.version.compareTo(ee)<0&&(x.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(f,x))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=jt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function hV(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function S6(n,e){const t=Ge(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const f=[];e.targetChanges.forEach((x,D)=>{const O=r.get(D);if(!O)return;f.push(t.Cs.removeMatchingKeys(o,x.removedDocuments,D).next(()=>t.Cs.addMatchingKeys(o,x.addedDocuments,D)));let V=O.withSequenceNumber(o.currentSequenceNumber);var $,ee,fe;e.targetMismatches.has(D)?V=V.withResumeToken(Mi.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):x.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(x.resumeToken,i)),r=r.insert(D,V),ee=V,fe=x,(0===($=O).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(o,V))});let g=ns(),v=jt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,x))}),f.push(fV(o,u,e.documentUpdates).next(x=>{g=x.Wi,v=x.zi})),!i.isEqual(pt.min())){const x=t.Cs.getLastRemoteSnapshotVersion(o).next(D=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(x)}return ue.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(t.qi=r,o))}function fV(n,e,t){let i=jt(),r=jt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=ns();return t.forEach((f,g)=>{const v=o.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(pt.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function T6(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mg(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(o=>o?(r=o,ue.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new xu(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function gg(n,e,t){return OR.apply(this,arguments)}function OR(){return OR=(0,X.Z)(function*(n,e,t){const i=Ge(n),r=i.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!gu(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),OR.apply(this,arguments)}function sD(n,e,t){const i=Ge(n);let r=pt.min(),o=jt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,v){const x=Ge(f),D=x.Ui.get(v);return void 0!==D?ue.resolve(x.qi.get(D)):x.Cs.getTargetData(g,v)}(i,u,Nr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{o=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:pt.min(),t?o:jt())).next(f=>(gV(i,WL(e),f),{documents:f,Hi:o})))}function pV(n,e){const t=Ge(n),i=Ge(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,e).next(u=>u?u.target:null))}function mV(n,e){const t=Ge(n),i=t.Ki.get(e)||pt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,fL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(gV(t,e,r),r))}function gV(n,e,t){let i=n.Ki.get(e)||pt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(e,i)}function FR(){return FR=(0,X.Z)(function*(n,e,t,i){const r=Ge(n);let o=jt(),u=ns();for(const v of t){const x=e.Ji(v.metadata.name);v.document&&(o=o.add(x));const D=e.Yi(v);D.setReadTime(e.Xi(v.metadata.readTime)),u=u.insert(x,D)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield mg(r,(v=i,Nr(sg(en.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>fV(v,f,u).next(x=>(f.apply(v),x)).next(x=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,x.Wi,x.zi)).next(()=>x.Wi)))}),FR.apply(this,arguments)}function M6(n,e){return PR.apply(this,arguments)}function PR(){return PR=(0,X.Z)(function*(n,e,t=jt()){const i=yield mg(n,Nr(bR(e.bundledQuery))),r=Ge(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=ai(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,e);const f=i.withResumeToken(Mi.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(f.targetId,f),r.Cs.updateTargetData(o,f).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,e))})}),PR.apply(this,arguments)}function _V(n,e){return`firestore_clients_${n}_${e}`}function yV(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function NR(n,e){return`firestore_targets_${n}_${e}`}class oD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new De(r.error.code,r.error.message))),u?new oD(e,t,r.state,o):(oi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new De(i.error.code,i.error.message))),o?new Gb(e,i.state,r):(oi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=WC();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=bL(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new aD(e,o):(oi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LR{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LR(t.clientId,t.onlineState):(oi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VR{constructor(){this.activeTargetIds=WC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(e,t,i,r,o){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(Pt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=_V(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new VR),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const o=e.getItem(_V(e.persistenceKey,r));if(o){const u=aD.Zi(r,o);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(NR(this.persistenceKey,e));if(i){const r=Gb.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(NR(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(o){let u=As.at;if(null!=o)try{const f=JSON.parse(o);ut("number"==typeof f),u=f}catch(f){oi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==As.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Mr(o)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new oD(this.currentUser,e,t,i),o=yV(this.persistenceKey,this.currentUser,e);this.setItem(o,r.tr())}Er(e){const t=yV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=NR(this.persistenceKey,e),o=new Gb(e,t,i);this.setItem(r,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return aD.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return oD.Zi(new Bi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Gb.Zi(r,t)}yr(e){return LR.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),o=this.Ir(i),u=[],f=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||f.push(g)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=WC();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class vV{constructor(){this.Lr=new VR,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new VR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k6{Ur(e){}shutdown(){}}class bV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O6{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class F6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,o){const u=this.ho(e,t);Fe("RestConnection","Sending: ",u,i);const f={};return this.lo(f,r,o),this.fo(e,u,f,i).then(g=>(Fe("RestConnection","Received: ",g),g),g=>{throw Sh("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}_o(e,t,i,r,o,u){return this.ao(e,t,i,r,o)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}ho(e,t){return`${this.oo}/v1/${t}:${R6[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((o,u)=>{const f=new Rz;f.setWithCredentials(!0),f.listenOnce(Az.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Zk.NO_ERROR:const v=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(v)),o(v);break;case Zk.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new De(he.DEADLINE_EXCEEDED,"Request time out"));break;case Zk.HTTP_ERROR:const x=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){let D=f.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D?.error;if(O&&O.status&&O.message){const V=function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ee)>=0?ee:he.UNKNOWN}(O.status);u(new De(V,O.message))}else u(new De(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new De(he.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sz(),u=Tz(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new kz({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=r.join("");Fe("Connection","Creating WebChannel: "+g,f);const v=o.createWebChannel(g,f);let x=!1,D=!1;const O=new O6({Hr:$=>{D?Fe("Connection","Not sending because WebChannel is closed:",$):(x||(Fe("Connection","Opening WebChannel transport."),v.open(),x=!0),Fe("Connection","WebChannel sending:",$),v.send($))},Jr:()=>v.close()}),V=($,ee,fe)=>{$.listen(ee,Ve=>{try{fe(Ve)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return V(v,RC.EventType.OPEN,()=>{D||Fe("Connection","WebChannel transport opened.")}),V(v,RC.EventType.CLOSE,()=>{D||(D=!0,Fe("Connection","WebChannel transport closed"),O.io())}),V(v,RC.EventType.ERROR,$=>{D||(D=!0,Sh("Connection","WebChannel transport errored:",$),O.io(new De(he.UNAVAILABLE,"The operation could not be completed")))}),V(v,RC.EventType.MESSAGE,$=>{var ee;if(!D){const fe=$.data[0];ut(!!fe);const Ve=fe,Ze=Ve.error||(null===(ee=Ve[0])||void 0===ee?void 0:ee.error);if(Ze){Fe("Connection","WebChannel received error:",Ze);const rt=Ze.status;let st=function(It){const Qt=yi[It];if(void 0!==Qt)return c2(Qt)}(rt),vt=Ze.message;void 0===st&&(st=he.INTERNAL,vt="Unknown error status: "+rt+" with message "+Ze.message),D=!0,O.io(new De(st,vt)),v.close()}else Fe("Connection","WebChannel received:",fe),O.ro(fe)}}),V(u,Mz.STAT_EVENT,$=>{$.stat===aL.PROXY?Fe("Connection","Detected buffering proxy"):$.stat===aL.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function wV(){return typeof window<"u"?window:null}function lD(){return typeof document<"u"?document:null}function Wb(n){return new C3(n,!0)}class UR{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class EV{constructor(e,t,i,r,o,u,f,g){this.Hs=e,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new UR(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,X.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,X.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,X.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new De(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,X.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P6 extends EV{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function T3(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Je(),r=e.targetChange.targetIds||[],o=function(g,v){return g.wt?(ut(void 0===v||"string"==typeof v),Mi.fromBase64String(v||"")):(ut(void 0===v||v instanceof Uint8Array),Mi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=void 0===g.code?he.UNKNOWN:c2(g.code);return new De(v,g.message||"")}(u);t=new p2(i,r,o,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ra(n,i.document.name),o=ai(i.document.updateTime),u=i.document.createTime?ai(i.document.createTime):pt.min(),f=new cr({mapValue:{fields:i.document.fields}}),g=En.newFoundDocument(r,o,u,f);t=new qC(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=Ra(n,i.document),o=i.readTime?ai(i.readTime):pt.min(),u=En.newNoDocument(r,o);t=new qC([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Ra(n,i.document);t=new qC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Je();{const i=e.filter,o=new g3(i.count||0);t=new f2(i.targetId,o)}}var g;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return pt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?ai(o.readTime):pt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Nb(this.yt),t.addTarget=function(r,o){let u;const f=o.target;return u=BC(f)?{documents:I2(r,f)}:{query:mR(r,f)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=y2(r,o.resumeToken):o.snapshotVersion.compareTo(pt.min())>0&&(u.readTime=ug(r,o.snapshotVersion.toTimestamp())),u}(this.yt,e);const i=function M3(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Nb(this.yt),t.removeTarget=e,this.Bo(t)}}class N6 extends EV{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function A3(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(i,r){let o=ai(i.updateTime?i.updateTime:r);return o.isEqual(pt.min())&&(o=ai(r)),new f3(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.Zo(i,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Nb(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Lb(this.yt,i))};this.Bo(t)}}class L6 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new De(he.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new De(he.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(he.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class B6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(oi(t),this.ou=!1):Fe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class U6{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(f=>{i.enqueueAndForget((0,X.Z)(function*(){var g;Ll(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,X.Z)(function*(v){const x=Ge(v);x._u.add(4),yield _g(x),x.gu.set("Unknown"),x._u.delete(4),yield qb(x)}),function(v){return g.apply(this,arguments)})(u))}))}),this.gu=new B6(i,r)}}function qb(n){return jR.apply(this,arguments)}function jR(){return jR=(0,X.Z)(function*(n){if(Ll(n))for(const e of n.wu)yield e(!0)}),jR.apply(this,arguments)}function _g(n){return $R.apply(this,arguments)}function $R(){return $R=(0,X.Z)(function*(n){for(const e of n.wu)yield e(!1)}),$R.apply(this,arguments)}function cD(n,e){const t=Ge(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),WR(t)?GR(t):vg(t).ko()&&zR(t,e))}function Zb(n,e){const t=Ge(n),i=vg(t);t.du.delete(e),i.ko()&&xV(t,e),0===t.du.size&&(i.ko()?i.Fo():Ll(t)&&t.gu.set("Unknown"))}function zR(n,e){n.yu.Ot(e.targetId),vg(n).zo(e)}function xV(n,e){n.yu.Ot(e),vg(n).Ho(e)}function GR(n){n.yu=new w3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),vg(n).start(),n.gu.uu()}function WR(n){return Ll(n)&&!vg(n).No()&&n.du.size>0}function Ll(n){return 0===Ge(n)._u.size}function IV(n){n.yu=void 0}function H6(n){return qR.apply(this,arguments)}function qR(){return qR=(0,X.Z)(function*(n){n.du.forEach((e,t)=>{zR(n,e)})}),qR.apply(this,arguments)}function j6(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,X.Z)(function*(n,e){IV(n),WR(n)?(n.gu.hu(e),GR(n)):n.gu.set("Unknown")}),ZR.apply(this,arguments)}function $6(n,e,t){return KR.apply(this,arguments)}function KR(){return KR=(0,X.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof p2&&2===e.state&&e.cause)try{yield(i=(0,X.Z)(function*(r,o){const u=o.cause;for(const f of o.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield uD(n,i)}else if(e instanceof qC?n.yu.Kt(e):e instanceof f2?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(pt.min()))try{const i=yield hV(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.Zt(o);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.du.get(g);v&&r.du.set(g,v.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach(f=>{const g=r.du.get(f);if(!g)return;r.du.set(f,g.withResumeToken(Mi.EMPTY_BYTE_STRING,g.snapshotVersion)),xV(r,f);const v=new xu(g.target,f,1,g.sequenceNumber);zR(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield uD(n,i)}var i}),KR.apply(this,arguments)}function uD(n,e,t){return YR.apply(this,arguments)}function YR(){return YR=(0,X.Z)(function*(n,e,t){if(!gu(e))throw e;n._u.add(1),yield _g(n),n.gu.set("Offline"),t||(t=()=>hV(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield qb(n)}))}),YR.apply(this,arguments)}function CV(n,e){return e().catch(t=>uD(n,t,e))}function yg(n){return XR.apply(this,arguments)}function XR(){return XR=(0,X.Z)(function*(n){const e=Ge(n),t=Su(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;z6(e);)try{const r=yield T6(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,G6(e,r)}catch(r){yield uD(e,r)}DV(e)&&SV(e)}),XR.apply(this,arguments)}function z6(n){return Ll(n)&&n.fu.length<10}function G6(n,e){n.fu.push(e);const t=Su(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function DV(n){return Ll(n)&&!Su(n).No()&&n.fu.length>0}function SV(n){Su(n).start()}function W6(n){return QR.apply(this,arguments)}function QR(){return QR=(0,X.Z)(function*(n){Su(n).eu()}),QR.apply(this,arguments)}function q6(n){return JR.apply(this,arguments)}function JR(){return JR=(0,X.Z)(function*(n){const e=Su(n);for(const t of n.fu)e.Xo(t.mutations)}),JR.apply(this,arguments)}function Z6(n,e,t){return e1.apply(this,arguments)}function e1(){return e1=(0,X.Z)(function*(n,e,t){const i=n.fu.shift(),r=yR.from(i,e,t);yield CV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yg(n)}),e1.apply(this,arguments)}function K6(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,X.Z)(function*(n,e){var t;e&&Su(n).Yo&&(yield(t=(0,X.Z)(function*(i,r){if(l2(o=r.code)&&o!==he.ABORTED){const u=i.fu.shift();Su(i).Mo(),yield CV(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield yg(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),DV(n)&&SV(n)}),t1.apply(this,arguments)}function TV(n,e){return n1.apply(this,arguments)}function n1(){return n1=(0,X.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Ll(t);t._u.add(3),yield _g(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield qb(t)}),n1.apply(this,arguments)}function r1(n,e){return s1.apply(this,arguments)}function s1(){return s1=(0,X.Z)(function*(n,e){const t=Ge(n);e?(t._u.delete(2),yield qb(t)):e||(t._u.add(2),yield _g(t),t.gu.set("Unknown"))}),s1.apply(this,arguments)}function vg(n){return n.pu||(n.pu=function(e,t,i){const r=Ge(e);return r.su(),new P6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:H6.bind(null,n),Zr:j6.bind(null,n),Wo:$6.bind(null,n)}),n.wu.push(function(){var e=(0,X.Z)(function*(t){t?(n.pu.Mo(),WR(n)?GR(n):n.gu.set("Unknown")):(yield n.pu.stop(),IV(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Su(n){return n.Iu||(n.Iu=function(e,t,i){const r=Ge(e);return r.su(),new N6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:W6.bind(null,n),Zr:K6.bind(null,n),tu:q6.bind(null,n),Zo:Z6.bind(null,n)}),n.wu.push(function(){var e=(0,X.Z)(function*(t){t?(n.Iu.Mo(),yield yg(n)):(yield n.Iu.stop(),n.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class o1{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,f=new o1(e,t,u,r,o);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(n,e){if(oi("AsyncQueue",`${e}: ${n}`),gu(n))return new De(he.UNAVAILABLE,`${e}: ${n}`);throw n}class wg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||je.comparator(t.key,i.key):(t,i)=>je.comparator(t.key,i.key),this.keyedMap=kb(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new wg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new wg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class AV{constructor(){this.Tu=new Xn(je.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Eg{constructor(e,t,i,r,o,u,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Eg(e,t,wg.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Y6{constructor(){this.Au=void 0,this.listeners=[]}}class X6{constructor(){this.queries=new Eu(e=>GL(e),Tb),this.onlineState="Unknown",this.Ru=new Set}}function a1(n,e){return l1.apply(this,arguments)}function l1(){return l1=(0,X.Z)(function*(n,e){const t=Ge(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Y6),r)try{o.Au=yield t.onListen(i)}catch(u){const f=bg(u,`Initialization of query '${cR(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&d1(t)}),l1.apply(this,arguments)}function c1(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,X.Z)(function*(n,e){const t=Ge(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),u1.apply(this,arguments)}function Q6(n,e){const t=Ge(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&d1(t)}function J6(n,e,t){const i=Ge(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function d1(n){n.Ru.forEach(e=>{e.next()})}class h1{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Eg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Eg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class eG{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class MV{constructor(e){this.yt=e}Ji(e){return Ra(this.yt,e)}Yi(e){return e.metadata.exists?x2(this.yt,e.document,!1):En.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ai(e)}}class tG{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kV(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=en.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new MV(this.yt);for(const r of e)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||jt()).add(o);t.set(u,f)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function A6(n,e,t,i){return FR.apply(this,arguments)}(e.localStore,new MV(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield M6(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function kV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class RV{constructor(e){this.key=e}}class OV{constructor(e){this.key=e}}class FV{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=jt(),this.mutatedKeys=jt(),this.Gu=qL(e),this.Qu=new wg(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new AV,r=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,D)=>{const O=r.get(x),V=uR(this.query,D)?D:null,$=!!O&&this.mutatedKeys.has(O.key),ee=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let fe=!1;O&&V?O.data.isEqual(V.data)?$!==ee&&(i.track({type:3,doc:V}),fe=!0):this.Hu(O,V)||(i.track({type:2,doc:V}),fe=!0,(g&&this.Gu(V,g)>0||v&&this.Gu(V,v)<0)&&(f=!0)):!O&&V?(i.track({type:0,doc:V}),fe=!0):O&&!V&&(i.track({type:1,doc:O}),fe=!0,(g||v)&&(f=!0)),fe&&(V?(u=u.add(V),o=ee?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const x="F"===this.query.limitType?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{Qu:u,zu:i,$i:f,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((v,x)=>function(D,O){const V=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return V(D)-V(O)}(v.type,x.type)||this.Gu(v.doc,x.doc)),this.Ju(i);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,g=f!==this.Uu;return this.Uu=f,0!==o.length||g?{snapshot:new Eg(this.query,e.Qu,r,o,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new AV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=jt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new OV(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new RV(i))}),t}tc(e){this.qu=e.Hi,this.Ku=jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Eg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class nG{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iG{constructor(e){this.key=e,this.nc=!1}}class rG{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Eu(f=>GL(f),Tb),this.rc=new Map,this.oc=new Set,this.uc=new Xn(je.comparator),this.cc=new Map,this.ac=new SR,this.hc={},this.lc=new Map,this.fc=$h.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function sG(n,e){return f1.apply(this,arguments)}function f1(){return f1=(0,X.Z)(function*(n,e){const t=N1(n);let i,r;const o=t.ic.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield mg(t.localStore,Nr(e));t.isPrimaryClient&&cD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield p1(t,e,i,"current"===f,u.resumeToken)}return r}),f1.apply(this,arguments)}function p1(n,e,t,i,r){return m1.apply(this,arguments)}function m1(){return m1=(0,X.Z)(function*(n,e,t,i,r){n._c=(D,O,V)=>{return($=(0,X.Z)(function*(ee,fe,Ve,Ze){let rt=fe.view.Wu(Ve);rt.$i&&(rt=yield sD(ee.localStore,fe.query,!1).then(({documents:It})=>fe.view.Wu(It,rt)));const st=Ze&&Ze.targetChanges.get(fe.targetId),vt=fe.view.applyChanges(rt,ee.isPrimaryClient,st);return C1(ee,fe.targetId,vt.Xu),vt.snapshot}),function(ee,fe,Ve,Ze){return $.apply(this,arguments)})(n,D,O,V);var $};const o=yield sD(n.localStore,e,!0),u=new FV(e,o.Hi),f=u.Wu(o.documents),g=Fb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(f,n.isPrimaryClient,g);C1(n,t,v.Xu);const x=new nG(e,t,u);return n.ic.set(e,x),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),m1.apply(this,arguments)}function oG(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,X.Z)(function*(n,e){const t=Ge(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(o=>!Tb(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Zb(t.remoteStore,i.targetId),xg(t,i.targetId)}).catch(mu))):(xg(t,i.targetId),yield gg(t.localStore,i.targetId,!0))}),g1.apply(this,arguments)}function _1(){return _1=(0,X.Z)(function*(n,e,t){const i=L1(n);try{const r=yield function(o,u){const f=Ge(o),g=Rn.now(),v=u.reduce((O,V)=>O.add(V.key),jt());let x,D;return f.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=ns(),$=jt();return f.Gi.getEntries(O,v).next(ee=>{V=ee,V.forEach((fe,Ve)=>{Ve.isValidDocument()||($=$.add(fe))})}).next(()=>f.localDocuments.getOverlayedDocuments(O,V)).next(ee=>{x=ee;const fe=[];for(const Ve of u){const Ze=m3(Ve,x.get(Ve.key).overlayedDocument);null!=Ze&&fe.push(new Nl(Ve.key,Ze,UL(Ze.value.mapValue),On.exists(!0)))}return f.mutationQueue.addMutationBatch(O,g,fe,u)}).next(ee=>{D=ee;const fe=ee.applyToLocalDocumentSet(x,$);return f.documentOverlayCache.saveOverlays(O,ee.batchId,fe)})}).then(()=>({batchId:D.batchId,changes:d2(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,f){let g=o.hc[o.currentUser.toKey()];g||(g=new Xn(Pt)),g=g.insert(u,f),o.hc[o.currentUser.toKey()]=g}(i,r.batchId,t),yield Vl(i,r.changes),yield yg(i.remoteStore)}catch(r){const o=bg(r,"Failed to persist write");t.reject(o)}}),_1.apply(this,arguments)}function PV(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,X.Z)(function*(n,e){const t=Ge(n);try{const i=yield S6(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.cc.get(o);u&&(ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?ut(u.nc):r.removedDocuments.size>0&&(ut(u.nc),u.nc=!1))}),yield Vl(t,i,e)}catch(i){yield mu(i)}}),y1.apply(this,arguments)}function NV(n,e,t){const i=Ge(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((o,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(o,u){const f=Ge(o);f.onlineState=u;let g=!1;f.queries.forEach((v,x)=>{for(const D of x.listeners)D.bu(u)&&(g=!0)}),g&&d1(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lG(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,X.Z)(function*(n,e,t){const i=Ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),o=r&&r.key;if(o){let u=new Xn(je.comparator);u=u.insert(o,En.newNoDocument(o,pt.min()));const f=jt().add(o),g=new Ob(pt.min(),new Map,new pn(Pt),u,f);yield PV(i,g),i.uc=i.uc.remove(o),i.cc.delete(e),D1(i)}else yield gg(i.localStore,e,!1).then(()=>xg(i,e,t)).catch(mu)}),v1.apply(this,arguments)}function cG(n,e){return b1.apply(this,arguments)}function b1(){return b1=(0,X.Z)(function*(n,e){const t=Ge(n),i=e.batch.batchId;try{const r=yield D6(t.localStore,e);I1(t,i,null),x1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Vl(t,r)}catch(r){yield mu(r)}}),b1.apply(this,arguments)}function uG(n,e,t){return w1.apply(this,arguments)}function w1(){return w1=(0,X.Z)(function*(n,e,t){const i=Ge(n);try{const r=yield function(o,u){const f=Ge(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,u).next(x=>(ut(null!==x),v=x.keys(),f.mutationQueue.removeMutationBatch(g,x))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);I1(i,e,t),x1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Vl(i,r)}catch(r){yield mu(r)}}),w1.apply(this,arguments)}function E1(){return E1=(0,X.Z)(function*(n,e){const t=Ge(n);Ll(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Ge(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=bg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),E1.apply(this,arguments)}function x1(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function I1(n,e,t){const i=Ge(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||LV(n,i)})}function LV(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Zb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),D1(n))}function C1(n,e,t){for(const i of t)i instanceof RV?(n.ac.addReference(i.key,e),hG(n,i)):i instanceof OV?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||LV(n,i.key)):Je()}function hG(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.oc.add(i),D1(n))}function D1(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new je(en.fromString(e)),i=n.fc.next();n.cc.set(i,new iG(t)),n.uc=n.uc.insert(t,i),cD(n.remoteStore,new xu(Nr(sg(t.path)),i,2,As.at))}}function Vl(n,e,t){return S1.apply(this,arguments)}function S1(){return S1=(0,X.Z)(function*(n,e,t){const i=Ge(n),r=[],o=[],u=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,g)=>{u.push(i._c(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const x=kR.Ci(g.targetId,v);o.push(x)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(f=(0,X.Z)(function*(g,v){const x=Ge(g);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ue.forEach(v,O=>ue.forEach(O.Si,V=>x.persistence.referenceDelegate.addReference(D,O.targetId,V)).next(()=>ue.forEach(O.Di,V=>x.persistence.referenceDelegate.removeReference(D,O.targetId,V)))))}catch(D){if(!gu(D))throw D;Fe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const O=D.targetId;if(!D.fromCache){const V=x.qi.get(O),ee=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);x.qi=x.qi.insert(O,ee)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,o))}),S1.apply(this,arguments)}function fG(n,e){return T1.apply(this,arguments)}function T1(){return T1=(0,X.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield dV(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new De(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Vl(t,i.ji)}var r}),T1.apply(this,arguments)}function pG(n,e){const t=Ge(n),i=t.cc.get(e);if(i&&i.nc)return jt().add(i.key);{let r=jt();const o=t.rc.get(e);if(!o)return r;for(const u of o){const f=t.ic.get(u);r=r.unionWith(f.view.ju)}return r}}function mG(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,X.Z)(function*(n,e){const t=Ge(n),i=yield sD(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&C1(t,e.targetId,r.Xu),r}),A1.apply(this,arguments)}function gG(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,X.Z)(function*(n,e){const t=Ge(n);return mV(t.localStore,e).then(i=>Vl(t,i))}),M1.apply(this,arguments)}function _G(n,e,t,i){return k1.apply(this,arguments)}function k1(){return k1=(0,X.Z)(function*(n,e,t,i){const r=Ge(n),o=yield function(u,f){const g=Ge(u),v=Ge(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Tn(x,f).next(D=>D?g.localDocuments.getDocuments(x,D):ue.resolve(null)))}(r.localStore,e);var f;null!==o?("pending"===t?yield yg(r.remoteStore):"acknowledged"===t||"rejected"===t?(I1(r,e,i||null),x1(r,e),f=e,Ge(Ge(r.localStore).mutationQueue).An(f)):Je(),yield Vl(r,o)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),k1.apply(this,arguments)}function R1(){return R1=(0,X.Z)(function*(n,e){const t=Ge(n);if(N1(t),L1(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield VV(t,i.toArray());t.dc=!0,yield r1(t.remoteStore,!0);for(const o of r)cD(t.remoteStore,o)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(xg(t,u),gg(t.localStore,u,!0))),Zb(t.remoteStore,u)}),yield r,yield VV(t,i),function(o){const u=Ge(o);u.cc.forEach((f,g)=>{Zb(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Xn(je.comparator)}(t),t.dc=!1,yield r1(t.remoteStore,!1)}}),R1.apply(this,arguments)}function VV(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,X.Z)(function*(n,e,t){const i=Ge(n),r=[],o=[];for(const u of e){let f;const g=i.rc.get(u);if(g&&0!==g.length){f=yield mg(i.localStore,Nr(g[0]));for(const v of g){const x=i.ic.get(v),D=yield mG(i,x);D.snapshot&&o.push(D.snapshot)}}else{const v=yield pV(i.localStore,u);f=yield mg(i.localStore,v),yield p1(i,BV(v),u,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(o),r}),O1.apply(this,arguments)}function BV(n){return $L(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vG(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).vi()}function bG(n,e,t,i){return F1.apply(this,arguments)}function F1(){return F1=(0,X.Z)(function*(n,e,t,i){const r=Ge(n);if(r.dc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield mV(r.localStore,WL(o[0])),f=Ob.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Mi.EMPTY_BYTE_STRING);yield Vl(r,u,f);break}case"rejected":yield gg(r.localStore,e,!0),xg(r,e,i);break;default:Je()}}),F1.apply(this,arguments)}function wG(n,e,t){return P1.apply(this,arguments)}function P1(){return P1=(0,X.Z)(function*(n,e,t){const i=N1(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const o=yield pV(i.localStore,r),u=yield mg(i.localStore,o);yield p1(i,BV(o),u.targetId,!1,u.resumeToken),cD(i.remoteStore,u)}for(const r of t)i.rc.has(r)&&(yield gg(i.localStore,r,!1).then(()=>{Zb(i.remoteStore,r),xg(i,r)}).catch(mu))}}),P1.apply(this,arguments)}function N1(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lG.bind(null,e),e.sc.Wo=Q6.bind(null,e.eventManager),e.sc.wc=J6.bind(null,e.eventManager),e}function L1(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uG.bind(null,e),e}class UV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.yt=Wb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return uV(this.persistence,new cV,e.initialUser,this.yt)}yc(e){return new aV(iD.Bs,this.yt)}gc(e){return new vV}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HV extends UV{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield L1(i.Ac.syncEngine),yield yg(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return uV(this.persistence,new cV,e.initialUser,this.yt)}Tc(e,t){return new d6(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new Zz(t,this.persistence);return new qz(e.asyncQueue,i)}yc(e){const t=MR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new AR(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,wV(),lD(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new vV}}class xG extends HV{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof BR&&(i.sharedClientState.syncEngine={Fr:_G.bind(null,r),$r:bG.bind(null,r),Br:wG.bind(null,r),vi:vG.bind(null,r),Mr:gG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,X.Z)(function*(u){yield function yG(n,e){return R1.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(e){const t=wV();if(!BR.C(t))throw new De(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=MR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BR(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class V1{initialize(e,t){var i=this;return(0,X.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>NV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fG.bind(null,i.syncEngine),yield r1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new X6}createDatastore(e){const t=Wb(e.databaseInfo.databaseId),i=new F6(e.databaseInfo);return new L6(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=f=>NV(this.syncEngine,f,0),u=bV.C()?new bV:new k6,new U6(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,f,g,v){const x=new rG(i,r,o,u,f,g);return v&&(x.dc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const i=Ge(t);Fe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield _g(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function B1(n,e,t){if(!t)throw new De(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jV(n,e,t,i){if(!0===e&&!0===i)throw new De(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $V(n){if(!je.isDocumentKey(n))throw new De(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zV(n){if(je.isDocumentKey(n))throw new De(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dD(n);throw new De(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GV(n,e){if(e<=0)throw new De(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const WV=new Map;class qV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new De(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Pz;switch(t.type){case"gapi":return new Bz(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new De(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WV.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),WV.delete(e),t.terminate())}(this),Promise.resolve()}}function ZV(n,e,t,i={}){var r;const o=(n=Xt(n,Kb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Sh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Bi.MOCK_USER;else{u=(0,it.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new De(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bi(g)}n._authCredentials=new Nz(new cL(u,f))}}class xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class ur{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ur(this.firestore,e,this._query)}}class Fa extends ur{constructor(e,t,i){super(e,t,sg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new je(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function KV(n,e,...t){if(n=(0,it.m9)(n),B1("collection","path",e),n instanceof Kb){const i=en.fromString(e,...t);return zV(i),new Fa(n,null,i)}{if(!(n instanceof xn||n instanceof Fa))throw new De(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return zV(i),new Fa(n.firestore,null,i)}}function hD(n,e,...t){if(n=(0,it.m9)(n),1===arguments.length&&(e=dL.R()),B1("doc","path",e),n instanceof Kb){const i=en.fromString(e,...t);return $V(i),new xn(n,null,new je(i))}{if(!(n instanceof xn||n instanceof Fa))throw new De(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(e,...t));return $V(i),new xn(n.firestore,n instanceof Fa?n.converter:null,new je(i))}}function YV(n,e){return n=(0,it.m9)(n),e=(0,it.m9)(e),(n instanceof xn||n instanceof Fa)&&(e instanceof xn||e instanceof Fa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function U1(n,e){return n=(0,it.m9)(n),e=(0,it.m9)(e),n instanceof ur&&e instanceof ur&&n.firestore===e.firestore&&Tb(n._query,e._query)&&n.converter===e.converter}function XV(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CG{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Ai,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const o=yield e.Cc(r);return new eG(JSON.parse(o),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,X.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class TG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new De(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,X.Z)(function*(o,u){const f=Ge(o),g=Nb(f.yt)+"/documents",v={documents:u.map(V=>Pb(f.yt,V))},x=yield f._o("BatchGetDocuments",g,v,u.length),D=new Map;x.forEach(V=>{const $=function S3(n,e){return"found"in e?function(t,i){ut(!!i.found);const r=Ra(t,i.found.name),o=ai(i.found.updateTime),u=i.found.createTime?ai(i.found.createTime):pt.min(),f=new cr({mapValue:{fields:i.found.fields}});return En.newFoundDocument(r,o,u,f)}(n,e):"missing"in e?function(t,i){ut(!!i.missing),ut(!!i.readTime);const r=Ra(t,i.missing),o=ai(i.readTime);return En.newNoDocument(r,o)}(n,e):Je()}(f.yt,V);D.set($.key.toString(),$)});const O=[];return u.forEach(V=>{const $=D.get(V.toString());ut(!!$),O.push($)}),O}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new cg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=je.fromPath(r);e.mutations.push(new dR(o,e.precondition(o)))}),yield(i=(0,X.Z)(function*(r,o){const u=Ge(r),f=Nb(u.yt)+"/documents",g={writes:o.map(v=>Lb(u.yt,v))};yield u.ao("Commit",f,g)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=pt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new De(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pt.min())?On.exists(!1):On.updateTime(t):On.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pt.min()))throw new De(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(t)}return On.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class AG{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new UR(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,X.Z)(function*(){const t=new TG(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Fc(o)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!wb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!l2(t)}return!1}}class MG{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Bi.UNAUTHENTICATED,this.clientId=dL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,X.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=bg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function QV(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,X.Z)(function*(o){i.isEqual(o)||(yield dV(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),H1.apply(this,arguments)}function JV(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $1(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>TV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>TV(e.remoteStore,o)),n.onlineComponents=e}),j1.apply(this,arguments)}function $1(n){return z1.apply(this,arguments)}function z1(){return z1=(0,X.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield QV(n,new UV)),n.offlineComponents}),z1.apply(this,arguments)}function pD(n){return G1.apply(this,arguments)}function G1(){return G1=(0,X.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield JV(n,new V1)),n.onlineComponents}),G1.apply(this,arguments)}function eB(n){return $1(n).then(e=>e.persistence)}function mD(n){return $1(n).then(e=>e.localStore)}function W1(n){return pD(n).then(e=>e.remoteStore)}function q1(n){return pD(n).then(e=>e.syncEngine)}function Ig(n){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,X.Z)(function*(n){const e=yield pD(n),t=e.eventManager;return t.onListen=sG.bind(null,e.syncEngine),t.onUnlisten=oG.bind(null,e.syncEngine),t}),Z1.apply(this,arguments)}function nB(n,e,t={}){const i=new Ai;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(r,o,u,f,g){const v=new fD({next:D=>{o.enqueueAndForget(()=>c1(r,x));const O=D.docs.has(u);!O&&D.fromCache?g.reject(new De(he.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&D.fromCache&&f&&"server"===f.source?g.reject(new De(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),x=new h1(sg(u.path),v,{includeMetadataChanges:!0,Nu:!0});return a1(r,x)}(yield Ig(n),n.asyncQueue,e,t,i)})),i.promise}function iB(n,e,t={}){const i=new Ai;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(r,o,u,f,g){const v=new fD({next:D=>{o.enqueueAndForget(()=>c1(r,x)),D.fromCache&&"server"===f.source?g.reject(new De(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),x=new h1(u,v,{includeMetadataChanges:!0,Nu:!0});return a1(r,x)}(yield Ig(n),n.asyncQueue,e,t,i)})),i.promise}class VG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new UR(this,"async_queue_retry"),this.Wc=()=>{const t=lD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=lD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=lD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ai;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,X.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!gu(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,oi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=o1.createAndSchedule(this,e,t,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&Je()}verifyOperationInProgress(){}Xc(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function K1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class BG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class In extends Kb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new VG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rB(this),this._firestoreClient.terminate()}}function HG(n,e){const t="object"==typeof n?n:(0,Gt.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Gt._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,it.P0)("firestore");o&&ZV(r,...o)}return r}function li(n){return n._firestoreClient||rB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rB(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kz(n._databaseId,o,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var o,f;n._firestoreClient=new MG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function sB(n,e,t){const i=new Ai;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield QV(n,t),yield JV(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;Sh("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function oB(n){if(n._initialized||n._terminated)throw new De(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(Mi.fromBase64String(e))}catch(t){throw new De(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pa(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class gD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const YG=/^__.*__$/;class XG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new lg(e,this.data,t,this.fieldTransforms)}}class aB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Nl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class _D{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new _D(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(lB(this.sa)&&YG.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class QG{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||Wb(e)}da(e,t,i,r=!1){return new _D({sa:e,methodName:t,fa:i,path:Kn.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Wh(n){const e=n._freezeSettings(),t=Wb(n._databaseId);return new QG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yD(n,e,t,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,e,t,r);J1("Data must be an object, but it was:",u,i);const f=dB(i,u);let g,v;if(o.merge)g=new Ms(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const D of o.mergeFields){const O=eO(e,D,t);if(!u.contains(O))throw new De(he.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);fB(x,O)||x.push(O)}g=new Ms(x),v=u.fieldTransforms.filter(D=>g.covers(D.field))}else g=null,v=u.fieldTransforms;return new XG(new cr(f),g,v)}class Yb extends Gh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yb}}function cB(n,e,t){return new _D({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Y1 extends Gh{_toFieldTransform(e){return new Ab(e.path,new og)}isEqual(e){return e instanceof Y1}}class JG extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cB(this,e,!0),i=this._a.map(o=>qh(o,t)),r=new Nh(i);return new Ab(e.path,r)}isEqual(e){return this===e}}class e4 extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cB(this,e,!0),i=this._a.map(o=>qh(o,t)),r=new Lh(i);return new Ab(e.path,r)}isEqual(e){return this===e}}class t4 extends Gh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ag(e.yt,YL(e.yt,this.wa));return new Ab(e.path,t)}isEqual(e){return this===e}}function X1(n,e,t,i){const r=n.da(1,e,t);J1("Data must be an object, but it was:",r,i);const o=[],u=cr.empty();Mh(i,(g,v)=>{const x=vD(e,g,t);v=(0,it.m9)(v);const D=r.ca(x);if(v instanceof Yb)o.push(x);else{const O=qh(v,D);null!=O&&(o.push(x),u.set(x,O))}});const f=new Ms(o);return new aB(u,f,r.fieldTransforms)}function Q1(n,e,t,i,r,o){const u=n.da(1,e,t),f=[eO(e,i,t)],g=[r];if(o.length%2!=0)throw new De(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)f.push(eO(e,o[O])),g.push(o[O+1]);const v=[],x=cr.empty();for(let O=f.length-1;O>=0;--O)if(!fB(v,f[O])){const V=f[O];let $=g[O];$=(0,it.m9)($);const ee=u.ca(V);if($ instanceof Yb)v.push(V);else{const fe=qh($,ee);null!=fe&&(v.push(V),x.set(V,fe))}}const D=new Ms(v);return new aB(x,D,u.fieldTransforms)}function uB(n,e,t,i=!1){return qh(t,n.da(i?4:3,e))}function qh(n,e){if(hB(n=(0,it.m9)(n)))return J1("Unsupported field value:",e,n),dB(n,e);if(n instanceof Gh)return function(t,i){if(!lB(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let f=qh(u,i.aa(o));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,it.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return YL(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Rn.fromDate(t);return{timestampValue:ug(i.yt,r)}}if(t instanceof Rn){const r=new Rn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ug(i.yt,r)}}if(t instanceof gD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pa)return{bytesValue:y2(i.yt,t._byteString)};if(t instanceof xn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hR(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${dD(t)}`)}(n,e)}function dB(n,e){const t={};return vL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mh(n,(i,r)=>{const o=qh(r,e.ra(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function hB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof gD||n instanceof Pa||n instanceof xn||n instanceof Gh)}function J1(n,e,t){if(!hB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=dD(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function eO(n,e,t){if((e=(0,it.m9)(e))instanceof Bl)return e._internalPath;if("string"==typeof e)return vD(n,e);throw bD("Field path arguments must be of type string or ",n,!1,void 0,t)}const n4=new RegExp("[~\\*/\\[\\]]");function vD(n,e,t){if(e.search(n4)>=0)throw bD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bl(...e.split("."))._internalPath}catch{throw bD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bD(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new De(he.INVALID_ARGUMENT,f+n+g)}function fB(n,e){return n.some(t=>t.isEqual(e))}class Xb{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new i4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class i4 extends Xb{data(){return super.data()}}function wD(n,e){return"string"==typeof e?vD(n,e):e instanceof Bl?e._internalPath:e._delegate._internalPath}function pB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new De(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tO{}class Qb extends tO{}function Tu(n,e,...t){let i=[];e instanceof tO&&i.push(e),i=i.concat(t),function(r){const o=r.filter(f=>f instanceof Cg).length,u=r.filter(f=>f instanceof Jb).length;if(o>1||o>0&&u>0)throw new De(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Jb extends Qb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Jb(e,t,i)}_apply(e){const t=this._parse(e);return yB(e._query,t),new ur(e.firestore,e.converter,lR(e._query,t))}_parse(e){const t=Wh(e.firestore);return function(r,o,u,f,g,v,x){let D;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new De(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){_B(x,v);const O=[];for(const V of x)O.push(gB(f,r,V));D={arrayValue:{values:O}}}else D=gB(f,r,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||_B(x,v),D=uB(u,"where",x,"in"===v||"not-in"===v);return Yt.create(g,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends tO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const f of u)yB(o,f),o=lR(o,f)}(e._query,t),new ur(e.firestore,e.converter,lR(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nO extends Qb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nO(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new De(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new De(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ig(r,o);return function(f,g){if(null===oR(f)){const v=HC(f);null!==v&&vB(0,v,g.field)}}(i,u),u}(e._query,this._field,this._direction);return new ur(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Pl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class ED extends Qb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ED(e,t,i)}_apply(e){return new ur(e.firestore,e.converter,jC(e._query,this._limit,this._limitType))}}class xD extends Qb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new xD(e,t,i)}_apply(e){const t=mB(e,this.type,this._docOrFields,this._inclusive);return new ur(e.firestore,e.converter,(r=t,new Pl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ID extends Qb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new ID(e,t,i)}_apply(e){const t=mB(e,this.type,this._docOrFields,this._inclusive);return new ur(e.firestore,e.converter,(r=t,new Pl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function mB(n,e,t,i){if(t[0]=(0,it.m9)(t[0]),t[0]instanceof Xb)return function(r,o,u,f,g){if(!f)throw new De(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const x of Ph(r))if(x.field.isKeyField())v.push(Oh(o,f.key));else{const D=f.data.field(x.field);if(tR(D))throw new De(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const O=x.field.canonicalString();throw new De(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(D)}return new wu(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Wh(n.firestore);return function(o,u,f,g,v,x){const D=o.explicitOrderBy;if(v.length>D.length)throw new De(he.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<v.length;V++){const $=v[V];if(D[V].field.isKeyField()){if("string"!=typeof $)throw new De(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof $}`);if(!aR(o)&&-1!==$.indexOf("/"))throw new De(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${$}' contains a slash.`);const ee=o.path.child(en.fromString($));if(!je.isDocumentKey(ee))throw new De(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const fe=new je(ee);O.push(Oh(u,fe))}else{const ee=uB(f,g,$);O.push(ee)}}return new wu(O,x)}(n._query,n.firestore._databaseId,r,e,t,i)}}function gB(n,e,t){if("string"==typeof(t=(0,it.m9)(t))){if(""===t)throw new De(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aR(e)&&-1!==t.indexOf("/"))throw new De(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(en.fromString(t));if(!je.isDocumentKey(i))throw new De(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oh(n,new je(i))}if(t instanceof xn)return Oh(n,t._key);throw new De(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dD(t)}.`)}function _B(n,e){if(!Array.isArray(n)||0===n.length)throw new De(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new De(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yB(n,e){if(e.isInequality()){const i=HC(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new De(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=oR(n);null!==o&&vB(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new De(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function vB(n,e,t){if(!t.isEqual(e))throw new De(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class iO{convertValue(e,t="none"){switch(Rh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const i={};return Mh(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new gD(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wL(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xb(e));default:return null}}convertTimestamp(e){const t=yu(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=en.fromString(e);ut(T2(i));const r=new _u(i.get(1),i.get(3)),o=new je(i.popFirst(5));return r.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function CD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class h4 extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}class Zh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends Xb{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new e0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class e0 extends Ul{data(e={}){return super.data(e)}}class Au{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new e0(this._firestore,this._userDataWriter,i.key,i,new Zh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new e0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Zh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new e0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Zh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:f4(u.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function wB(n,e){return n instanceof Ul&&e instanceof Ul?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Au&&e instanceof Au&&n._firestore===e._firestore&&U1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mu extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function EB(n,e,t){n=Xt(n,xn);const i=Xt(n.firestore,In),r=CD(n.converter,e,t);return Dg(i,[yD(Wh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,On.none())])}function xB(n,e,t,...i){n=Xt(n,xn);const r=Xt(n.firestore,In),o=Wh(r);let u;return u="string"==typeof(e=(0,it.m9)(e))||e instanceof Bl?Q1(o,"updateDoc",n._key,e,t,i):X1(o,"updateDoc",n._key,e),Dg(r,[u.toMutation(n._key,On.exists(!0))])}function IB(n,...e){var t,i,r;n=(0,it.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||K1(e[u])||(o=e[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges};if(K1(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let g,v,x;if(n instanceof xn)v=Xt(n.firestore,In),x=sg(n._key.path),g={next:D=>{e[u]&&e[u](rO(v,n,D))},error:e[u+1],complete:e[u+2]};else{const D=Xt(n,ur);v=Xt(D.firestore,In),x=D._query;const O=new Mu(v);g={next:V=>{e[u]&&e[u](new Au(v,O,D,V))},error:e[u+1],complete:e[u+2]},pB(n._query)}return function(D,O,V,$){const ee=new fD($),fe=new h1(O,ee,V);return D.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return a1(yield Ig(D),fe)})),()=>{ee.bc(),D.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return c1(yield Ig(D),fe)}))}}(li(v),x,f,g)}function Dg(n,e){return function(t,i){const r=new Ai;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function aG(n,e,t){return _1.apply(this,arguments)}(yield q1(t),i,r)})),r.promise}(li(n),e)}function rO(n,e,t){const i=t.docs.get(e._key),r=new Mu(n);return new Ul(n,r,e._key,i,new Zh(t.hasPendingWrites,t.fromCache),e.converter)}const x4={maxAttempts:5};class CB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wh(e)}set(e,t,i){this._verifyNotCommitted();const r=ku(e,this._firestore),o=CD(r.converter,t,i),u=yD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,On.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=ku(e,this._firestore);let u;return u="string"==typeof(t=(0,it.m9)(t))||t instanceof Bl?Q1(this._dataReader,"WriteBatch.update",o._key,t,i,r):X1(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ku(e,this._firestore);return this._mutations=this._mutations.concat(new cg(t._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ku(n,e){if((n=(0,it.m9)(n)).firestore!==e)throw new De(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class I4 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wh(e)}get(e){const t=ku(e,this._firestore),i=new h4(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Je();const o=r[0];if(o.isFoundDocument())return new Xb(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new Xb(this._firestore,i,t._key,null,t.converter);throw Je()})}set(e,t,i){const r=ku(e,this._firestore),o=CD(r.converter,t,i),u=yD(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=ku(e,this._firestore);let u;return u="string"==typeof(t=(0,it.m9)(t))||t instanceof Bl?Q1(this._dataReader,"Transaction.update",o._key,t,i,r):X1(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ku(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ku(e,this._firestore),i=new Mu(this._firestore);return super.get(e).then(r=>new Ul(this._firestore,i,t._key,r._document,new Zh(!1,!1),t.converter))}}function DB(...n){return new JG("arrayUnion",n)}function SB(...n){return new e4("arrayRemove",n)}!function(n,e=!0){Jm=Gt.SDK_VERSION,(0,Gt._registerComponent)(new vs.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new In(new Lz(t.getProvider("auth-internal")),new Uz(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(f.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Gt.registerVersion)(lL,"3.8.0",n),(0,Gt.registerVersion)(lL,"3.8.0","esm2017")}();class sO{constructor(e){return e}}const AB="firestore",oO=new c.OlP("angularfire2.firestore-instances");function k4(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new sO(i)}}const R4={provide:class A4{constructor(){return UM(AB)}},deps:[[new c.FiY,oO]]},O4={provide:sO,useFactory:function M4(n,e){const t=BM(AB,n,e);return t&&new sO(t)},deps:[[new c.FiY,oO],qm]};let F4=(()=>{class n{constructor(){(0,Gt.registerVersion)("angularfire",JI.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[O4,R4]}),n})();const N4=Yv(SB,!0),L4=Yv(DB,!0),V4=Yv(HG,!0);function aO(){return(0,yn.e)((n,e)=>{let t,i=!1;n.subscribe((0,_n.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function lO(n,e=ir.y){return n=n??B4,(0,yn.e)((t,i)=>{let r,o=!0;t.subscribe((0,_n.x)(i,u=>{const f=e(u);(o||!n(r,f))&&(o=!1,r=f,i.next(u))}))})}function B4(n,e){return n===e}var Bo=R(2011),U4=(R(9568),R(3942));function cO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new De("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MB(){if(typeof Uint8Array>"u")throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function kB(){if(!function Yz(){return typeof atob<"u"}())throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}class t0{constructor(e){this._delegate=e}static fromBase64String(e){return kB(),new t0(Pa.fromBase64String(e))}static fromUint8Array(e){return MB(),new t0(Pa.fromUint8Array(e))}toBase64(){return kB(),this._delegate.toBase64()}toUint8Array(){return MB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uO(n){return function $4(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class z4{enableIndexedDbPersistence(e,t){return function jG(n,e){oB(n=Xt(n,In));const t=li(n),i=n._freezeSettings(),r=new V1;return sB(t,r,new HV(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $G(n){oB(n=Xt(n,In));const e=li(n),t=n._freezeSettings(),i=new V1;return sB(e,i,new xG(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zG(n){if(n._initialized&&!n._terminated)throw new De(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(i){if(!Vo.C())return Promise.resolve();const r=i+"main";yield Vo.delete(r)}),function(i){return t.apply(this,arguments)})(MR(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class RB{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof _u||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){ZV(this._delegate,e,t,i)}enableNetwork(){return function WG(n){return function kG(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield eB(n),t=yield W1(n);return e.setNetworkEnabled(!0),function(i){const r=Ge(i);return r._u.delete(0),qb(r)}(t)}))}(li(n=Xt(n,In)))}(this._delegate)}disableNetwork(){return function qG(n){return function RG(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield eB(n),t=yield W1(n);return e.setNetworkEnabled(!1),(i=(0,X.Z)(function*(r){const o=Ge(r);o._u.add(0),yield _g(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(li(n=Xt(n,In)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,jV("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GG(n){return function(e){const t=new Ai;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function dG(n,e){return E1.apply(this,arguments)}(yield q1(e),t)})),t.promise}(li(n=Xt(n,In)))}(this._delegate)}onSnapshotsInSync(e){return function E4(n,e){return function PG(n,e){const t=new fD(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield Ig(n),r=t,Ge(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield Ig(n),r=t,void Ge(i).Ru.delete(r);var i,r}))}}(li(n=Xt(n,In)),K1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sg(this,KV(this._delegate,e))}catch(t){throw Vr(t,"collection()","Firestore.collection()")}}doc(e){try{return new no(this,hD(this._delegate,e))}catch(t){throw Vr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Br(this,function IG(n,e){if(n=Xt(n,Kb),B1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new De(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ur(n,null,(t=e,new Pl(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function C4(n,e,t){n=Xt(n,In);const i=Object.assign(Object.assign({},x4),t);return function(r){if(r.maxAttempts<1)throw new De(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const f=new Ai;return r.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const g=yield function tB(n){return pD(n).then(e=>e.datastore)}(r);new AG(r.asyncQueue,g,u,o,f).run()})),f.promise}(li(n),r=>e(new I4(n,r)),i)}(this._delegate,t=>e(new OB(this,t)))}batch(){return li(this._delegate),new FB(new CB(this._delegate,e=>Dg(this._delegate,e)))}loadBundle(e){return function ZG(n,e){const t=li(n=Xt(n,In)),i=new BG;return function NG(n,e,t,i){const r=function(o,u){let f;return f="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return XV(g,v);if(g instanceof ArrayBuffer)return XV(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new CG(g,u);var g}(t,Wb(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function EG(n,e,t){const i=Ge(n);var r;(r=(0,X.Z)(function*(o,u,f){try{const g=yield u.getMetadata();if(yield function(O,V){const $=Ge(O),ee=ai(V.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",fe=>$.Ns.getBundleMetadata(fe,V.id)).then(fe=>!!fe&&fe.createTime.compareTo(ee)>=0)}(o.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(kV(g));const v=new tG(g,o.localStore,u.yt);let x=yield u.mc();for(;x;){const O=yield v.Fu(x);O&&f._updateProgress(O),x=yield u.mc()}const D=yield v.complete();return yield Vl(o,D.Lu,void 0),yield function(O,V){const $=Ge(O);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.Ns.saveBundleMetadata(ee,V))}(o.localStore,g),f._completeWith(D.progress),Promise.resolve(D.Bu)}catch(g){return Sh("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var O}),function(o,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield q1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function KG(n,e){return function LG(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,i){const r=Ge(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield mD(n),e)}))}(li(n=Xt(n,In)),e).then(t=>t?new ur(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Br(this,t):null)}}class DD extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new t0(new Pa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return no.forKey(t,this.firestore,null)}}class OB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}get(e){const t=Yh(e);return this._delegate.get(t).then(i=>new n0(this._firestore,new Ul(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Yh(e);return i?(cO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Yh(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Yh(e);return this._delegate.delete(t),this}}class FB{constructor(e){this._delegate=e}set(e,t,i){const r=Yh(e);return i?(cO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Yh(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Yh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new e0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new r0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Kh.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Kh(e,new DD(e),t),r.set(t,o)),o}}Kh.INSTANCES=new WeakMap;class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new no(t,new xn(t._delegate,i,new je(e)))}static forKey(e,t,i){return new no(t,new xn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Sg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sg(this.firestore,KV(this._delegate,e))}catch(t){throw Vr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,it.m9)(e))instanceof xn&&YV(this._delegate,e)}set(e,t){t=cO("DocumentReference.set",t);try{return t?EB(this._delegate,e,t):EB(this._delegate,e)}catch(i){throw Vr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?xB(this._delegate,e):xB(this._delegate,e,t,...i)}catch(r){throw Vr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function b4(n){return Dg(Xt(n.firestore,In),[new cg(n._key,On.none())])}(this._delegate)}onSnapshot(...e){const t=PB(e),i=NB(e,r=>new n0(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return IB(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function m4(n){n=Xt(n,xn);const e=Xt(n.firestore,In),t=li(e),i=new Mu(e);return function OG(n,e){const t=new Ai;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(r,o,u){try{const f=yield function(g,v){const x=Ge(g);return x.persistence.runTransaction("read document","readonly",D=>x.localDocuments.getDocument(D,v))}(r,o);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new De(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=bg(f,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield mD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ul(e,i,n._key,r,new Zh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function g4(n){n=Xt(n,xn);const e=Xt(n.firestore,In);return nB(li(e),n._key,{source:"server"}).then(t=>rO(e,n,t))}(this._delegate):function p4(n){n=Xt(n,xn);const e=Xt(n.firestore,In);return nB(li(e),n._key).then(t=>rO(e,n,t))}(this._delegate),t.then(i=>new n0(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?Kh.getInstance(this.firestore,e):null))}}function Vr(n,e,t){return n.message=n.message.replace(e,t),n}function PB(n){for(const e of n)if("object"==typeof e&&!uO(e))return e;return{}}function NB(n,e){var t,i;let r;return r=uO(n[0])?n[0]:uO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class n0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new no(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wB(this._delegate,e._delegate)}}class r0 extends n0{data(e){const t=this._delegate.data(e);return function Fz(n,e){n||Je()}(void 0!==t),t}}class Br{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}where(e,t,i){try{return new Br(this.firestore,Tu(this._delegate,function r4(n,e,t){const i=e,r=wD("where",n);return Jb._create(r,i,t)}(e,t,i)))}catch(r){throw Vr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Br(this.firestore,Tu(this._delegate,function s4(n,e="asc"){const t=e,i=wD("orderBy",n);return nO._create(i,t)}(e,t)))}catch(i){throw Vr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Br(this.firestore,Tu(this._delegate,function o4(n){return GV("limit",n),ED._create("limit",n,"F")}(e)))}catch(t){throw Vr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Br(this.firestore,Tu(this._delegate,function a4(n){return GV("limitToLast",n),ED._create("limitToLast",n,"L")}(e)))}catch(t){throw Vr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Br(this.firestore,Tu(this._delegate,function l4(...n){return xD._create("startAt",n,!0)}(...e)))}catch(t){throw Vr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Br(this.firestore,Tu(this._delegate,function c4(...n){return xD._create("startAfter",n,!1)}(...e)))}catch(t){throw Vr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Br(this.firestore,Tu(this._delegate,function u4(...n){return ID._create("endBefore",n,!1)}(...e)))}catch(t){throw Vr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Br(this.firestore,Tu(this._delegate,function d4(...n){return ID._create("endAt",n,!0)}(...e)))}catch(t){throw Vr(t,"endAt()","Query.endAt()")}}isEqual(e){return U1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function y4(n){n=Xt(n,ur);const e=Xt(n.firestore,In),t=li(e),i=new Mu(e);return function FG(n,e){const t=new Ai;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(r,o,u){try{const f=yield sD(r,o,!0),g=new FV(o,f.Hi),v=g.Wu(f.documents),x=g.applyChanges(v,!1);u.resolve(x.snapshot)}catch(f){const g=bg(f,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield mD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Au(e,i,n,r))}(this._delegate):"server"===e?.source?function v4(n){n=Xt(n,ur);const e=Xt(n.firestore,In),t=li(e),i=new Mu(e);return iB(t,n._query,{source:"server"}).then(r=>new Au(e,i,n,r))}(this._delegate):function _4(n){n=Xt(n,ur);const e=Xt(n.firestore,In),t=li(e),i=new Mu(e);return pB(n._query),iB(t,n._query).then(r=>new Au(e,i,n,r))}(this._delegate),t.then(i=>new dO(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=PB(e),i=NB(e,r=>new dO(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return IB(this._delegate,t,i)}withConverter(e){return new Br(this.firestore,this._delegate.withConverter(e?Kh.getInstance(this.firestore,e):null))}}class W4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new r0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Br(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new r0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new W4(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new r0(this._firestore,i))})}isEqual(e){return wB(this._delegate,e._delegate)}}class Sg extends Br{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new no(this.firestore,e):null}doc(e){try{return new no(this.firestore,void 0===e?hD(this._delegate):hD(this._delegate,e))}catch(t){throw Vr(t,"doc()","CollectionReference.doc()")}}add(e){return function w4(n,e){const t=Xt(n.firestore,In),i=hD(n),r=CD(n.converter,e);return Dg(t,[yD(Wh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,On.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new no(this.firestore,t))}isEqual(e){return YV(this._delegate,e._delegate)}withConverter(e){return new Sg(this.firestore,this._delegate.withConverter(e?Kh.getInstance(this.firestore,e):null))}}function Yh(n){return Xt(n,xn)}class hO{constructor(...e){this._delegate=new Bl(...e)}static documentId(){return new hO(Kn.keyField().canonicalString())}isEqual(e){return(e=(0,it.m9)(e))instanceof Bl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function S4(){return new Y1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xh(e)}static delete(){const e=function D4(){return new Yb("deleteField")}();return e._methodName="FieldValue.delete",new Xh(e)}static arrayUnion(...e){const t=DB(...e);return t._methodName="FieldValue.arrayUnion",new Xh(t)}static arrayRemove(...e){const t=SB(...e);return t._methodName="FieldValue.arrayRemove",new Xh(t)}static increment(e){const t=function T4(n){return new t4("increment",n)}(e);return t._methodName="FieldValue.increment",new Xh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q4={Firestore:RB,GeoPoint:gD,Timestamp:Rn,Blob:t0,Transaction:OB,WriteBatch:FB,DocumentReference:no,DocumentSnapshot:n0,Query:Br,QueryDocumentSnapshot:r0,QuerySnapshot:dO,CollectionReference:Sg,FieldPath:hO,FieldValue:Xh,setLogLevel:function G4(n){!function Oz(n){pu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function K4(n){(function Z4(n,e){n.INTERNAL.registerComponent(new vs.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},q4)))})(n,(e,t)=>new RB(e,t,new z4)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(U4.Z);var Tg=R(6451);class Y4 extends Vt.x{constructor(e=1/0,t=1/0,i=kM){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)f=g;f&&i.splice(0,f+1)}}}var LB=R(3099);function VB(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,LB.B)({connector:()=>new Y4(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function BB(n,e){return(0,Pi.m)(e)?Bn(()=>n,e):Bn(()=>n)}R(9260);const UB=new c.OlP("angularfire2.auth.use-emulator"),HB=new c.OlP("angularfire2.auth.settings"),jB=new c.OlP("angularfire2.auth.tenant-id"),$B=new c.OlP("angularfire2.auth.langugage-code"),zB=new c.OlP("angularfire2.auth.use-device-language"),GB=new c.OlP("angularfire.auth.persistence"),WB=(n,e,t,i,r,o,u,f)=>(0,Bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[v,x]of Object.entries(u))g.settings[v]=x;return f&&g.setPersistence(f),g},[t,i,r,o,u,f]);let qB=(()=>{class n{constructor(t,i,r,o,u,f,g,v,x,D,O,V){const $=new Vt.x,ee=Ye(void 0).pipe((0,Gm.Q)(u.outsideAngular),Bn(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9568)))),(0,Xe.U)(()=>(0,Bo.on)(t,o,i)),(0,Xe.U)(fe=>WB(fe,o,f,v,x,D,g,O)),VB({bufferSize:1,refCount:!1}));if(Uu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{ee.pipe(Mo()).subscribe();const Ve=ee.pipe(Bn(st=>st.getRedirectResult().then(vt=>vt,()=>null)),Ds,VB({bufferSize:1,refCount:!1})),Ze=ee.pipe(Bn(st=>new Sn.y(vt=>({unsubscribe:o.runOutsideAngular(()=>st.onAuthStateChanged(It=>vt.next(It),It=>vt.error(It),()=>vt.complete()))})))),rt=ee.pipe(Bn(st=>new Sn.y(vt=>({unsubscribe:o.runOutsideAngular(()=>st.onIdTokenChanged(It=>vt.next(It),It=>vt.error(It),()=>vt.complete()))}))));this.authState=Ve.pipe(BB(Ze),(0,Zv.R)(u.outsideAngular),(0,Gm.Q)(u.insideAngular)),this.user=Ve.pipe(BB(rt),(0,Zv.R)(u.outsideAngular),(0,Gm.Q)(u.insideAngular)),this.idToken=this.user.pipe(Bn(st=>st?(0,Ut.D)(st.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Bn(st=>st?(0,Ut.D)(st.getIdTokenResult()):Ye(null))),this.credential=(0,Tg.T)(Ve,$,this.authState.pipe(gi(st=>!st))).pipe((0,Xe.U)(st=>st?.user?st:null),(0,Zv.R)(u.outsideAngular),(0,Gm.Q)(u.insideAngular))}return(0,Bo.pX)(this,ee,o,{spy:{apply:(fe,Ve,Ze)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&Ze.then(rt=>$.next(rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bo.Dh),c.LFG(Bo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Kv),c.LFG(UB,8),c.LFG(HB,8),c.LFG(jB,8),c.LFG($B,8),c.LFG(zB,8),c.LFG(GB,8),c.LFG(Jv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ZB(n,e){return function Q4(n,e=qv){return new Sn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function fO(n,e){return ZB(n,e).pipe((0,Xe.U)(t=>({payload:t,type:"query"})))}function SD(n,e){return fO(n,e).pipe(Ao(void 0),aO(),(0,Xe.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=r.find(x=>x.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(x=>x.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),o}))}function KB(n,e,t){return SD(n,t).pipe(vl((i,r)=>function eW(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function tW(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),lO(),(0,Xe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function pO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function YB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class XB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=SD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ao(void 0),aO(),gi(([i,r])=>r.length>0||!i),(0,Xe.U)(([i,r])=>r),Ds)}auditTrail(e){return this.stateChanges(e).pipe(vl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YB(e);return KB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ds)}valueChanges(e={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ds)}get(e){return(0,Ut.D)(this.query.get(e)).pipe(Ds)}add(e){return this.ref.add(e)}doc(e){return new QB(this.ref.doc(e),this.afs)}}class QB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=JB(i,t);return new XB(r,o,this.afs)}snapshotChanges(){return function J4(n,e){return ZB(n,e).pipe(Ao(void 0),aO(),(0,Xe.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ds)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ut.D)(this.ref.get(e)).pipe(Ds)}}class nW{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),gi(t=>t.length>0),Ds):SD(this.query,this.afs.schedulers.outsideAngular).pipe(Ds)}auditTrail(e){return this.stateChanges(e).pipe(vl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YB(e);return KB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ds)}valueChanges(e={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ds)}get(e){return(0,Ut.D)(this.query.get(e)).pipe(Ds)}}const iW=new c.OlP("angularfire2.enableFirestorePersistence"),rW=new c.OlP("angularfire2.firestore.persistenceSettings"),sW=new c.OlP("angularfire2.firestore.settings"),oW=new c.OlP("angularfire2.firestore.use-emulator");function JB(n,e=(t=>t)){return{query:e(n),ref:n}}let mO,aW=(()=>{class n{constructor(t,i,r,o,u,f,g,v,x,D,O,V,$,ee,fe,Ve,Ze){this.schedulers=g;const rt=(0,Bo.on)(t,f,i),st=x;D&&WB(rt,f,O,$,ee,fe,V,Ve),[this.firestore,this.persistenceEnabled$]=(0,Bo.cc)(`${rt.name}.firestore`,"AngularFirestore",rt.name,()=>{const vt=f.runOutsideAngular(()=>rt.firestore());if(o&&vt.settings(o),st&&vt.useEmulator(...st),r&&!Uu(u)){const It=()=>{try{return(0,Ut.D)(vt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Qt){return typeof console<"u"&&console.warn(Qt),Ye(!1)}};return[vt,f.runOutsideAngular(It)]}return[vt,Ye(!1)]},[o,st,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=JB(r,i),f=this.schedulers.ngZone.run(()=>o);return new XB(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new nW(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new QB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bo.Dh),c.LFG(Bo.xv,8),c.LFG(iW,8),c.LFG(sW,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Kv),c.LFG(rW,8),c.LFG(oW,8),c.LFG(qB,8),c.LFG(UB,8),c.LFG(HB,8),c.LFG(jB,8),c.LFG($B,8),c.LFG(zB,8),c.LFG(GB,8),c.LFG(Jv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Na{constructor(e){this.store=e,this.usersRoot="users",this.tasksRoot="tasks"}getCurrentUser(e){return this.store.collection(this.usersRoot).doc(e).valueChanges()}getUsers(e){this.store.collection(this.usersRoot).get().subscribe(t=>{let i=t.docs.map(r=>{let o=r.data();return o.id=r.id,o});e(i)})}getTasks(){return this.store.collection(this.tasksRoot).valueChanges({idField:"id"})}addFriend(e,t){return this.store.collection(this.usersRoot).doc(e).update({friends:L4(t)})}removeFriend(e,t){return this.store.collection(this.usersRoot).doc(e).update({friends:N4(t)})}updateFriends(e,t){return this.store.collection(this.usersRoot).doc(e).update({friends:t})}updateTasks(e,t){return this.store.collection(this.usersRoot).doc(e).update({tasks:t})}updateProfile(e,t,i){return this.store.collection(this.usersRoot).doc(e).update({age:t,status:i})}}Na.\u0275fac=function(e){return new(e||Na)(c.LFG(aW))},Na.\u0275prov=c.Yz7({token:Na,factory:Na.\u0275fac,providedIn:"root"});try{mO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mO=!1}let Ag,ji=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function pf(n){return n===hf}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tU(){if(Ag)return Ag;if("object"!=typeof document||!document)return Ag=new Set(eU),Ag;let n=document.createElement("input");return Ag=new Set(eU.filter(e=>(n.setAttribute("type",e),n.type===e))),Ag}let s0,TD,Qh,gO;function o0(n){return function lW(){if(null==s0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>s0=!0}))}finally{s0=s0||!1}return s0}()?n:!!n.capture}function nU(){if(null==Qh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qh=!1,Qh;if("scrollBehavior"in document.documentElement.style)Qh=!0;else{const n=Element.prototype.scrollTo;Qh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qh}function a0(){if("object"!=typeof document||!document)return 0;if(null==TD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),TD=0,0===n.scrollLeft&&(n.scrollLeft=1,TD=0===n.scrollLeft?1:2),n.remove()}return TD}function Ru(n){return n.composedPath?n.composedPath()[0]:n.target}function _O(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function l0(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function EO(n,e=qv){return(0,yn.e)((t,i)=>{let r=null,o=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=u+n,x=e.now();if(x<v)return r=this.schedule(void 0,v-x),void i.add(r);f()}t.subscribe((0,_n.x)(i,v=>{o=v,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{o=r=null}))})}function oU(n){return gi((e,t)=>n<=t)}var CW=R(5032);function Ur(n){return(0,yn.e)((e,t)=>{(0,yo.Xf)(n).subscribe((0,_n.x)(t,()=>t.complete(),CW.Z)),!t.closed&&e.subscribe(t)})}function Qn(n){return null!=n&&"false"!=`${n}`}function Uo(n,e=0){return function DW(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function AD(n){return Array.isArray(n)?n:[n]}function vi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hl(n){return n instanceof c.SBq?n.nativeElement:n}const aU=new Set;let Mg,SW=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function TW(n){if(!aU.has(n))try{Mg||(Mg=document.createElement("style"),Mg.setAttribute("type","text/css"),document.head.appendChild(Mg)),Mg.sheet&&(Mg.sheet.insertRule(`@media ${n} {body{ }}`,0),aU.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ji))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let xO=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Vt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lU(AD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=pi(lU(AD(t)).map(u=>this._registerQuery(u).observable));return o=To(o.pipe(Qr(1)),o.pipe(oU(1),EO(0))),o.pipe((0,Xe.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Sn.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Ao(i),(0,Xe.U)(({matches:u})=>({query:t,matches:u})),Ur(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SW),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class OW{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Vt.x,this._typeaheadSubscription=mi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Vt.x,this.change=new Vt.x,e instanceof c.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(An(t=>this._pressedLetters.push(t)),EO(e),gi(()=>this._pressedLetters.length>0),(0,Xe.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((r||l0(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class FW extends OW{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function hU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function fU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const UW=new c.OlP("cdk-input-modality-detector-options"),HW={ignoreKeys:[18,17,224,91,16]},kg=o0({passive:!0,capture:!0});let jW=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Xr(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ru(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(hU(u)?"keyboard":"mouse"),this._mostRecentTarget=Ru(u))},this._onTouchstart=u=>{fU(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ru(u))},this._options={...HW,...o},this.modalityDetected=this._modality.pipe(oU(1)),this.modalityChanged=this.modalityDetected.pipe(lO()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,kg),r.addEventListener("mousedown",this._onMousedown,kg),r.addEventListener("touchstart",this._onTouchstart,kg)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kg),document.removeEventListener("mousedown",this._onMousedown,kg),document.removeEventListener("touchstart",this._onTouchstart,kg))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ji),c.LFG(c.R0b),c.LFG(Y),c.LFG(UW,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $W=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function zW(){return null}}),GW=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let WW=0,IO=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+WW++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],u=o.getAttribute("aria-owns");u?-1===u.indexOf(t)&&o.setAttribute("aria-owns",u+" "+t):o.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($W,8),c.LFG(c.R0b),c.LFG(Y),c.LFG(GW,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qW=new c.OlP("cdk-focus-monitor-default-options"),MD=o0({passive:!0,capture:!0});let ZW=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Vt.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=Ru(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Hl(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ye(null);const o=function uW(n){if(function cW(){if(null==gO){const n=typeof document<"u"?document.head:null;gO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Vt.x,rootNode:o};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Hl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Hl(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Ru(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,MD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,MD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ur(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ji),c.LFG(jW),c.LFG(Y,8),c.LFG(qW,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mU="cdk-high-contrast-black-on-white",gU="cdk-high-contrast-white-on-black",CO="cdk-high-contrast-active";let KW=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(xO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(CO,mU,gU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(CO,mU):2===i&&t.add(CO,gU)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ji),c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YW=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function XW(){return(0,c.f3M)(Y)}}),QW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Jh=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function JW(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?QW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YW,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const e5=["text"];function t5(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function n5(n,e){if(1&n&&(c.TgZ(0,"span",6),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const i5=[[["mat-icon"]],"*"],r5=["mat-icon","*"],o5=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function s5(){return!0}});let Hn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_O()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(KW),c.LFG(o5,8),c.LFG(Y))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[c0,c0]}),n})();function vU(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Qn(e)}}}function DO(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function bU(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qn(e)}}}function a5(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Uo(t):this.defaultTabIndex}}}function wU(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let EU=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xU=o0({passive:!0,capture:!0});class u5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ru(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,xU)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);!o||(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,xU)))}}const IU={enterDuration:225,exitDuration:150},CU=o0({passive:!0,capture:!0}),DU=["mousedown","touchstart"],SU=["mouseup","mouseleave","touchend","touchcancel"];class d0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...IU,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function h5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-u+"px",x.style.top=g-u+"px",x.style.height=2*u+"px",x.style.width=2*u+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const D=window.getComputedStyle(x),V=D.transitionDuration,$="none"===D.transitionProperty||"0s"===V||"0s, 0s"===V||0===r.width&&0===r.height,ee=new c5(this,x,i,$);x.style.transform="scale3d(1, 1, 1)",ee.state=0,i.persistent||(this._mostRecentTransientRipple=ee);let fe=null;return!$&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ve=()=>this._finishRippleTransition(ee),Ze=()=>this._destroyRipple(ee);x.addEventListener("transitionend",Ve),x.addEventListener("transitioncancel",Ze),fe={onTransitionEnd:Ve,onTransitionCancel:Ze}}),this._activeRipples.set(ee,fe),($||!v)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...IU,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Hl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,DU.forEach(i=>{d0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{SU.forEach(t=>{this._triggerElement.addEventListener(t,this,CU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=hU(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!fU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(DU.forEach(t=>d0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&SU.forEach(t=>e.removeEventListener(t,this,CU)))}}d0._eventManager=new u5;const f5=new c.OlP("mat-ripple-global-options");let kD=(()=>{class n{constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new d0(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ji),c.Y36(f5,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,Hn]}),n})(),p5=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn]}),n})();const TU=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),AU=new c.OlP("MatOptgroup");let g5=0;class _5{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let y5=(()=>{class n{constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+g5++,this.onSelectionChange=new c.vpe,this._stateChanges=new Vt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Qn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!l0(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new _5(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(e5,7),2&t){let r;c.iGM(r=c.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),MU=(()=>{class n extends y5{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(TU,8),c.Y36(AU,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:r5,decls:7,vars:4,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(i5),c.YNc(0,t5,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,n5,2,1,"span",3),c._UZ(6,"div",4)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(5),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[kD,Jt,p5],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox{margin-right:0;margin-left:16px}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[SO,qo,Hn,m5]}),n})();const RU=["mat-button",""],OU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],FU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],x5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],I5=DO(vU(bU(class{constructor(n){this._elementRef=n}})));let PU=(()=>{class n extends I5{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(ZW),this._isFab=!1;const u=t.nativeElement.classList;for(const f of x5)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(g=>{u.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(kD,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},features:[c.qOj]}),n})(),D5=(()=>{class n extends PU{constructor(t,i,r,o){super(t,i,r,o),this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),h0=(()=>{class n extends PU{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ji),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:RU,ngContentSelectors:FU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(OU),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),c.xp6(6),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[kD],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),S5=(()=>{class n extends D5{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ji),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:RU,ngContentSelectors:FU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(OU),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),c.xp6(6),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[kD],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,SO,Hn]}),n})();class TO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class AO extends TO{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class MO extends TO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class A5 extends TO{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class kO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof AO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof MO?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof A5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class M5 extends kO{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LU=(()=>{class n extends kO{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=o=>{const u=o.element,f=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(Y))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var k5=R(1144);const R5=["addListener","removeListener"],O5=["addEventListener","removeEventListener"],F5=["on","off"];function RD(n,e,t,i){if((0,Pi.m)(t)&&(i=t,t=void 0),i)return RD(n,e,t).pipe(ps(i));const[r,o]=function L5(n){return(0,Pi.m)(n.addEventListener)&&(0,Pi.m)(n.removeEventListener)}(n)?O5.map(u=>f=>n[u](e,f,t)):function P5(n){return(0,Pi.m)(n.addListener)&&(0,Pi.m)(n.removeListener)}(n)?R5.map(BU(n,e)):function N5(n){return(0,Pi.m)(n.on)&&(0,Pi.m)(n.off)}(n)?F5.map(BU(n,e)):[];if(!r&&(0,k5.z)(n))return(0,Si.z)(u=>RD(u,e,t))((0,yo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Sn.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return r(f),()=>o(f)})}function BU(n,e){return t=>i=>n[t](e,i)}const f0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=f0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new mi.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=f0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=f0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},U5=new class B5 extends QI{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class V5 extends XI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=f0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(f0.cancelAnimationFrame(t),e._scheduled=void 0)}});let RO,H5=1;const OD={};function UU(n){return n in OD&&(delete OD[n],!0)}const j5={setImmediate(n){const e=H5++;return OD[e]=!0,RO||(RO=Promise.resolve()),RO.then(()=>UU(e)&&n()),e},clearImmediate(n){UU(n)}},{setImmediate:$5,clearImmediate:z5}=j5,FD={setImmediate(...n){const{delegate:e}=FD;return(e?.setImmediate||$5)(...n)},clearImmediate(n){const{delegate:e}=FD;return(e?.clearImmediate||z5)(n)},delegate:void 0},q5=new class W5 extends QI{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class G5 extends XI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(FD.clearImmediate(t),e._scheduled=void 0)}});var K5=R(3532);function OO(n,e=qv){return function Z5(n){return(0,yn.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const f=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},g=()=>{o=null,u&&t.complete()};e.subscribe((0,_n.x)(t,v=>{i=!0,r=v,o||(0,yo.Xf)(n(v)).subscribe(o=(0,_n.x)(t,f,g))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function X5(n=0,e,t=Ej){let i=-1;return null!=e&&((0,K5.K)(e)?t=e:i=e),new Sn.y(r=>{let o=function Y5(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}const Q5=["contentWrapper"],J5=["*"],eq=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let PD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Vt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Sn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(OO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(gi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Hl(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>RD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ji),c.LFG(Y,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HU=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Vt.x,this._elementScrolled=new Sn.y(u=>this.ngZone.runOutsideAngular(()=>RD(this.elementRef.nativeElement,"scroll").pipe(Ur(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=a0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==a0()?t.left=t.right:1==a0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;nU()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==a0()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==a0()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(PD),c.Y36(c.R0b),c.Y36(Jh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),ND=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Vt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(OO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ji),c.LFG(c.R0b),c.LFG(Y,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jU=new c.OlP("VIRTUAL_SCROLLABLE");let iq=(()=>{class n extends HU{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(PD),c.Y36(c.R0b),c.Y36(Jh,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const sq=typeof requestAnimationFrame<"u"?U5:q5;let oq=(()=>{class n extends iq{constructor(t,i,r,o,u,f,g,v){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,c.f3M)(ji),this._detachedSubject=new Vt.x,this._renderedRangeSubject=new Vt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Sn.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=mi.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Qn(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ao(null),OO(0,sq)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ur(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function rq(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,u=o?"X":"Y";let g=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(g+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",u="rtl"==this.dir?.value;i="start"==t?u?o:r:"end"==t?u?r:o:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(eq,8),c.Y36(Jh,8),c.Y36(PD),c.Y36(ND),c.Y36(jU,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&c.Gf(Q5,7),2&t){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:HU,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(jU)],n]}]),c.qOj,c.jDz],ngContentSelectors:J5,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[c0,FO,oq,c0,FO]}),n})();const zU=nU();class aq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=vi(-this._previousScrollPosition.left),e.style.top=vi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),zU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zU&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class lq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class GU{enable(){}disable(){}attach(){}}function PO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function WU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class cq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();PO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uq=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new GU,this.close=u=>new lq(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new aq(this._viewportRuler,this._document),this.reposition=u=>new cq(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PD),c.LFG(ND),c.LFG(c.R0b),c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NO{constructor(e){if(this.scrollStrategy=new GU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class dq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let qU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hq=(()=>{class n extends qU{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const f=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fq=(()=>{class n extends qU{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ru(o)},this._clickListener=o=>{const u=Ru(o),f="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const x=g[v];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(u)||x.overlayElement.contains(f))break;const D=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(o)):D.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(ji),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_O()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),_O()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(ji))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pq{constructor(e,t,i,r,o,u,f,g,v,x=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Vt.x,this._attachments=new Vt.x,this._detachments=new Vt.x,this._locationChanges=mi.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Vt.x,this._outsidePointerEvents=new Vt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=vi(this._config.width),e.height=vi(this._config.height),e.minWidth=vi(this._config.minWidth),e.minHeight=vi(this._config.minHeight),e.maxWidth=vi(this._config.maxWidth),e.maxHeight=vi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=AD(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ur((0,Tg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const KU="cdk-overlay-connected-position-bounding-box",mq=/([A-Za-z%]+)$/;class gq{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.x,this._resizeSubscription=mi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(KU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),x=this._getOverlayFit(v,t,i,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(x,v,i)?o.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<x.visibleArea)&&(u={overlayFit:x,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(o.length){let f=null,g=-1;for(const v of o){const x=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);x>g&&(g=x,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ef(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=XU(t);let{x:u,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(f+=v);let O=0-f,V=f+o.height-i.height,$=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ee=this._subtractOverflows(o.height,O,V),fe=$*ee;return{visibleArea:fe,isCompletelyWithinViewport:o.width*o.height===fe,fitsInViewportVertically:ee===o.height,fitsInViewportHorizontally:$==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=YU(this._overlayRef.getConfig().minHeight),f=YU(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=o;return(e.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=XU(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),f=Math.max(e.y+r.height-o.height,0),g=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);let x=0,D=0;return x=r.width<=o.width?v||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,D=r.height<=o.height?g||-f:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x,y:D},{x:e.x+x,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new dq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,f,x,D,O;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,o=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),$=this._lastBoundingBoxSize.height;o=2*V,u=e.y-V,o>$&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-$/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=i.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,x=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),$=this._lastBoundingBoxSize.width;x=2*V,D=e.x-V,x>$&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-$/2)}return{top:u,left:D,bottom:f,right:O,width:x,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=vi(i.height),r.top=vi(i.top),r.bottom=vi(i.bottom),r.width=vi(i.width),r.left=vi(i.left),r.right=vi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=vi(o)),u&&(r.maxWidth=vi(u))}this._lastBoundingBoxSize=i,ef(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ef(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ef(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();ef(i,this._getExactOverlayY(t,e,x)),ef(i,this._getExactOverlayX(t,e,x))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=vi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=vi(u.maxWidth):o&&(i.maxWidth="")),ef(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=vi(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=vi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WU(e,i),isOriginOutsideView:PO(e,i),isOverlayClipped:WU(t,i),isOverlayOutsideView:PO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&AD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ef(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function YU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(mq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function XU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const QU="cdk-global-overlay-wrapper";class _q{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(QU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||f&&"100%"!==f&&"100vh"!==f),x=this._xPosition,D=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let V="",$="",ee="";g?ee="flex-start":"center"===x?(ee="center",O?$=D:V=D):O?"left"===x||"end"===x?(ee="flex-end",V=D):("right"===x||"start"===x)&&(ee="flex-start",$=D):"left"===x||"start"===x?(ee="flex-start",V=D):("right"===x||"end"===x)&&(ee="flex-end",$=D),e.position=this._cssPosition,e.marginLeft=g?"0":V,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":$,t.justifyContent=ee,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(QU),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let yq=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new _q}flexibleConnectedTo(t){return new gq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ND),c.LFG(Y),c.LFG(ji),c.LFG(ZU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vq=0,Rg=(()=>{class n{constructor(t,i,r,o,u,f,g,v,x,D,O,V){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=v,this._directionality=x,this._location=D,this._outsideClickDispatcher=O,this._animationsModuleType=V}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new NO(t);return u.direction=u.direction||this._directionality.value,new pq(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+vq++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new M5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uq),c.LFG(ZU),c.LFG(c._Vd),c.LFG(yq),c.LFG(hq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Y),c.LFG(Jh),c.LFG(ke),c.LFG(fq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],JU=new c.OlP("cdk-connected-overlay-scroll-strategy");let LO=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),eH=(()=>{class n{constructor(t,i,r,o,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=mi.w0.EMPTY,this._attachSubscription=mi.w0.EMPTY,this._detachSubscription=mi.w0.EMPTY,this._positionSubscription=mi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new MO(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Qn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Qn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Qn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Qn(t)}get push(){return this._push}set push(t){this._push=Qn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=bq);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!l0(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new NO({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof LO?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Gd(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rg),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(JU),c.Y36(Jh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const Eq={provide:JU,deps:[Rg],useFactory:function wq(n){return()=>n.scrollStrategies.reposition()}};let tH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Rg,Eq],imports:[c0,VU,$U,$U]}),n})();function xq(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.action())}),c._uU(2),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(2),c.hij(" ",t.data.action," ")}}const Iq=["label"];function Cq(n,e){}const Dq=Math.pow(2,31)-1;class VO{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Vt.x,this._afterOpened=new Vt.x,this._onAction=new Vt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Dq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const nH=new c.OlP("MatSnackBarData");class LD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Sq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),Tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),Aq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),Mq=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(VO),c.Y36(nH))},n.\u0275cmp=c.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,xq,3,1,"div",1)),2&t&&(c.xp6(1),c.hij(" ",i.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",i.hasAction))},dependencies:[Jt,h0,Sq,Tq,Aq],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const kq={snackBarState:pp("state",[Rc("void, hidden",Do({transform:"scale(0.8)",opacity:0})),Rc("visible",Do({transform:"scale(1)",opacity:1})),ga("* => visible",kc("150ms cubic-bezier(0, 0, 0.2, 1)")),ga("* => void, * => hidden",kc("75ms cubic-bezier(0.4, 0.0, 1, 1)",Do({opacity:0})))])};let Rq=(()=>{class n extends kO{constructor(t,i,r,o,u){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Vt.x,this._onExit=new Vt.x,this._onEnter=new Vt.x,this._animationState="void",this.attachDomPortal=f=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),g},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Qr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ji),c.Y36(LD))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(LU,7),2&t){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},features:[c.qOj]}),n})(),Oq=(()=>{class n extends Rq{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&c.Gf(Iq,7),2&t){let r;c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&c.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&t&&c.d8E("@state",i._animationState)},features:[c.qOj],decls:6,vars:2,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,Cq,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&t&&(c.xp6(5),c.uIk("aria-live",i._live)("role",i._role))},dependencies:[LU],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.cdk-high-contrast-active .mat-mdc-snack-bar-container{border:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[kq.snackBarState]}}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[tH,VU,qo,NU,Hn,Hn]}),n})();const rH=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Fq(){return new LD}});let Pq=(()=>{class n{constructor(t,i,r,o,u,f){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=f,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:LD,useValue:i}]}),u=new AO(this.snackBarContainerComponent,i.viewContainerRef,o),f=t.attach(u);return f.instance.snackBarConfig=i,f.instance}_attach(t,i){const r={...new LD,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),f=new VO(u,o);if(t instanceof c.Rgc){const g=new MO(t,null,{$implicit:r.data,snackBarRef:f});f.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(r,f),v=new AO(t,void 0,g),x=u.attachComponentPortal(v);f.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ur(o.detachments())).subscribe(g=>{o.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(f,r),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new NO;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,f=!u&&"center"!==t.horizontalPosition;return u?r.left("0"):f?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return c.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:VO,useValue:i},{provide:nH,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rg),c.LFG(IO),c.LFG(c.zs3),c.LFG(xO),c.LFG(n,12),c.LFG(rH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Nq=(()=>{class n extends Pq{constructor(t,i,r,o,u,f){super(t,i,r,o,u,f),this.simpleSnackBarComponent=Mq,this.snackBarContainerComponent=Oq,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rg),c.LFG(IO),c.LFG(c.zs3),c.LFG(xO),c.LFG(n,12),c.LFG(rH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:iH}),n})();class La{constructor(e){this.snackBar=e}showSuccess(e){this.snackBar.open(e,void 0,{duration:3e3})}showCustomError(e){this.snackBar.open(e,"Okay :(")}showError(e){this.snackBar.open(`Error occured: ${e}`,"Okay :(")}}La.\u0275fac=function(e){return new(e||La)(c.LFG(Nq))},La.\u0275prov=c.Yz7({token:La,factory:La.\u0275fac,providedIn:"root"});let sH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lq=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Hl(t);return new Sn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Vt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vq=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Qn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Uo(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(EO(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Lq),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[sH]}),n})();const Uq=["matFormFieldNotchedOutline",""],Hq=["*"],jq=["textField"],$q=["iconPrefixContainer"],zq=["textPrefixContainer"];function Gq(n,e){1&n&&c._UZ(0,"span",19)}function Wq(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,Gq,1,0,"span",18),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function qq(n,e){if(1&n&&c.YNc(0,Wq,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function Zq(n,e){1&n&&c._UZ(0,"div",20)}function Kq(n,e){}function Yq(n,e){if(1&n&&c.YNc(0,Kq,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function Xq(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,Yq,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function Qq(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function Jq(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function e8(n,e){}function t8(n,e){if(1&n&&c.YNc(0,e8,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function n8(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function i8(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function r8(n,e){1&n&&c._UZ(0,"div",29)}function s8(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function o8(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function a8(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,o8,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const l8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],c8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})();const u8=new c.OlP("MatError");let d8=0,VD=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+d8++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const h8=new c.OlP("MatPrefix"),f8=new c.OlP("MatSuffix");let oH=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function p8(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const aH="mdc-line-ripple--active",BD="mdc-line-ripple--deactivating";let lH=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(BD);"opacity"===r.propertyName&&u&&o.remove(aH,BD)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(BD),t.add(aH)}deactivate(){this._elementRef.nativeElement.classList.add(BD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),cH=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Uq,ngContentSelectors:Hq,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(1),c.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const m8={transitionMessages:pp("transitionMessages",[Rc("enter",Do({opacity:1,transform:"translateY(0%)"})),ga("void => enter",[Do({opacity:0,transform:"translateY(-5px)"}),kc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const UO=new c.OlP("MatFormField"),g8=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let uH=0,HO=(()=>{class n{constructor(t,i,r,o,u,f,g,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=f,this._animationMode=g,this._document=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+uH++,this._hintLabelId="mat-mdc-hint-"+uH++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Vt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Qn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ur(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Tg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ur(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ur(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Jh),c.Y36(ji),c.Y36(g8,8),c.Y36(c.QbO,8),c.Y36(Y))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,p0,5),c.Suo(r,p0,7),c.Suo(r,BO,5),c.Suo(r,h8,5),c.Suo(r,f8,5),c.Suo(r,u8,5),c.Suo(r,VD,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._labelChildNonStatic=o.first),c.iGM(o=c.CRH())&&(i._labelChildStatic=o.first),c.iGM(o=c.CRH())&&(i._formFieldControl=o.first),c.iGM(o=c.CRH())&&(i._prefixChildren=o),c.iGM(o=c.CRH())&&(i._suffixChildren=o),c.iGM(o=c.CRH())&&(i._errorChildren=o),c.iGM(o=c.CRH())&&(i._hintChildren=o)}},viewQuery:function(t,i){if(1&t&&(c.Gf(jq,5),c.Gf($q,5),c.Gf(zq,5),c.Gf(oH,5),c.Gf(cH,5),c.Gf(lH,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:UO,useExisting:n}])],ngContentSelectors:c8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(c.F$t(l8),c.YNc(0,qq,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),c.YNc(4,Zq,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,Xq,2,3,"div",5),c.YNc(7,Qq,3,0,"div",6),c.YNc(8,Jq,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,t8,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,n8,2,0,"div",10),c.YNc(13,i8,2,0,"div",11),c.qZA(),c.YNc(14,r8,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,s8,2,1,"div",14),c.YNc(17,a8,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Jt,Ei,as,oo,Vq,VD,oH,cH,lH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[m8.transitionMessages]},changeDetection:0}),n})(),UD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,qo,Bq,Hn]}),n})();const fH=o0({passive:!0});let v8=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Rr.E;const i=Hl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Vt.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,fH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",f,fH)}}),o}stopMonitoring(t){const i=Hl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ji),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const w8=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),E8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let x8=0;const I8=wU(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Vt.x}});let HD=(()=>{class n extends I8{constructor(t,i,r,o,u,f,g,v,x,D){super(f,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+x8++,this.focused=!1,this.stateChanges=new Vt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>tU().has($)),this._iOSKeyupListener=$=>{const ee=$.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,V=O.nodeName.toLowerCase();this._inputValueAccessor=g||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=Qn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(md.required)??!1}set required(t){this._required=Qn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&tU().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Qn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){E8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ji),c.Y36(Zr,10),c.Y36(xo,8),c.Y36(Ed,8),c.Y36(EU),c.Y36(w8,10),c.Y36(v8),c.Y36(c.R0b),c.Y36(UO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:BO,useExisting:n}]),c.qOj,c.TTD]}),n})(),C8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,UD,UD,b8,Hn]}),n})();const D8=["*"],A8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],M8=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],k8=new c.OlP("MAT_CARD_CONFIG");let m0=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(k8,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:D8,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),jD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),g0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),$O=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),pH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:M8,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(c.F$t(A8),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),U8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,qo,Hn]}),n})();class _0{constructor(e,t,i){this.fireService=e,this.router=t,this.alert=i,this.email="",this.password=""}onFormSubmitted(){if(this.email&&this.password){let e=(0,AA.sha256)(this.password);this.fireService.getUsers(t=>{let i=t.find(r=>r.email===this.email&&r.password===e);i?(localStorage.setItem("userId",i.id),this.router.navigate(["home"])):this.alert.showCustomError("Invalid login or password.")})}}}_0.\u0275fac=function(e){return new(e||_0)(c.Y36(Na),c.Y36(Ti),c.Y36(La))},_0.\u0275cmp=c.Xpm({type:_0,selectors:[["app-login-page"]],decls:25,vars:5,consts:[[3,"submit"],["loginForm","ngForm"],["align","center"],[1,"row"],["name","email","type","email","matInput","","email","","required","",3,"ngModel","ngModelChange"],["emailBox","ngModel"],[3,"hidden"],["name","password","type","password","matInput","","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){if(1&e&&(c.TgZ(0,"div")(1,"form",0,1),c.NdJ("submit",function(){return t.onFormSubmitted()}),c.TgZ(3,"mat-card",2)(4,"div")(5,"mat-card-title"),c._uU(6,"SIGN IN"),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"mat-card-content")(9,"div",3)(10,"mat-form-field")(11,"mat-label"),c._uU(12,"Login"),c.qZA(),c.TgZ(13,"input",4,5),c.NdJ("ngModelChange",function(r){return t.email=r}),c.qZA(),c.TgZ(15,"mat-hint",6),c._uU(16),c.qZA()()(),c.TgZ(17,"div",3)(18,"mat-form-field")(19,"mat-label"),c._uU(20,"Password"),c.qZA(),c.TgZ(21,"input",7),c.NdJ("ngModelChange",function(r){return t.password=r}),c.qZA()()(),c.TgZ(22,"div",3)(23,"button",8),c._uU(24,"Go!"),c.qZA()()()()()()),2&e){const i=c.MAs(2),r=c.MAs(14);c.xp6(13),c.Q6J("ngModel",t.email),c.xp6(2),c.Q6J("hidden",r.valid||r.pristine),c.xp6(1),c.hij("'",t.email,"' is not a valid e-mail."),c.xp6(5),c.Q6J("ngModel",t.password),c.xp6(2),c.Q6J("disabled",!i.form.valid)}},dependencies:[S_,_r,ul,bc,Id,L_,wd,xo,HO,p0,VD,HD,m0,g0,jD,h0],styles:["form[_ngcontent-%COMP%]{margin:auto;width:30%;padding-top:10em}mat-card[_ngcontent-%COMP%]{padding:1em}mat-form-field[_ngcontent-%COMP%]{width:90%}"]});class H8{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Vt.x,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const j8=["trigger"],$8=["panel"];function z8(n,e){if(1&n&&(c.TgZ(0,"span",10),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function G8(n,e){if(1&n&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function W8(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function q8(n,e){if(1&n&&(c.TgZ(0,"span",11),c.YNc(1,G8,2,1,"span",12),c.YNc(2,W8,1,0,"ng-content",13),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function Z8(n,e){if(1&n){const t=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"div",15,16),c.NdJ("@transformPanel.done",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o._handleKeydown(r))}),c.Hsn(2,1),c.qZA()}if(2&n){const t=c.oxw();c.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),c.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const K8=[[["mat-select-trigger"]],"*"],Y8=["mat-select-trigger","*"],X8={transformPanelWrap:pp("transformPanelWrap",[ga("* => void",xS("@transformPanel",[ww()],{optional:!0}))]),transformPanel:pp("transformPanel",[Rc("void",Do({opacity:0,transform:"scale(1, 0.8)"})),ga("void => showing",kc("120ms cubic-bezier(0, 0, 0.2, 1)",Do({opacity:1,transform:"scale(1, 1)"}))),ga("* => void",kc("100ms linear",Do({opacity:0})))])};let mH=0;const gH=new c.OlP("mat-select-scroll-strategy"),J8=new c.OlP("MAT_SELECT_CONFIG"),eZ={provide:gH,deps:[Rg],useFactory:function Q8(n){return()=>n.scrollStrategies.reposition()}},tZ=new c.OlP("MatSelectTrigger");class nZ{constructor(e,t){this.source=e,this.value=t}}const iZ=bU(a5(vU(wU(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Vt.x}}))));let rZ=(()=>{class n extends iZ{constructor(t,i,r,o,u,f,g,v,x,D,O,V,$,ee){super(u,o,g,v,D),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=x,this._liveAnnouncer=$,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(fe,Ve)=>fe===Ve,this._uid="mat-select-"+mH++,this._triggerAriaLabelledBy=null,this._destroy=new Vt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+mH++,this._panelDoneAnimatingStream=new Vt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=ba(()=>{const fe=this.options;return fe?fe.changes.pipe(Ao(fe),Bn(()=>(0,Tg.T)(...fe.map(Ve=>Ve.onSelectionChange)))):this._ngZone.onStable.pipe(Qr(1),Bn(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(gi(fe=>fe),(0,Xe.U)(()=>{})),this._closedStream=this.openedChange.pipe(gi(fe=>!fe),(0,Xe.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ee?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(md.required)??!1}set required(t){this._required=Qn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Qn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Qn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Uo(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new H8(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lO(),Ur(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ur(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ao(null),Ur(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!l0(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||l0(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new FW(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Tg.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ur(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Tg.T)(...this.options.map(i=>i._stateChanges)).pipe(Ur(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ND),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(EU),c.Y36(c.SBq),c.Y36(Jh,8),c.Y36(xo,8),c.Y36(Ed,8),c.Y36(UO,8),c.Y36(Zr,10),c.$8M("tabindex"),c.Y36(gH),c.Y36(IO),c.Y36(J8,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(j8,5),c.Gf($8,5),c.Gf(eH,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),sZ=(()=>{class n extends rZ{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}]}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ur(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=function v5(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}(t,this.options,this.optionGroups),u=i._getHostElement();r.scrollTop=0===t&&1===o?0:function b5(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(u.offsetTop,u.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new nZ(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof LO?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,tZ,5),c.Suo(r,MU,5),c.Suo(r,AU,5)),2&t){let o;c.iGM(o=c.CRH())&&(i.customTrigger=o.first),c.iGM(o=c.CRH())&&(i.options=o),c.iGM(o=c.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:BO,useExisting:n},{provide:TU,useExisting:n}]),c.qOj],ngContentSelectors:Y8,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t(K8),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,z8,2,1,"span",3),c.YNc(5,q8,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"div",6),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()()()(),c.YNc(10,Z8,3,9,"ng-template",9),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(5),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[mr,as,oo,Ua,eH,LO],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[X8.transformPanel]},changeDetection:0}),n})(),oZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eZ],imports:[qo,tH,kU,Hn,FO,UD,kU,Hn]}),n})();const aZ=["*",[["mat-toolbar-row"]]],lZ=["*","mat-toolbar-row"],cZ=DO(class{constructor(n){this._elementRef=n}});let uZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),dZ=(()=>{class n extends cZ{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ji),c.Y36(Y))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,uZ,5),2&t){let o;c.iGM(o=c.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:lZ,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(aZ),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),hZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,Hn]}),n})();class Ou{constructor(e){this.router=e}ngOnInit(){this.checkAccess()}checkAccess(){localStorage.getItem("userId")||this.router.navigate(["/login"])}clearCache(){localStorage.clear()}}function fZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.addToLibrary.emit(r.task))}),c._uU(1,"Add to library"),c.qZA()}}function pZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",3),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.removeFromLibrary.emit(r.task))}),c._uU(1,"Remove from library"),c.qZA()}}Ou.\u0275fac=function(e){return new(e||Ou)(c.Y36(Ti))},Ou.\u0275cmp=c.Xpm({type:Ou,selectors:[["app-toolbar-main"]],decls:12,vars:0,consts:[["color","primary"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/library"],["mat-button","","routerLink","/friends"],[1,"spaceholder"],["mat-button","","routerLink","/profile"],["mat-button","","routerLink","/login",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"mat-toolbar",0)(1,"a",1),c._uU(2,"Tasks"),c.qZA(),c.TgZ(3,"a",2),c._uU(4,"Library"),c.qZA(),c.TgZ(5,"a",3),c._uU(6,"Friends"),c.qZA(),c._UZ(7,"span",4),c.TgZ(8,"a",5),c._uU(9,"Profile"),c.qZA(),c.TgZ(10,"a",6),c.NdJ("click",function(){return t.clearCache()}),c._uU(11,"Log out"),c.qZA()())},dependencies:[lh,S5,dZ],styles:[".spaceholder[_ngcontent-%COMP%]{flex:1 1 auto}"]});class Og{constructor(){this.libraryView=!1,this.addToLibrary=new c.vpe,this.removeFromLibrary=new c.vpe}addToLibraryPrivate(){this.libraryView||this.addToLibrary.emit(this.task)}removeFromLibraryPrivate(){this.libraryView&&this.removeFromLibrary.emit(this.task)}}Og.\u0275fac=function(e){return new(e||Og)},Og.\u0275cmp=c.Xpm({type:Og,selectors:[["app-task-details"]],inputs:{task:"task",libraryView:"libraryView"},outputs:{addToLibrary:"addToLibrary",removeFromLibrary:"removeFromLibrary"},decls:13,vars:5,consts:[["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),c._uU(3),c.qZA(),c.TgZ(4,"mat-card-subtitle"),c._uU(5),c.qZA()(),c._UZ(6,"hr"),c.TgZ(7,"mat-card-content")(8,"p"),c._uU(9),c.qZA()(),c.TgZ(10,"mat-card-actions"),c.YNc(11,fZ,2,0,"button",0),c.YNc(12,pZ,2,0,"button",1),c.qZA()()),2&e&&(c.xp6(3),c.Oqu(t.task.title),c.xp6(2),c.hij("Storypoints: ",t.task.points,""),c.xp6(4),c.Oqu(t.task.description),c.xp6(2),c.Q6J("ngIf",!t.libraryView),c.xp6(1),c.Q6J("ngIf",t.libraryView))},dependencies:[Jt,m0,$O,g0,pH,jO,jD,h0],styles:["*[_ngcontent-%COMP%]{margin:5px}mat-card[_ngcontent-%COMP%]{border-width:2px;border-color:gray}mat-card-content[_ngcontent-%COMP%]{height:2em;max-height:2em}"]});class y0{transform(e,t,i){let r=e;if(i&&(r=r.filter(o=>o.points===+i)),t){let o=new RegExp(t,"gi");r=r.filter(u=>o.test(u.title)||o.test(u.description))}return r}}function mZ(n,e){1&n&&(c.TgZ(0,"p",15),c._uU(1,"All tasks have been already added to library."),c.qZA())}function gZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-task-details",16),c.NdJ("addToLibrary",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.addToLibrary(r))}),c.qZA()}2&n&&c.Q6J("task",e.$implicit)("libraryView",!1)}y0.\u0275fac=function(e){return new(e||y0)},y0.\u0275pipe=c.Yjl({name:"taskFilter",type:y0,pure:!0});class v0{constructor(e,t){this.fireService=e,this.alert=t,this.tasks=[],this.usersTasksIds=[],this.searchPhrase="",this.selectedSize="",this.currentUserId=localStorage.getItem("userId")}ngOnInit(){this.fireService.getCurrentUser(this.currentUserId).subscribe(e=>{e&&(this.usersTasksIds=e.tasks)}),this.fireService.getTasks().subscribe(e=>this.tasks=e.filter(t=>!this.usersTasksIds.includes(t.id)))}addToLibrary(e){if(this.usersTasksIds.includes(e.id))return;let t=Object.assign([],this.usersTasksIds);t.push(e.id),this.fireService.updateTasks(this.currentUserId,t).then(()=>{this.usersTasksIds=t,this.tasks.splice(this.tasks.indexOf(e),1),this.clearFilters()}).catch(i=>this.alert.showError(i))}clearFilters(){this.selectedSize&&(this.selectedSize=""),this.searchPhrase&&(this.searchPhrase="")}}v0.\u0275fac=function(e){return new(e||v0)(c.Y36(Na),c.Y36(La))},v0.\u0275cmp=c.Xpm({type:v0,selectors:[["app-home-page"]],decls:29,vars:8,consts:[[1,"search-header"],["matInput","","matNativeControl","","type","search","id","searchField","name","searchField","placeholder","Enter something to search",3,"ngModel","ngModelChange"],["appearance","fill"],["name","sizeSelect",3,"ngModel","ngModelChange"],["value",""],["value","1"],["value","2"],["value","3"],["value","5"],["value","8"],["value","13"],["value","21"],["id","emptyPlaceHolder",4,"ngIf"],[1,"tasks-area"],[3,"task","libraryView","addToLibrary",4,"ngFor","ngForOf"],["id","emptyPlaceHolder"],[3,"task","libraryView","addToLibrary"]],template:function(e,t){1&e&&(c._UZ(0,"app-toolbar-main"),c.TgZ(1,"h1"),c._uU(2,"TASKS"),c.qZA(),c.TgZ(3,"div",0)(4,"input",1),c.NdJ("ngModelChange",function(r){return t.searchPhrase=r}),c.qZA(),c.TgZ(5,"mat-form-field",2)(6,"mat-label"),c._uU(7,"Select task size"),c.qZA(),c.TgZ(8,"mat-select",3),c.NdJ("ngModelChange",function(r){return t.selectedSize=r}),c.TgZ(9,"mat-option",4),c._uU(10,"Any"),c.qZA(),c.TgZ(11,"mat-option",5),c._uU(12,"1"),c.qZA(),c.TgZ(13,"mat-option",6),c._uU(14,"2"),c.qZA(),c.TgZ(15,"mat-option",7),c._uU(16,"3"),c.qZA(),c.TgZ(17,"mat-option",8),c._uU(18,"5"),c.qZA(),c.TgZ(19,"mat-option",9),c._uU(20,"8"),c.qZA(),c.TgZ(21,"mat-option",10),c._uU(22,"13"),c.qZA(),c.TgZ(23,"mat-option",11),c._uU(24,"21"),c.qZA()()()(),c.YNc(25,mZ,2,0,"p",12),c.TgZ(26,"div",13),c.YNc(27,gZ,1,2,"app-task-details",14),c.ALo(28,"taskFilter"),c.qZA()),2&e&&(c.xp6(4),c.Q6J("ngModel",t.searchPhrase),c.xp6(4),c.Q6J("ngModel",t.selectedSize),c.xp6(17),c.Q6J("ngIf",0===t.tasks.length),c.xp6(2),c.Q6J("ngForOf",c.Dn7(28,4,t.tasks,t.searchPhrase,t.selectedSize)))},dependencies:[Zi,Jt,_r,ul,wd,HO,p0,HD,sZ,MU,Ou,Og,y0],styles:["*[_ngcontent-%COMP%]{margin:5px}h1[_ngcontent-%COMP%]{margin-left:10px;font-weight:500}#emptyPlaceHolder[_ngcontent-%COMP%]{margin-left:10px}.search-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.search-header[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{flex:5;min-height:3em}.search-header[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{flex:1}.tasks-area[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}app-task-details[_ngcontent-%COMP%]{flex-basis:20%}"]});class _Z{constructor(e,t){this.user=e,this.isFriend=t}}class zO{}class Fu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Fu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Fu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Fu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===o.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yZ{encodeKey(e){return yH(e)}encodeValue(e){return yH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bZ=/%(\d[a-f0-9])/gi,wZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yH(n){return encodeURIComponent(n).replace(bZ,(e,t)=>wZ[t]??e)}function $D(n){return`${n}`}class Pu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,f]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map($D):[$D(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($D(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf($D(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class EZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function vH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bH(n){return typeof Blob<"u"&&n instanceof Blob}function wH(n){return typeof FormData<"u"&&n instanceof FormData}class b0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Fu),this.context||(this.context=new EZ),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Pu,this.urlWithParams=t}serializeBody(){return null===this.body?null:vH(this.body)||bH(this.body)||wH(this.body)||function IZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wH(this.body)?null:bH(this.body)?this.body.type||null:vH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((D,O)=>D.set(O,e.setHeaders[O]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,O)=>D.set(O,e.setParams[O]),v)),new b0(t,i,o,{params:v,headers:g,context:x,reportProgress:f,responseType:r,withCredentials:u})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class CZ{constructor(e,t=200,i="OK"){this.headers=e.headers||new Fu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class GO extends CZ{constructor(e={}){super(e),this.type=dr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new GO({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function WO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof b0)o=t;else{let g,v;g=r.headers instanceof Fu?r.headers:new Fu(r.headers),r.params&&(v=r.params instanceof Pu?r.params:new Pu({fromObject:r.params})),o=new b0(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ye(o).pipe(Ea(g=>this.handler.handle(g)));if(t instanceof b0||"events"===r.observe)return u;const f=u.pipe(gi(g=>g instanceof GO));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,Xe.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,Xe.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,Xe.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,Xe.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,WO(r,i))}post(t,i,r={}){return this.request("POST",t,WO(r,i))}put(t,i,r={}){return this.request("PUT",t,WO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const VZ=["*"];let GD;function w0(n){return function BZ(){if(void 0===GD&&(GD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(GD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return GD}()?.createHTML(n)||n}function AH(n){return Error(`Unable to find icon with the name "${n}"`)}function MH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class tf{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let WD=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new tf(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw kH(r);const f=w0(u);return this._addSvgIconConfig(t,i,new tf("",f,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new tf(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(c.q3G.HTML,i);if(!o)throw kH(i);const u=w0(o);return this._addSvgIconSetConfig(t,new tf("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw MH(t);const r=this._cachedIconsByUrl.get(i);return r?Ye(qD(r)):this._loadSvgIconFromConfig(new tf(t,null)).pipe(An(o=>this._cachedIconsByUrl.set(i,o)),(0,Xe.U)(o=>qD(o)))}getNamedSvgIcon(t,i=""){const r=RH(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):ms(AH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ye(qD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Xe.U)(i=>qD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ye(r):aa(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ko(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),Ye(null)})))).pipe((0,Xe.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw AH(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),f=this._extractSvgIconFromSet(u,t,o.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(An(i=>t.svgText=i),(0,Xe.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ye(null):this._fetchIcon(t).pipe(An(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(w0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(w0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:f}=r[o];"id"!==u&&i.setAttribute(u,f)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function UZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw MH(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const g=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,Xe.U)(v=>w0(v)),Gc(()=>this._inProgressUrlFetches.delete(u)),(0,LB.B)());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(RH(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return jZ(o)?new tf(o.url,null,o.options):new tf(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qO,8),c.LFG(ad),c.LFG(Y,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qD(n){return n.cloneNode(!0)}function RH(n,e){return n+":"+e}function jZ(n){return!(!n.url||!n.options)}const $Z=DO(class{constructor(n){this._elementRef=n}}),zZ=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),GZ=new c.OlP("mat-icon-location",{providedIn:"root",factory:function WZ(){const n=(0,c.f3M)(Y),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),OH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qZ=OH.map(n=>`[${n}]`).join(", "),ZZ=/^url\(['"]?#(.*?)['"]?\)$/;let KZ=(()=>{class n extends $Z{constructor(t,i,r,o,u,f){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mi.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Qn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(qZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)OH.forEach(u=>{const f=i[o],g=f.getAttribute(u),v=g?g.match(ZZ):null;if(v){let x=r.get(f);x||(x=[],r.set(f,x)),x.push({name:u,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(WD),c.$8M("aria-hidden"),c.Y36(GZ),c.Y36(c.qLn),c.Y36(zZ,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:VZ,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),YZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,Hn]}),n})(),XZ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Qn(t)}get inset(){return this._inset}set inset(t){this._inset=Qn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),QZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,Hn]}),n})();class E0{transform(e,t){let i=e;if(t){let r=new RegExp(t,"gi");i=i.filter(o=>r.test(o.user.username))}return i}}function JZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",7),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,o=c.oxw();return c.KtG(o.addFriend(r))}),c._uU(1,"Add to friends"),c.qZA()}}function eK(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",8),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit,o=c.oxw();return c.KtG(o.removeFriend(r))}),c._uU(1,"Remove friend"),c.qZA()}}function tK(n,e){if(1&n&&(c.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div"),c._UZ(3,"mat-icon",4),c.TgZ(4,"strong"),c._uU(5),c.qZA()(),c.TgZ(6,"cite"),c._uU(7),c.qZA()(),c.TgZ(8,"mat-card-actions"),c.YNc(9,JZ,2,0,"button",5),c.YNc(10,eK,2,0,"button",6),c.qZA()()),2&n){const t=e.$implicit;c.xp6(5),c.AsE("",t.user.username,", ",t.user.age," years"),c.xp6(2),c.hij('"',t.user.status,'"'),c.xp6(2),c.Q6J("ngIf",!t.isFriend),c.xp6(1),c.Q6J("ngIf",t.isFriend)}}E0.\u0275fac=function(e){return new(e||E0)},E0.\u0275pipe=c.Yjl({name:"userFilter",type:E0,pure:!0});class x0{constructor(e,t){this.fireService=e,this.alert=t,this.myFriendsIds=[],this.allBuddies=[],this.searchPhrase="",this.currentUserId=localStorage.getItem("userId")}ngOnInit(){this.initMyFriends(),this.initBuddies()}initMyFriends(){this.fireService.getCurrentUser(this.currentUserId).subscribe(e=>{e&&(this.myFriendsIds=e.friends)})}initBuddies(){this.fireService.getUsers(e=>{let t=e.filter(i=>i.id!==this.currentUserId);this.allBuddies=t.map(i=>new _Z(i,this.myFriendsIds.includes(i.id))),this.resort()})}addFriend(e){if(e.isFriend)return;let t=e.user.id,i=Object.assign([],this.myFriendsIds);i.push(t),console.log(this.allBuddies),this.fireService.updateFriends(this.currentUserId,i).then(()=>{this.fireService.addFriend(t,this.currentUserId).then(()=>{this.myFriendsIds=i,e.isFriend=!0,this.resort()})}).catch(r=>this.alert.showError(r))}removeFriend(e){if(!e.isFriend)return;let t=e.user.id,i=Object.assign([],this.myFriendsIds),r=i.indexOf(t);r<0||(i.splice(r,1),this.fireService.updateFriends(this.currentUserId,i).then(()=>{this.fireService.removeFriend(t,this.currentUserId).then(()=>{this.myFriendsIds=i,e.isFriend=!1,this.resort()})}).catch(o=>this.alert.showError(o)))}resort(){this.allBuddies.sort((e,t)=>Number(t.isFriend)-Number(e.isFriend))}}function nK(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"You can add your first task to library on 'Tasks' page."),c.qZA())}function iK(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-task-details",4),c.NdJ("removeFromLibrary",function(r){c.CHM(t);const o=c.oxw();return c.KtG(o.remove(r))}),c.qZA()}2&n&&c.Q6J("task",e.$implicit)("libraryView",!0)}x0.\u0275fac=function(e){return new(e||x0)(c.Y36(Na),c.Y36(La))},x0.\u0275cmp=c.Xpm({type:x0,selectors:[["app-friends-page"]],decls:9,vars:5,consts:[[1,"search-header"],["matInput","","matNativeControl","","type","search","id","searchField","name","searchField","placeholder","Enter username to search",3,"ngModel","ngModelChange"],[1,"friends-area"],[4,"ngFor","ngForOf"],["fontIcon","face"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(c._UZ(0,"app-toolbar-main"),c.TgZ(1,"h1"),c._uU(2,"FRIENDS"),c.qZA(),c.TgZ(3,"div",0)(4,"input",1),c.NdJ("ngModelChange",function(r){return t.searchPhrase=r}),c.qZA()(),c._UZ(5,"mat-divider"),c.TgZ(6,"div",2),c.YNc(7,tK,11,5,"mat-card",3),c.ALo(8,"userFilter"),c.qZA()),2&e&&(c.xp6(4),c.Q6J("ngModel",t.searchPhrase),c.xp6(3),c.Q6J("ngForOf",c.xi3(8,2,t.allBuddies,t.searchPhrase)))},dependencies:[Zi,Jt,_r,ul,wd,HD,m0,$O,g0,h0,KZ,XZ,Ou,E0],styles:["*[_ngcontent-%COMP%]{margin:5px}h1[_ngcontent-%COMP%]{margin-left:10px;font-weight:500}.search-header[_ngcontent-%COMP%]{width:80%;display:flex}#searchField[_ngcontent-%COMP%]{min-height:3em;flex:1}.friends-area[_ngcontent-%COMP%]{width:80%}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;border-width:2px;border-color:gray;margin-top:10px}mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{flex:6;padding:0}mat-icon[_ngcontent-%COMP%]{margin:0}mat-card[_ngcontent-%COMP%] > mat-card-actions[_ngcontent-%COMP%]{flex:1}"]});class I0{constructor(e,t){this.fireService=e,this.alert=t,this.tasks=[],this.currentUserId=localStorage.getItem("userId")}ngOnInit(){this.fireService.getCurrentUser(this.currentUserId).subscribe(e=>{!e||this.fireService.getTasks().subscribe(t=>this.tasks=t.filter(i=>e.tasks.includes(i.id)))})}remove(e){let t=Object.assign([],this.tasks),i=t.indexOf(e);i<0||(t.splice(i,1),this.fireService.updateTasks(this.currentUserId,t.map(r=>r.id)).then(()=>{this.tasks=t}).catch(r=>this.alert.showError(r)))}}I0.\u0275fac=function(e){return new(e||I0)(c.Y36(Na),c.Y36(La))},I0.\u0275cmp=c.Xpm({type:I0,selectors:[["app-library-page"]],decls:6,vars:2,consts:[["id","emptyPlaceHolder",4,"ngIf"],[1,"tasks-area"],[3,"task","libraryView","removeFromLibrary",4,"ngFor","ngForOf"],["id","emptyPlaceHolder"],[3,"task","libraryView","removeFromLibrary"]],template:function(e,t){1&e&&(c._UZ(0,"app-toolbar-main"),c.TgZ(1,"h1"),c._uU(2,"MY TASKS"),c.qZA(),c.YNc(3,nK,2,0,"p",0),c.TgZ(4,"div",1),c.YNc(5,iK,1,2,"app-task-details",2),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf",0===t.tasks.length),c.xp6(2),c.Q6J("ngForOf",t.tasks))},dependencies:[Zi,Jt,Ou,Og],styles:["*[_ngcontent-%COMP%]{margin:5px}h1[_ngcontent-%COMP%]{margin-left:10px;font-weight:500}#emptyPlaceHolder[_ngcontent-%COMP%]{margin-left:10px}.tasks-area[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}app-task-details[_ngcontent-%COMP%]{flex-basis:20%}"]});class Ng{validate(e){let t=e.value;return t<12||t>123?{invalidAge:{value:e.value}}:null}}Ng.\u0275fac=function(e){return new(e||Ng)},Ng.\u0275dir=c.lG2({type:Ng,selectors:[["","validAge",""]],features:[c._Bn([{provide:qn,useExisting:Ng,multi:!0}])]});class C0{constructor(e,t){this.fireService=e,this.alert=t,this.name="",this.email="",this.age=18,this.status="",this.currentUserId=localStorage.getItem("userId")}ngOnInit(){this.fireService.getCurrentUser(this.currentUserId).subscribe(e=>{!e||(this.name=e.username,this.email=e.email,this.age=e.age,this.status=e.status)})}onSaved(){this.fireService.updateProfile(this.currentUserId,this.age,this.status).then(()=>this.alert.showSuccess("Update performed successfully")).catch(e=>this.alert.showError(e))}}C0.\u0275fac=function(e){return new(e||C0)(c.Y36(Na),c.Y36(La))},C0.\u0275cmp=c.Xpm({type:C0,selectors:[["app-profile-page"]],decls:28,vars:6,consts:[[3,"submit"],["profileForm","ngForm"],["align","center"],[1,"row"],["name","age","type","number","matInput","","required","","validAge","",3,"ngModel","ngModelChange"],["ageBox","ngModel"],[3,"hidden"],["matInput","","name","status",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){if(1&e&&(c._UZ(0,"app-toolbar-main"),c.TgZ(1,"div")(2,"form",0,1),c.NdJ("submit",function(){return t.onSaved()}),c.TgZ(4,"mat-card",2)(5,"div")(6,"mat-card-title"),c._uU(7,"PROFILE"),c.qZA(),c.TgZ(8,"mat-card-subtitle"),c._uU(9),c.qZA()(),c._UZ(10,"br"),c.TgZ(11,"mat-card-content")(12,"div",3)(13,"mat-form-field")(14,"mat-label"),c._uU(15,"Age"),c.qZA(),c.TgZ(16,"input",4,5),c.NdJ("ngModelChange",function(r){return t.age=r}),c.qZA(),c.TgZ(18,"mat-hint",6),c._uU(19," Allowed age range: from 12 to 123. "),c.qZA()()(),c.TgZ(20,"div",3)(21,"mat-form-field")(22,"mat-label"),c._uU(23,"Status"),c.qZA(),c.TgZ(24,"textarea",7),c.NdJ("ngModelChange",function(r){return t.status=r}),c.qZA()()(),c.TgZ(25,"div",3)(26,"button",8),c._uU(27,"Save"),c.qZA()()()()()()),2&e){const i=c.MAs(3),r=c.MAs(17);c.xp6(9),c.AsE("",t.name," (",t.email,")"),c.xp6(7),c.Q6J("ngModel",t.age),c.xp6(2),c.Q6J("hidden",r.valid||r.pristine),c.xp6(6),c.Q6J("ngModel",t.status),c.xp6(2),c.Q6J("disabled",!i.form.valid)}},dependencies:[S_,_r,A_,ul,bc,Id,wd,xo,HO,p0,VD,HD,m0,g0,jO,jD,h0,Ou,Ng],styles:["form[_ngcontent-%COMP%]{margin:auto;width:30%;padding-top:10em}mat-card[_ngcontent-%COMP%]{padding:1em}mat-form-field[_ngcontent-%COMP%]{width:90%}"]});const rK=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:_0},{path:"home",component:v0},{path:"friends",component:x0},{path:"library",component:I0},{path:"profile",component:C0}];class Lg{}Lg.\u0275fac=function(e){return new(e||Lg)},Lg.\u0275mod=c.oAB({type:Lg}),Lg.\u0275inj=c.cJS({imports:[dv.forRoot(rK),dv]});class D0{}D0.\u0275fac=function(e){return new(e||D0)},D0.\u0275cmp=c.Xpm({type:D0,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&c._UZ(0,"router-outlet")},dependencies:[HE]});let fK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hn,qo,SO]}),n})();const NH={production:!1,firebase:{projectId:"taskboard-31092",appId:"1:810625641868:web:84bd63d190ff30219afaa9",storageBucket:"taskboard-31092.appspot.com",apiKey:"AIzaSyC3_Ohin8iYfakwM3sGrq3TKfElYRXJ3_w",authDomain:"taskboard-31092.firebaseapp.com",messagingSenderId:"810625641868"}};class Vg{}Vg.\u0275fac=function(e){return new(e||Vg)},Vg.\u0275mod=c.oAB({type:Vg,bootstrap:[D0]}),Vg.\u0275inj=c.cJS({providers:[{provide:Bo.Dh,useValue:NH.firebase}],imports:[ia,_S,Lg,_l,UD,C8,U8,NU,hZ,iH,oZ,YZ,fK,QZ,function Rj(n,...e){return{ngModule:kj,providers:[{provide:jM,useFactory:Mj(n),multi:!0,deps:[c.R0b,c.zs3,Kv,...e]}]}}(()=>Oj(NH.firebase)),function A$(n,...e){return{ngModule:T$,providers:[{provide:lk,useFactory:C$(n),multi:!0,deps:[c.R0b,c.zs3,Kv,HM,[new c.FiY,Jv],...e]}]}}(()=>M$()),function P4(n,...e){return{ngModule:F4,providers:[{provide:oO,useFactory:k4(n),multi:!0,deps:[c.R0b,c.zs3,Kv,HM,[new c.FiY,WP],[new c.FiY,Jv],...e]}]}}(()=>V4())]}),tl().bootstrapModule(Vg).catch(n=>console.error(n))},1520:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(ne){return"[object Array]"===Object.prototype.toString.call(ne)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(ne){return"object"==typeof ne&&ne.buffer&&ne.buffer.constructor===ArrayBuffer});var createOutputMethod=function(ne,re){return function(R){return new Sha256(re,!0).update(R)[ne]()}},createMethod=function(ne){var re=createOutputMethod("hex",ne);NODE_JS&&(re=nodeWrap(re,ne)),re.create=function(){return new Sha256(ne)},re.update=function(F){return re.create().update(F)};for(var R=0;R<OUTPUT_TYPES.length;++R){var c=OUTPUT_TYPES[R];re[c]=createOutputMethod(c,ne)}return re},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(ne){if("string"==typeof ne)return crypto.createHash(algorithm).update(ne,"utf8").digest("hex");if(null==ne)throw new Error(ERROR);return ne.constructor===ArrayBuffer&&(ne=new Uint8Array(ne)),Array.isArray(ne)||ArrayBuffer.isView(ne)||ne.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(ne)).digest("hex"):method(ne)};return nodeMethod},createHmacOutputMethod=function(ne,re){return function(R,c){return new HmacSha256(R,re,!0).update(c)[ne]()}},createHmacMethod=function(ne){var re=createHmacOutputMethod("hex",ne);re.create=function(F){return new HmacSha256(F,ne)},re.update=function(F,M){return re.create(F).update(M)};for(var R=0;R<OUTPUT_TYPES.length;++R){var c=OUTPUT_TYPES[R];re[c]=createHmacOutputMethod(c,ne)}return re};function Sha256(ne,re){re?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=ne}function HmacSha256(ne,re,R){var c,F=typeof ne;if("string"===F){var Y,M=[],ie=ne.length,J=0;for(c=0;c<ie;++c)(Y=ne.charCodeAt(c))<128?M[J++]=Y:Y<2048?(M[J++]=192|Y>>6,M[J++]=128|63&Y):Y<55296||Y>=57344?(M[J++]=224|Y>>12,M[J++]=128|Y>>6&63,M[J++]=128|63&Y):(Y=65536+((1023&Y)<<10|1023&ne.charCodeAt(++c)),M[J++]=240|Y>>18,M[J++]=128|Y>>12&63,M[J++]=128|Y>>6&63,M[J++]=128|63&Y);ne=M}else{if("object"!==F)throw new Error(ERROR);if(null===ne)throw new Error(ERROR);if(ARRAY_BUFFER&&ne.constructor===ArrayBuffer)ne=new Uint8Array(ne);else if(!(Array.isArray(ne)||ARRAY_BUFFER&&ArrayBuffer.isView(ne)))throw new Error(ERROR)}ne.length>64&&(ne=new Sha256(re,!0).update(ne).array());var ve=[],pe=[];for(c=0;c<64;++c){var be=ne[c]||0;ve[c]=92^be,pe[c]=54^be}Sha256.call(this,re,R),this.update(pe),this.oKeyPad=ve,this.inner=!0,this.sharedMemory=R}Sha256.prototype.update=function(ne){if(!this.finalized){var re,R=typeof ne;if("string"!==R){if("object"!==R)throw new Error(ERROR);if(null===ne)throw new Error(ERROR);if(ARRAY_BUFFER&&ne.constructor===ArrayBuffer)ne=new Uint8Array(ne);else if(!(Array.isArray(ne)||ARRAY_BUFFER&&ArrayBuffer.isView(ne)))throw new Error(ERROR);re=!0}for(var c,M,F=0,ie=ne.length,J=this.blocks;F<ie;){if(this.hashed&&(this.hashed=!1,J[0]=this.block,J[16]=J[1]=J[2]=J[3]=J[4]=J[5]=J[6]=J[7]=J[8]=J[9]=J[10]=J[11]=J[12]=J[13]=J[14]=J[15]=0),re)for(M=this.start;F<ie&&M<64;++F)J[M>>2]|=ne[F]<<SHIFT[3&M++];else for(M=this.start;F<ie&&M<64;++F)(c=ne.charCodeAt(F))<128?J[M>>2]|=c<<SHIFT[3&M++]:c<2048?(J[M>>2]|=(192|c>>6)<<SHIFT[3&M++],J[M>>2]|=(128|63&c)<<SHIFT[3&M++]):c<55296||c>=57344?(J[M>>2]|=(224|c>>12)<<SHIFT[3&M++],J[M>>2]|=(128|c>>6&63)<<SHIFT[3&M++],J[M>>2]|=(128|63&c)<<SHIFT[3&M++]):(c=65536+((1023&c)<<10|1023&ne.charCodeAt(++F)),J[M>>2]|=(240|c>>18)<<SHIFT[3&M++],J[M>>2]|=(128|c>>12&63)<<SHIFT[3&M++],J[M>>2]|=(128|c>>6&63)<<SHIFT[3&M++],J[M>>2]|=(128|63&c)<<SHIFT[3&M++]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=J[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var ne=this.blocks,re=this.lastByteIndex;ne[16]=this.block,ne[re>>2]|=EXTRA[3&re],this.block=ne[16],re>=56&&(this.hashed||this.hash(),ne[0]=this.block,ne[16]=ne[1]=ne[2]=ne[3]=ne[4]=ne[5]=ne[6]=ne[7]=ne[8]=ne[9]=ne[10]=ne[11]=ne[12]=ne[13]=ne[14]=ne[15]=0),ne[14]=this.hBytes<<3|this.bytes>>>29,ne[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var ve,B,Te,$e,We,oe,ne=this.h0,re=this.h1,R=this.h2,c=this.h3,F=this.h4,M=this.h5,ie=this.h6,J=this.h7,Y=this.blocks;for(ve=16;ve<64;++ve)Y[ve]=Y[ve-16]+(((B=Y[ve-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3)+Y[ve-7]+(((B=Y[ve-2])>>>17|B<<15)^(B>>>19|B<<13)^B>>>10)<<0;for(oe=re&R,ve=0;ve<64;ve+=4)this.first?(this.is224?(Te=300032,J=(B=Y[0]-1413257819)-150054599<<0,c=B+24177077<<0):(Te=704751109,J=(B=Y[0]-210244248)-1521486534<<0,c=B+143694565<<0),this.first=!1):(J=c+(B=J+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&M^~F&ie)+K[ve]+Y[ve])<<0,c=B+(((ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10))+((Te=ne&re)^ne&R^oe))<<0),ie=R+(B=ie+((J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7))+(J&F^~J&M)+K[ve+1]+Y[ve+1])<<0,R=B+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(($e=c&ne)^c&re^Te))<<0,M=re+(B=M+((ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7))+(ie&J^~ie&F)+K[ve+2]+Y[ve+2])<<0,re=B+(((R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10))+((We=R&c)^R&ne^$e))<<0,F=ne+(B=F+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&ie^~M&J)+K[ve+3]+Y[ve+3])<<0,ne=B+(((re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10))+((oe=re&R)^re&c^We))<<0;this.h0=this.h0+ne<<0,this.h1=this.h1+re<<0,this.h2=this.h2+R<<0,this.h3=this.h3+c<<0,this.h4=this.h4+F<<0,this.h5=this.h5+M<<0,this.h6=this.h6+ie<<0,this.h7=this.h7+J<<0},Sha256.prototype.hex=function(){this.finalize();var ne=this.h0,re=this.h1,R=this.h2,c=this.h3,F=this.h4,M=this.h5,ie=this.h6,J=this.h7,Y=HEX_CHARS[ne>>28&15]+HEX_CHARS[ne>>24&15]+HEX_CHARS[ne>>20&15]+HEX_CHARS[ne>>16&15]+HEX_CHARS[ne>>12&15]+HEX_CHARS[ne>>8&15]+HEX_CHARS[ne>>4&15]+HEX_CHARS[15&ne]+HEX_CHARS[re>>28&15]+HEX_CHARS[re>>24&15]+HEX_CHARS[re>>20&15]+HEX_CHARS[re>>16&15]+HEX_CHARS[re>>12&15]+HEX_CHARS[re>>8&15]+HEX_CHARS[re>>4&15]+HEX_CHARS[15&re]+HEX_CHARS[R>>28&15]+HEX_CHARS[R>>24&15]+HEX_CHARS[R>>20&15]+HEX_CHARS[R>>16&15]+HEX_CHARS[R>>12&15]+HEX_CHARS[R>>8&15]+HEX_CHARS[R>>4&15]+HEX_CHARS[15&R]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[15&F]+HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]+HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[15&ie];return this.is224||(Y+=HEX_CHARS[J>>28&15]+HEX_CHARS[J>>24&15]+HEX_CHARS[J>>20&15]+HEX_CHARS[J>>16&15]+HEX_CHARS[J>>12&15]+HEX_CHARS[J>>8&15]+HEX_CHARS[J>>4&15]+HEX_CHARS[15&J]),Y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var ne=this.h0,re=this.h1,R=this.h2,c=this.h3,F=this.h4,M=this.h5,ie=this.h6,J=this.h7,Y=[ne>>24&255,ne>>16&255,ne>>8&255,255&ne,re>>24&255,re>>16&255,re>>8&255,255&re,R>>24&255,R>>16&255,R>>8&255,255&R,c>>24&255,c>>16&255,c>>8&255,255&c,F>>24&255,F>>16&255,F>>8&255,255&F,M>>24&255,M>>16&255,M>>8&255,255&M,ie>>24&255,ie>>16&255,ie>>8&255,255&ie];return this.is224||Y.push(J>>24&255,J>>16&255,J>>8&255,255&J),Y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var ne=new ArrayBuffer(this.is224?28:32),re=new DataView(ne);return re.setUint32(0,this.h0),re.setUint32(4,this.h1),re.setUint32(8,this.h2),re.setUint32(12,this.h3),re.setUint32(16,this.h4),re.setUint32(20,this.h5),re.setUint32(24,this.h6),this.is224||re.setUint32(28,this.h7),ne},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var ne=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(ne),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},9751:(ne,re,R)=>{"use strict";R.d(re,{y:()=>pe});var c=R(930),F=R(727),M=R(8822),ie=R(9635),J=R(2416),Y=R(576),ve=R(2806);let pe=(()=>{class q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const $e=new q;return $e.source=this,$e.operator=Te,$e}subscribe(Te,$e,We){const oe=function B(q){return q&&q instanceof c.Lv||function j(q){return q&&(0,Y.m)(q.next)&&(0,Y.m)(q.error)&&(0,Y.m)(q.complete)}(q)&&(0,F.Nn)(q)}(Te)?Te:new c.Hp(Te,$e,We);return(0,ve.x)(()=>{const{operator:Ae,source:we}=this;oe.add(Ae?Ae.call(oe,we):we?this._subscribe(oe):this._trySubscribe(oe))}),oe}_trySubscribe(Te){try{return this._subscribe(Te)}catch($e){Te.error($e)}}forEach(Te,$e){return new($e=be($e))((We,oe)=>{const Ae=new c.Hp({next:we=>{try{Te(we)}catch(ke){oe(ke),Ae.unsubscribe()}},error:oe,complete:We});this.subscribe(Ae)})}_subscribe(Te){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Te)}[M.L](){return this}pipe(...Te){return(0,ie.U)(Te)(this)}toPromise(Te){return new(Te=be(Te))(($e,We)=>{let oe;this.subscribe(Ae=>oe=Ae,Ae=>We(Ae),()=>$e(oe))})}}return q.create=Me=>new q(Me),q})();function be(q){var Me;return null!==(Me=q??J.v.Promise)&&void 0!==Me?Me:Promise}},7579:(ne,re,R)=>{"use strict";R.d(re,{x:()=>ve});var c=R(9751),F=R(727);const ie=(0,R(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=R(8737),Y=R(2806);let ve=(()=>{class be extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const q=new pe(this,this);return q.operator=B,q}_throwIfClosed(){if(this.closed)throw new ie}next(B){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(B)}})}error(B){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:q}=this;for(;q.length;)q.shift().error(B)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:q,isStopped:Me,observers:Te}=this;return q||Me?F.Lc:(this.currentObservers=null,Te.push(B),new F.w0(()=>{this.currentObservers=null,(0,J.P)(Te,B)}))}_checkFinalizedStatuses(B){const{hasError:q,thrownError:Me,isStopped:Te}=this;q?B.error(Me):Te&&B.complete()}asObservable(){const B=new c.y;return B.source=this,B}}return be.create=(j,B)=>new pe(j,B),be})();class pe extends ve{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===q||q.call(B,j)}error(j){var B,q;null===(q=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===q||q.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,q;return null!==(q=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==q?q:F.Lc}}},930:(ne,re,R)=>{"use strict";R.d(re,{Hp:()=>We,Lv:()=>q});var c=R(576),F=R(727),M=R(2416),ie=R(7849),J=R(5032);const Y=be("C",void 0,void 0);function be(Pe,Ce,Ee){return{kind:Pe,value:Ce,error:Ee}}var j=R(3410),B=R(2806);class q extends F.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,F.Nn)(Ce)&&Ce.add(this)):this.destination=ke}static create(Ce,Ee,Be){return new We(Ce,Ee,Be)}next(Ce){this.isStopped?we(function pe(Pe){return be("N",Pe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?we(function ve(Pe){return be("E",void 0,Pe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?we(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Te(Pe,Ce){return Me.call(Pe,Ce)}class $e{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(Be){oe(Be)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(Be){oe(Be)}else oe(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){oe(Ee)}}}class We extends q{constructor(Ce,Ee,Be){let se;if(super(),(0,c.m)(Ce)||!Ce)se={next:Ce??void 0,error:Ee??void 0,complete:Be??void 0};else{let ce;this&&M.v.useDeprecatedNextContext?(ce=Object.create(Ce),ce.unsubscribe=()=>this.unsubscribe(),se={next:Ce.next&&Te(Ce.next,ce),error:Ce.error&&Te(Ce.error,ce),complete:Ce.complete&&Te(Ce.complete,ce)}):se=Ce}this.destination=new $e(se)}}function oe(Pe){M.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Pe):(0,ie.h)(Pe)}function we(Pe,Ce){const{onStoppedNotification:Ee}=M.v;Ee&&j.z.setTimeout(()=>Ee(Pe,Ce))}const ke={closed:!0,next:J.Z,error:function Ae(Pe){throw Pe},complete:J.Z}},727:(ne,re,R)=>{"use strict";R.d(re,{Lc:()=>Y,w0:()=>J,Nn:()=>ve});var c=R(576);const M=(0,R(3888).d)(be=>function(B){be(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((q,Me)=>`${Me+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ie=R(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Te of B)Te.remove(this);else B.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(Te){j=Te instanceof M?Te.errors:[Te]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Te of Me)try{pe(Te)}catch($e){j=j??[],$e instanceof M?j=[...j,...$e.errors]:j.push($e)}}if(j)throw new M(j)}}add(j){var B;if(j&&j!==this)if(this.closed)pe(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,ie.P)(B,j)}remove(j){const{_finalizers:B}=this;B&&(0,ie.P)(B,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const be=new J;return be.closed=!0,be})();const Y=J.EMPTY;function ve(be){return be instanceof J||be&&"closed"in be&&(0,c.m)(be.remove)&&(0,c.m)(be.add)&&(0,c.m)(be.unsubscribe)}function pe(be){(0,c.m)(be)?be():be.unsubscribe()}},2416:(ne,re,R)=>{"use strict";R.d(re,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ne,re,R)=>{"use strict";R.d(re,{E:()=>F});const F=new(R(9751).y)(J=>J.complete())},8996:(ne,re,R)=>{"use strict";R.d(re,{D:()=>Ce});var c=R(8421),F=R(5363),M=R(9468),Y=R(9751),pe=R(2202),be=R(576),j=R(9672);function q(Ee,Be){if(!Ee)throw new Error("Iterable cannot be null");return new Y.y(se=>{(0,j.f)(se,Be,()=>{const ce=Ee[Symbol.asyncIterator]();(0,j.f)(se,Be,()=>{ce.next().then(ge=>{ge.done?se.complete():se.next(ge.value)})},0,!0)})})}var Me=R(3670),Te=R(8239),$e=R(1144),We=R(6495),oe=R(2206),Ae=R(4532),we=R(3260);function Ce(Ee,Be){return Be?function Pe(Ee,Be){if(null!=Ee){if((0,Me.c)(Ee))return function ie(Ee,Be){return(0,c.Xf)(Ee).pipe((0,M.R)(Be),(0,F.Q)(Be))}(Ee,Be);if((0,$e.z)(Ee))return function ve(Ee,Be){return new Y.y(se=>{let ce=0;return Be.schedule(function(){ce===Ee.length?se.complete():(se.next(Ee[ce++]),se.closed||this.schedule())})})}(Ee,Be);if((0,Te.t)(Ee))return function J(Ee,Be){return(0,c.Xf)(Ee).pipe((0,M.R)(Be),(0,F.Q)(Be))}(Ee,Be);if((0,oe.D)(Ee))return q(Ee,Be);if((0,We.T)(Ee))return function B(Ee,Be){return new Y.y(se=>{let ce;return(0,j.f)(se,Be,()=>{ce=Ee[pe.h](),(0,j.f)(se,Be,()=>{let ge,Z;try{({value:ge,done:Z}=ce.next())}catch(W){return void se.error(W)}Z?se.complete():se.next(ge)},0,!0)}),()=>(0,be.m)(ce?.return)&&ce.return()})}(Ee,Be);if((0,we.L)(Ee))return function ke(Ee,Be){return q((0,we.Q)(Ee),Be)}(Ee,Be)}throw(0,Ae.z)(Ee)}(Ee,Be):(0,c.Xf)(Ee)}},8421:(ne,re,R)=>{"use strict";R.d(re,{Xf:()=>Me});var c=R(655),F=R(1144),M=R(8239),ie=R(9751),J=R(3670),Y=R(2206),ve=R(4532),pe=R(6495),be=R(3260),j=R(576),B=R(7849),q=R(8822);function Me(Pe){if(Pe instanceof ie.y)return Pe;if(null!=Pe){if((0,J.c)(Pe))return function Te(Pe){return new ie.y(Ce=>{const Ee=Pe[q.L]();if((0,j.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,F.z)(Pe))return function $e(Pe){return new ie.y(Ce=>{for(let Ee=0;Ee<Pe.length&&!Ce.closed;Ee++)Ce.next(Pe[Ee]);Ce.complete()})}(Pe);if((0,M.t)(Pe))return function We(Pe){return new ie.y(Ce=>{Pe.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,B.h)})}(Pe);if((0,Y.D)(Pe))return Ae(Pe);if((0,pe.T)(Pe))return function oe(Pe){return new ie.y(Ce=>{for(const Ee of Pe)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(Pe);if((0,be.L)(Pe))return function we(Pe){return Ae((0,be.Q)(Pe))}(Pe)}throw(0,ve.z)(Pe)}function Ae(Pe){return new ie.y(Ce=>{(function ke(Pe,Ce){var Ee,Be,se,ce;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(Pe);!(Be=yield Ee.next()).done;)if(Ce.next(Be.value),Ce.closed)return}catch(ge){se={error:ge}}finally{try{Be&&!Be.done&&(ce=Ee.return)&&(yield ce.call(Ee))}finally{if(se)throw se.error}}Ce.complete()})})(Pe,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(ne,re,R)=>{"use strict";R.d(re,{T:()=>Y});var c=R(8189),F=R(8421),M=R(515),ie=R(3269),J=R(8996);function Y(...ve){const pe=(0,ie.yG)(ve),be=(0,ie._6)(ve,1/0),j=ve;return j.length?1===j.length?(0,F.Xf)(j[0]):(0,c.J)(be)((0,J.D)(j,pe)):M.E}},5403:(ne,re,R)=>{"use strict";R.d(re,{x:()=>F});var c=R(930);function F(ie,J,Y,ve,pe){return new M(ie,J,Y,ve,pe)}class M extends c.Lv{constructor(J,Y,ve,pe,be,j){super(J),this.onFinalize=be,this.shouldUnsubscribe=j,this._next=Y?function(B){try{Y(B)}catch(q){J.error(q)}}:super._next,this._error=pe?function(B){try{pe(B)}catch(q){J.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(B){J.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Y}=this;super.unsubscribe(),!Y&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(ne,re,R)=>{"use strict";R.d(re,{U:()=>M});var c=R(4482),F=R(5403);function M(ie,J){return(0,c.e)((Y,ve)=>{let pe=0;Y.subscribe((0,F.x)(ve,be=>{ve.next(ie.call(J,be,pe++))}))})}},8189:(ne,re,R)=>{"use strict";R.d(re,{J:()=>M});var c=R(5577),F=R(4671);function M(ie=1/0){return(0,c.z)(F.y,ie)}},5577:(ne,re,R)=>{"use strict";R.d(re,{z:()=>pe});var c=R(4004),F=R(8421),M=R(4482),ie=R(9672),J=R(5403),ve=R(576);function pe(be,j,B=1/0){return(0,ve.m)(j)?pe((q,Me)=>(0,c.U)((Te,$e)=>j(q,Te,Me,$e))((0,F.Xf)(be(q,Me))),B):("number"==typeof j&&(B=j),(0,M.e)((q,Me)=>function Y(be,j,B,q,Me,Te,$e,We){const oe=[];let Ae=0,we=0,ke=!1;const Pe=()=>{ke&&!oe.length&&!Ae&&j.complete()},Ce=Be=>Ae<q?Ee(Be):oe.push(Be),Ee=Be=>{Te&&j.next(Be),Ae++;let se=!1;(0,F.Xf)(B(Be,we++)).subscribe((0,J.x)(j,ce=>{Me?.(ce),Te?Ce(ce):j.next(ce)},()=>{se=!0},void 0,()=>{if(se)try{for(Ae--;oe.length&&Ae<q;){const ce=oe.shift();$e?(0,ie.f)(j,$e,()=>Ee(ce)):Ee(ce)}Pe()}catch(ce){j.error(ce)}}))};return be.subscribe((0,J.x)(j,Ce,()=>{ke=!0,Pe()})),()=>{We?.()}}(q,Me,be,B)))}},5363:(ne,re,R)=>{"use strict";R.d(re,{Q:()=>ie});var c=R(9672),F=R(4482),M=R(5403);function ie(J,Y=0){return(0,F.e)((ve,pe)=>{ve.subscribe((0,M.x)(pe,be=>(0,c.f)(pe,J,()=>pe.next(be),Y),()=>(0,c.f)(pe,J,()=>pe.complete(),Y),be=>(0,c.f)(pe,J,()=>pe.error(be),Y)))})}},3099:(ne,re,R)=>{"use strict";R.d(re,{B:()=>J});var c=R(8421),F=R(7579),M=R(930),ie=R(4482);function J(ve={}){const{connector:pe=(()=>new F.x),resetOnError:be=!0,resetOnComplete:j=!0,resetOnRefCountZero:B=!0}=ve;return q=>{let Me,Te,$e,We=0,oe=!1,Ae=!1;const we=()=>{Te?.unsubscribe(),Te=void 0},ke=()=>{we(),Me=$e=void 0,oe=Ae=!1},Pe=()=>{const Ce=Me;ke(),Ce?.unsubscribe()};return(0,ie.e)((Ce,Ee)=>{We++,!Ae&&!oe&&we();const Be=$e=$e??pe();Ee.add(()=>{We--,0===We&&!Ae&&!oe&&(Te=Y(Pe,B))}),Be.subscribe(Ee),!Me&&We>0&&(Me=new M.Hp({next:se=>Be.next(se),error:se=>{Ae=!0,we(),Te=Y(ke,be,se),Be.error(se)},complete:()=>{oe=!0,we(),Te=Y(ke,j),Be.complete()}}),(0,c.Xf)(Ce).subscribe(Me))})(q)}}function Y(ve,pe,...be){if(!0===pe)return void ve();if(!1===pe)return;const j=new M.Hp({next:()=>{j.unsubscribe(),ve()}});return pe(...be).subscribe(j)}},9468:(ne,re,R)=>{"use strict";R.d(re,{R:()=>F});var c=R(4482);function F(M,ie=0){return(0,c.e)((J,Y)=>{Y.add(M.schedule(()=>J.subscribe(Y),ie))})}},3410:(ne,re,R)=>{"use strict";R.d(re,{z:()=>c});const c={setTimeout(F,M,...ie){const{delegate:J}=c;return J?.setTimeout?J.setTimeout(F,M,...ie):setTimeout(F,M,...ie)},clearTimeout(F){const{delegate:M}=c;return(M?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(ne,re,R)=>{"use strict";R.d(re,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ne,re,R)=>{"use strict";R.d(re,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ne,re,R)=>{"use strict";R.d(re,{_6:()=>Y,jO:()=>ie,yG:()=>J});var c=R(576),F=R(3532);function M(ve){return ve[ve.length-1]}function ie(ve){return(0,c.m)(M(ve))?ve.pop():void 0}function J(ve){return(0,F.K)(M(ve))?ve.pop():void 0}function Y(ve,pe){return"number"==typeof M(ve)?ve.pop():pe}},8737:(ne,re,R)=>{"use strict";function c(F,M){if(F){const ie=F.indexOf(M);0<=ie&&F.splice(ie,1)}}R.d(re,{P:()=>c})},3888:(ne,re,R)=>{"use strict";function c(F){const ie=F(J=>{Error.call(J),J.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}R.d(re,{d:()=>c})},2806:(ne,re,R)=>{"use strict";R.d(re,{O:()=>ie,x:()=>M});var c=R(2416);let F=null;function M(J){if(c.v.useDeprecatedSynchronousErrorHandling){const Y=!F;if(Y&&(F={errorThrown:!1,error:null}),J(),Y){const{errorThrown:ve,error:pe}=F;if(F=null,ve)throw pe}}else J()}function ie(J){c.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=J)}},9672:(ne,re,R)=>{"use strict";function c(F,M,ie,J=0,Y=!1){const ve=M.schedule(function(){ie(),Y?F.add(this.schedule(null,J)):this.unsubscribe()},J);if(F.add(ve),!Y)return ve}R.d(re,{f:()=>c})},4671:(ne,re,R)=>{"use strict";function c(F){return F}R.d(re,{y:()=>c})},1144:(ne,re,R)=>{"use strict";R.d(re,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(ne,re,R)=>{"use strict";R.d(re,{D:()=>F});var c=R(576);function F(M){return Symbol.asyncIterator&&(0,c.m)(M?.[Symbol.asyncIterator])}},576:(ne,re,R)=>{"use strict";function c(F){return"function"==typeof F}R.d(re,{m:()=>c})},3670:(ne,re,R)=>{"use strict";R.d(re,{c:()=>M});var c=R(8822),F=R(576);function M(ie){return(0,F.m)(ie[c.L])}},6495:(ne,re,R)=>{"use strict";R.d(re,{T:()=>M});var c=R(2202),F=R(576);function M(ie){return(0,F.m)(ie?.[c.h])}},8239:(ne,re,R)=>{"use strict";R.d(re,{t:()=>F});var c=R(576);function F(M){return(0,c.m)(M?.then)}},3260:(ne,re,R)=>{"use strict";R.d(re,{L:()=>ie,Q:()=>M});var c=R(655),F=R(576);function M(J){return(0,c.FC)(this,arguments,function*(){const ve=J.getReader();try{for(;;){const{value:pe,done:be}=yield(0,c.qq)(ve.read());if(be)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{ve.releaseLock()}})}function ie(J){return(0,F.m)(J?.getReader)}},3532:(ne,re,R)=>{"use strict";R.d(re,{K:()=>F});var c=R(576);function F(M){return M&&(0,c.m)(M.schedule)}},4482:(ne,re,R)=>{"use strict";R.d(re,{A:()=>F,e:()=>M});var c=R(576);function F(ie){return(0,c.m)(ie?.lift)}function M(ie){return J=>{if(F(J))return J.lift(function(Y){try{return ie(Y,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ne,re,R)=>{"use strict";function c(){}R.d(re,{Z:()=>c})},9635:(ne,re,R)=>{"use strict";R.d(re,{U:()=>M,z:()=>F});var c=R(4671);function F(...ie){return M(ie)}function M(ie){return 0===ie.length?c.y:1===ie.length?ie[0]:function(Y){return ie.reduce((ve,pe)=>pe(ve),Y)}}},7849:(ne,re,R)=>{"use strict";R.d(re,{h:()=>M});var c=R(2416),F=R(3410);function M(ie){F.z.setTimeout(()=>{const{onUnhandledError:J}=c.v;if(!J)throw ie;J(ie)})}},4532:(ne,re,R)=>{"use strict";function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(re,{z:()=>c})},655:(ne,re,R)=>{"use strict";function ie(Z,W){var de={};for(var ae in Z)Object.prototype.hasOwnProperty.call(Z,ae)&&W.indexOf(ae)<0&&(de[ae]=Z[ae]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ae=Object.getOwnPropertySymbols(Z);Oe<ae.length;Oe++)W.indexOf(ae[Oe])<0&&Object.prototype.propertyIsEnumerable.call(Z,ae[Oe])&&(de[ae[Oe]]=Z[ae[Oe]])}return de}function pe(Z,W,de,ae){return new(de||(de=Promise))(function(Re,at){function Zt(Nt){try{yt(ae.next(Nt))}catch(_t){at(_t)}}function an(Nt){try{yt(ae.throw(Nt))}catch(_t){at(_t)}}function yt(Nt){Nt.done?Re(Nt.value):function Oe(Re){return Re instanceof de?Re:new de(function(at){at(Re)})}(Nt.value).then(Zt,an)}yt((ae=ae.apply(Z,W||[])).next())})}function oe(Z){return this instanceof oe?(this.v=Z,this):new oe(Z)}function Ae(Z,W,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ae=de.apply(Z,W||[]),Re=[];return Oe={},at("next"),at("throw"),at("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function at(rn){ae[rn]&&(Oe[rn]=function(ci){return new Promise(function(Ht,ht){Re.push([rn,ci,Ht,ht])>1||Zt(rn,ci)})})}function Zt(rn,ci){try{!function an(rn){rn.value instanceof oe?Promise.resolve(rn.value.v).then(yt,Nt):_t(Re[0][2],rn)}(ae[rn](ci))}catch(Ht){_t(Re[0][3],Ht)}}function yt(rn){Zt("next",rn)}function Nt(rn){Zt("throw",rn)}function _t(rn,ci){rn(ci),Re.shift(),Re.length&&Zt(Re[0][0],Re[0][1])}}function ke(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,W=Z[Symbol.asyncIterator];return W?W.call(Z):(Z=function q(Z){var W="function"==typeof Symbol&&Symbol.iterator,de=W&&Z[W],ae=0;if(de)return de.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ae>=Z.length&&(Z=void 0),{value:Z&&Z[ae++],done:!Z}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),de={},ae("next"),ae("throw"),ae("return"),de[Symbol.asyncIterator]=function(){return this},de);function ae(Re){de[Re]=Z[Re]&&function(at){return new Promise(function(Zt,an){!function Oe(Re,at,Zt,an){Promise.resolve(an).then(function(yt){Re({value:yt,done:Zt})},at)}(Zt,an,(at=Z[Re](at)).done,at.value)})}}}R.d(re,{FC:()=>Ae,KL:()=>ke,_T:()=>ie,mG:()=>pe,qq:()=>oe})},4650:(ne,re,R)=>{"use strict";R.d(re,{$8M:()=>Lf,$Z:()=>ay,AFp:()=>fI,ALo:()=>dv,AaK:()=>pe,AsE:()=>$y,CHM:()=>zg,CRH:()=>Gx,CZH:()=>fh,CqO:()=>Ty,D6c:()=>pM,Dn7:()=>Px,EJc:()=>jA,EiD:()=>_w,EpF:()=>aE,F$t:()=>Ay,F4k:()=>gs,FYo:()=>Cw,FiY:()=>ps,Gf:()=>$x,GfV:()=>Dw,Gpc:()=>B,Gre:()=>zy,Hsn:()=>uE,Ikx:()=>Yd,JOm:()=>Mr,JVY:()=>R_,JZr:()=>We,KtG:()=>Gg,L6k:()=>dw,LAX:()=>hw,LFG:()=>Le,Lbi:()=>mI,Lck:()=>gm,MAs:()=>sE,MMx:()=>av,NdJ:()=>Wp,O4$:()=>Yu,OlP:()=>on,Oqu:()=>jy,P3R:()=>vS,PXZ:()=>tM,Q6J:()=>vl,QGY:()=>Sy,QP$:()=>ro,QbO:()=>UA,Qsj:()=>PS,R0b:()=>ts,RDi:()=>A_,Rgc:()=>it,SBq:()=>Ad,Sil:()=>zA,Suo:()=>zx,TTD:()=>Ga,TgZ:()=>Gd,Udp:()=>Ly,W1O:()=>qx,WFA:()=>qp,X6Q:()=>Al,XFs:()=>Qe,Xpm:()=>Ho,Xts:()=>vw,Y36:()=>gl,YKP:()=>wx,YNc:()=>An,Yjl:()=>Ba,Yz7:()=>ht,Z0I:()=>bn,ZZ4:()=>vh,_Bn:()=>bx,_UZ:()=>Gc,_Vd:()=>Td,_c5:()=>zI,_uU:()=>IE,aQg:()=>bh,c2e:()=>Er,cJS:()=>zi,cg1:()=>Jc,d8E:()=>om,dDg:()=>XA,dqk:()=>Et,eBb:()=>aS,eFA:()=>CI,ekj:()=>xl,eoX:()=>bI,f3M:()=>qe,g9A:()=>Fm,h0i:()=>nu,hGG:()=>Gv,hij:()=>tm,iGM:()=>Em,ifc:()=>Ie,ip1:()=>Om,jDz:()=>xx,kL8:()=>jE,kcU:()=>Jg,lG2:()=>lf,lqb:()=>Pc,lri:()=>ph,mCW:()=>xd,n5z:()=>rd,n_E:()=>X,oAB:()=>jo,oxw:()=>lE,pB0:()=>lS,q3G:()=>Tn,q4F:()=>Sw,qLn:()=>Md,qOj:()=>Hp,qZA:()=>Gp,qzn:()=>pa,rWj:()=>Sa,sBO:()=>Lv,sIi:()=>Ye,s_b:()=>su,soG:()=>Pm,tBr:()=>uc,tb:()=>gI,tp0:()=>aa,uIk:()=>xy,vHH:()=>oe,vpe:()=>Js,wAp:()=>mt,xi3:()=>Fx,xp6:()=>_p,z2F:()=>du,z3N:()=>Io,zSh:()=>Ew,zs3:()=>_a});var c=R(7579),F=R(727),M=R(9751),ie=R(6451),J=R(3099);function Y(s){for(let a in s)if(s[a]===Y)return a;throw Error("Could not find renamed property on target object.")}function ve(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function be(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const j=Y({__forward_ref__:Y});function B(s){return s.__forward_ref__=B,s.toString=function(){return pe(this())},s}function q(s){return Me(s)?s():s}function Me(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===B}function Te(s){return s&&!!s.\u0275providers}const We="https://g.co/ng/security#xss";class oe extends Error{constructor(a,l){super(function Ae(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s,a){throw new oe(-201,!1)}function Nt(s,a){null==s&&function _t(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function ht(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zi(s){return{providers:s.providers||[],imports:s.imports||[]}}function $r(s){return rs(s,Sr)||rs(s,hn)}function bn(s){return null!==$r(s)}function rs(s,a){return s.hasOwnProperty(a)?s[a]:null}function Gi(s){return s&&(s.hasOwnProperty(ss)||s.hasOwnProperty(bi))?s[ss]:null}const Sr=Y({\u0275prov:Y}),ss=Y({\u0275inj:Y}),hn=Y({ngInjectableDef:Y}),bi=Y({ngInjectorDef:Y});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let wi;function Jn(s){const a=wi;return wi=s,a}function ei(s,a,l){const d=$r(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Qe.Optional?null:void 0!==a?a:void Be(pe(s))}const Et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$n={},Cn="__NG_DI_FLAG__",pr="ngTempTokenPath",Tr=/\n/gm,os="__source";let Bt;function Wi(s){const a=Bt;return Bt=s,a}function zn(s,a=Qe.Default){if(void 0===Bt)throw new oe(-203,!1);return null===Bt?ei(s,void 0,a):Bt.get(s,a&Qe.Optional?null:void 0,a)}function Le(s,a=Qe.Default){return(function hr(){return wi}()||zn)(q(s),a)}function qe(s,a=Qe.Default){return Le(s,ft(a))}function ft(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xt(s){const a=[];for(let l=0;l<s.length;l++){const d=q(s[l]);if(Array.isArray(d)){if(0===d.length)throw new oe(900,!1);let h,p=Qe.Default;for(let y=0;y<d.length;y++){const w=d[y],I=H(w);"number"==typeof I?-1===I?h=w.token:p|=I:h=w}a.push(Le(h,p))}else a.push(Le(d))}return a}function Wt(s,a){return s[Cn]=a,s.prototype[Cn]=a,s}function H(s){return s[Cn]}function L(s){return{toString:s}.toString()}var A=(()=>((A=A||{})[A.OnPush=0]="OnPush",A[A.Default=1]="Default",A))(),Ie=(()=>{return(s=Ie||(Ie={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ie;var s})();const et={},Ue=[],St=Y({\u0275cmp:Y}),ct=Y({\u0275dir:Y}),cn=Y({\u0275pipe:Y}),Gn=Y({\u0275mod:Y}),Tt=Y({\u0275fac:Y}),ui=Y({__NG_ELEMENT_ID__:Y});let zl=0;function Ho(s){return L(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ie.Emulated,id:"c"+zl++,styles:s.styles||Ue,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return h.inputs=Lu(s.inputs,d),h.outputs=Lu(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(sf).filter(ni):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(di).filter(ni):null,h})}function sf(s){return Kt(s)||gn(s)}function ni(s){return null!==s}function jo(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Lu(s,a){if(null==s)return et;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,a&&(a[h]=p)}return l}const lf=Ho;function Ba(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[St]||null}function gn(s){return s[ct]||null}function di(s){return s[cn]||null}function ro(s){const a=Kt(s)||gn(s)||di(s);return null!==a&&a.standalone}function ki(s,a){const l=s[Gn]||null;if(!l&&!0===a)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function Ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yi(s){return Array.isArray(s)&&!0===s[1]}function cs(s){return 0!=(4&s.flags)}function $a(s){return s.componentOffset>-1}function Zl(s){return 1==(1&s.flags)}function xi(s){return null!==s.template}function A0(s){return 0!=(256&s[2])}function lo(s,a){return s.hasOwnProperty(Tt)?s[Tt]:null}class Ug{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ga(){return Wa}function Wa(s){return s.type.prototype.ngOnChanges&&(s.setInput=ju),Hu}function Hu(){const s=gf(this),a=s?.current;if(a){const l=s.previous;if(l===et)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function ju(s,a,l,d){const h=this.declaredInputs[l],p=gf(s)||function qa(s,a){return s[Kl]=a}(s,{previous:et,current:null}),y=p.current||(p.current={}),w=p.previous,I=w[h];y[h]=new Ug(I&&I.currentValue,a,w===et),s[d]=a}Ga.ngInherit=!0;const Kl="__ngSimpleChanges__";function gf(s){return s[Kl]||null}function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function Zo(s,a){return Nn(a[s])}function Xi(s,a){return Nn(a[s.index])}function yf(s,a){return s.data[a]}function Fs(s,a){return s[a]}function hi(s,a){const l=a[s];return Ki(l)?l:l[0]}function Ko(s){return 64==(64&s[2])}function zr(s,a){return null==a?null:s[a]}function vf(s){s[18]=0}function Ka(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Mt={lFrame:Kg(null),bindingsEnabled:!0};function wf(){return Mt.bindingsEnabled}function xe(){return Mt.lFrame.lView}function qt(){return Mt.lFrame.tView}function zg(s){return Mt.lFrame.contextLView=s,s[8]}function Gg(s){return Mt.lFrame.contextLView=null,s}function Wn(){let s=Ef();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ef(){return Mt.lFrame.currentTNode}function ds(s,a){const l=Mt.lFrame;l.currentTNode=s,l.isParent=a}function Jl(){return Mt.lFrame.isParent}function ec(){Mt.lFrame.isParent=!1}function Ln(){const s=Mt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function hs(){return Mt.lFrame.bindingIndex++}function Wr(s){const a=Mt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function Zu(s,a){const l=Mt.lFrame;l.bindingIndex=l.bindingRootIndex=s,co(a)}function co(s){Mt.lFrame.currentDirectiveIndex=s}function Ku(s){const a=Mt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function qg(){return Mt.lFrame.currentQueryIndex}function Cf(s){Mt.lFrame.currentQueryIndex=s}function V0(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Zg(s,a,l){if(l&Qe.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||l&Qe.Host||(h=V0(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;a=h,s=p}const d=Mt.lFrame=B0();return d.currentTNode=a,d.lView=s,!0}function Df(s){const a=B0(),l=s[1];Mt.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function B0(){const s=Mt.lFrame,a=null===s?null:s.child;return null===a?Kg(s):a}function Kg(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Yg(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xg=Yg;function Qg(){const s=Yg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qi(){return Mt.lFrame.selectedIndex}function Ps(s){Mt.lFrame.selectedIndex=s}function sn(){const s=Mt.lFrame;return yf(s.tView,s.selectedIndex)}function Yu(){Mt.lFrame.currentNamespace="svg"}function Jg(){!function $0(){Mt.lFrame.currentNamespace=null}()}function Ns(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:C,ngOnDestroy:T}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),C&&((s.viewHooks||(s.viewHooks=[])).push(l,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,C)),null!=T&&(s.destroyHooks||(s.destroyHooks=[])).push(l,T)}}function Ls(s,a,l){Sf(s,a,3,l)}function uo(s,a,l,d){(3&s[2])===l&&Sf(s,a,l,d)}function ho(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Sf(s,a,l,d){const p=d??-1,y=a.length-1;let w=0;for(let I=void 0!==d?65535&s[18]:0;I<y;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=d&&w>=d)break}else a[I]<0&&(s[18]+=65536),(w<p||-1==p)&&(Tf(s,l,a,I),s[18]=(4294901760&s[18])+I+2),I++}function Tf(s,a,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class tc{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ya(s,a,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],y=l[d++],w=l[d++];s.setAttribute(a,y,w,p)}else{const p=h,y=l[++d];Ju(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function ea(s){return 3===s||4===s||6===s}function Ju(s){return 64===s.charCodeAt(0)}function Bs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||kf(s,l,h,null,-1===l||2===l?a[++d]:null)}}return s}function kf(s,a,l,d,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Rf(s){return-1!==s}function Xa(s){return 32767&s}function fs(s,a){let l=function e_(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let Qa=!0;function fo(s){const a=Qa;return Qa=s,a}let ed=0;const Ji={};function na(s,a){const l=td(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,sc(d.data,s),sc(a,null),sc(d.blueprint,null));const h=nd(s,a),p=s.injectorIndex;if(Rf(h)){const y=Xa(h),w=fs(h,a),I=w[1].data;for(let C=0;C<8;C++)a[p+C]=w[y+C]|I[y+C]}return a[p+8]=h,p}function sc(s,a){s.push(0,0,0,0,0,0,0,0,a)}function td(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function nd(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){if(d=Nf(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Of(s,a,l){!function t_(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ui)&&(d=l[ui]),null==d&&(d=l[ui]=ed++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function oc(s,a,l){if(l&Qe.Optional||void 0!==s)return s;Be()}function n_(s,a,l,d){if(l&Qe.Optional&&void 0===d&&(d=null),0==(l&(Qe.Self|Qe.Host))){const h=s[9],p=Jn(void 0);try{return h?h.get(a,d,l&Qe.Optional):ei(a,d,l&Qe.Optional)}finally{Jn(p)}}return oc(d,0,l)}function i_(s,a,l,d=Qe.Default,h){if(null!==s){if(1024&a[2]){const y=function W0(s,a,l,d,h){let p=s,y=a;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Ja(p,y,l,d|Qe.Self,Ji);if(w!==Ji)return w;let I=p.parent;if(!I){const C=y[21];if(C){const T=C.get(l,Ji,d);if(T!==Ji)return T}I=Nf(y),y=y[15]}p=I}return h}(s,a,l,d,Ji);if(y!==Ji)return y}const p=Ja(s,a,l,d,Ji);if(p!==Ji)return p}return n_(a,l,d,h)}function Ja(s,a,l,d,h){const p=function r_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ui)?s[ui]:void 0;return"number"==typeof a?a>=0?255&a:Pf:a}(l);if("function"==typeof p){if(!Zg(a,s,d))return d&Qe.Host?oc(h,0,d):n_(a,l,d,h);try{const y=p(d);if(null!=y||d&Qe.Optional)return y;Be()}finally{Xg()}}else if("number"==typeof p){let y=null,w=td(s,a),I=-1,C=d&Qe.Host?a[16][6]:null;for((-1===w||d&Qe.SkipSelf)&&(I=-1===w?nd(s,a):a[w+8],-1!==I&&tl(d,!1)?(y=a[1],w=Xa(I),a=fs(I,a)):w=-1);-1!==w;){const T=a[1];if(id(p,w,T.data)){const P=G0(w,a,l,y,d,C);if(P!==Ji)return P}I=a[w+8],-1!==I&&tl(d,a[1].data[w+8]===C)&&id(p,w,a)?(y=T,w=Xa(I),a=fs(I,a)):w=-1}}return h}function G0(s,a,l,d,h,p){const y=a[1],w=y.data[s+8],T=el(w,y,l,null==d?$a(w)&&Qa:d!=y&&0!=(3&w.type),h&Qe.Host&&p===w);return null!==T?Us(a,y,T,w):Ji}function el(s,a,l,d,h){const p=s.providerIndexes,y=a.data,w=1048575&p,I=s.directiveStart,T=p>>20,z=h?w+T:s.directiveEnd;for(let Q=d?w:w+T;Q<z;Q++){const me=y[Q];if(Q<I&&l===me||Q>=I&&me.type===l)return Q}if(h){const Q=y[I];if(Q&&xi(Q)&&Q.type===l)return I}return null}function Us(s,a,l,d){let h=s[l];const p=a.data;if(function Af(s){return s instanceof tc}(h)){const y=h;y.resolving&&function Pe(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new oe(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ke(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[l]));const w=fo(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Jn(y.injectImpl):null;Zg(s,d,Qe.Default);try{h=s[l]=y.factory(void 0,p,s,d),a.firstCreatePass&&l>=d.directiveStart&&function Xu(s,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=Wa(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],a)}finally{null!==I&&Jn(I),fo(w),y.resolving=!1,Xg()}}return h}function id(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function tl(s,a){return!(s&Qe.Self||s&Qe.Host&&a)}class po{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return i_(this._tNode,this._lView,a,ft(d),l)}}function Pf(){return new po(Wn(),xe())}function rd(s){return L(()=>{const a=s.prototype.constructor,l=a[Tt]||ia(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Tt]||ia(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ia(s){return Me(s)?()=>{const a=ia(q(s));return a&&a()}:lo(s)}function Nf(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function Lf(s){return function Ff(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(ea(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===a)return l[h+1];h+=2}}}return null}(Wn(),s)}const mo="__parameters__";function nl(s,a,l){return L(()=>{const d=function Bf(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(I,C,T){const P=I.hasOwnProperty(mo)?I[mo]:Object.defineProperty(I,mo,{value:[]})[mo];for(;P.length<=T;)P.push(null);return(P[T]=P[T]||[]).push(y),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class on{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ht({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(s,a){s.forEach(l=>Array.isArray(l)?_o(l,a):a(l))}function l_(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function od(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function oa(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}function Ut(s,a,l){let d=qr(s,a);return d>=0?s[1|d]=l:(d=~d,function $f(s,a,l,d){let h=s.length;if(h==a)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function Sn(s,a){const l=qr(s,a);if(l>=0)return s[1|l]}function qr(s,a){return function zf(s,a,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(a===y)return p<<l;y>a?h=p:d=p+1}return~(h<<l)}(s,a,1)}const uc=Wt(nl("Inject",s=>({token:s})),-1),ps=Wt(nl("Optional"),8),aa=Wt(nl("SkipSelf"),4);var Mr=(()=>((Mr=Mr||{})[Mr.Important=1]="Important",Mr[Mr.DashCase=2]="DashCase",Mr))();const Yf=new Map;let Xf=0;const Qf="__ngContext__";function Di(s,a){Ki(a)?(s[Qf]=a[20],function bc(s){Yf.set(s[20],s)}(a)):s[Qf]=a}function ye(s,a){return undefined(s,a)}function nt(s){const a=s[3];return Yi(a)?a[3]:a}function yr(s){return ua(s[13])}function tr(s){return ua(s[4])}function ua(s){for(;null!==s&&!Yi(s);)s=s[4];return s}function Gs(s,a,l,d,h){if(null!=d){let p,y=!1;Yi(d)?p=d:Ki(d)&&(y=!0,d=d[0]);const w=Nn(d);0===s&&null!==l?null==h?x_(a,l,w):fl(a,l,w,h||null,!0):1===s&&null!==l?fl(a,l,w,h||null,!0):2===s?function xo(s,a,l){const d=Tc(s,a);d&&function YO(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,w,y):3===s&&a.destroyNode(w),null!=p&&function eS(s,a,l,d,h){const p=l[7];p!==Nn(l)&&Gs(a,s,d,p,h);for(let w=10;w<l.length;w++){const I=l[w];Ac(I[1],I,s,a,d,p)}}(a,s,p,l,h)}}function Ic(s,a,l){return s.createElement(a,l)}function hl(s,a){const l=s[9],d=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,Ka(h,-1)),l.splice(d,1)}function Sc(s,a){if(s.length<=10)return;const l=10+a,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&hl(h,d),a>0&&(s[l-1][4]=d[4]);const p=od(s,10+a);!function tp(s,a){Ac(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Q0(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Ac(s,a,l,3,null,null),function Cc(s){let a=s[13];if(!a)return bd(s[1],s);for(;a;){let l=null;if(Ki(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)Ki(a)&&bd(a[1],a),a=a[3];null===a&&(a=s),Ki(a)&&bd(a[1],a),l=a&&a[4]}a=l}}(a)}}function bd(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function XD(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof tc)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],I=p[y+1];try{I.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,a),function np(s,a){const l=s.cleanup,d=a[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Yi(a[3])){l!==a[3]&&hl(l,a);const d=a[19];null!==d&&d.detachView(s)}!function ca(s){Yf.delete(s[20])}(a)}}function J0(s,a,l){return function E_(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Ie.None||p===Ie.Emulated)return null}return Xi(d,l)}}(s,a.parent,l)}function fl(s,a,l,d,h){s.insertBefore(a,l,d,h)}function x_(s,a,l){s.appendChild(a,l)}function ew(s,a,l,d,h){null!==d?fl(s,a,l,d,h):x_(s,a,l)}function Tc(s,a){return s.parentNode(a)}function QD(s,a,l){return tw(s,a,l)}let C_,T_,M_,tw=function ip(s,a,l){return 40&s.type?Xi(s,l):null};function op(s,a,l,d){const h=J0(s,d,a),p=a[11],w=QD(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)ew(p,h,l[I],w,!1);else ew(p,h,l,w,!1)}function I_(s,a){if(null!==a){const l=a.type;if(3&l)return Xi(a,s);if(4&l)return pl(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return I_(s,d);{const h=s[a.index];return Yi(h)?pl(-1,h):Nn(h)}}if(32&l)return ye(a,s)()||Nn(s[a.index]);{const d=nw(s,a);return null!==d?Array.isArray(d)?d[0]:I_(nt(s[16]),d):I_(s,a.next)}}return null}function nw(s,a){return null!==a?s[16][6].projection[a.projection]:null}function pl(s,a){const l=10+s+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return I_(d,h)}return a[7]}function ap(s,a,l,d,h,p,y){for(;null!=l;){const w=d[l.index],I=l.type;if(y&&0===a&&(w&&Di(Nn(w),d),l.flags|=2),32!=(32&l.flags))if(8&I)ap(s,a,l.child,d,h,p,!1),Gs(a,s,h,w,p);else if(32&I){const C=ye(l,d);let T;for(;T=C();)Gs(a,s,h,T,p);Gs(a,s,h,w,p)}else 16&I?JD(s,a,d,l,h,p):Gs(a,s,h,w,p);l=y?l.projectionNext:l.next}}function Ac(s,a,l,d,h,p){ap(l,d,s.firstChild,a,h,p,!1)}function JD(s,a,l,d,h,p){const y=l[16],I=y[6].projection[d.projection];if(Array.isArray(I))for(let C=0;C<I.length;C++)Gs(a,s,h,I[C],p);else ap(s,a,I,y[3],h,p,!0)}function tS(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function nS(s,a,l){const{mergedAttrs:d,classes:h,styles:p}=l;null!==d&&Ya(s,a,d),null!==h&&tS(s,a,h),null!==p&&function JO(s,a,l){s.setAttribute(a,"style",l)}(s,a,p)}function ha(s){return function D_(){if(void 0===C_&&(C_=null,Et.trustedTypes))try{C_=Et.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return C_}()?.createHTML(s)||s}function A_(s){T_=s}function lw(s){return function lp(){if(void 0===M_&&(M_=null,Et.trustedTypes))try{M_=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return M_}()?.createScriptURL(s)||s}class fa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class cw extends fa{getTypeName(){return"HTML"}}class rS extends fa{getTypeName(){return"Style"}}class uw extends fa{getTypeName(){return"Script"}}class sS extends fa{getTypeName(){return"URL"}}class Ed extends fa{getTypeName(){return"ResourceURL"}}function Io(s){return s instanceof fa?s.changingThisBreaksApplicationSecurity:s}function pa(s,a){const l=function oS(s){return s instanceof fa&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${We})`)}return l===a}function R_(s){return new cw(s)}function dw(s){return new rS(s)}function aS(s){return new uw(s)}function hw(s){return new sS(s)}function lS(s){return new Ed(s)}class cS{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(ha(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class F_{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ha(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=ha(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const dS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function xd(s){return(s=String(s)).match(dS)?s:"unsafe:"+s}function Co(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function cp(...s){const a={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const up=Co("area,br,col,hr,img,wbr"),fw=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),P_=Co("rp,rt"),dp=cp(up,cp(fw,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cp(P_,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cp(P_,fw)),N_=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pw=cp(N_,Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Id=Co("script,style,template");class mw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!dp.hasOwnProperty(l))return this.sanitizedSomething=!0,!Id.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!pw.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=p.value;N_[w]&&(I=xd(I)),this.buf.push(" ",y,'="',gw(I),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();dp.hasOwnProperty(l)&&!up.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(gw(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const pS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,L_=/([^\#-~ |!])/g;function gw(s){return s.replace(/&/g,"&amp;").replace(pS,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(L_,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cd;function _w(s,a){let l=null;try{Cd=Cd||function O_(s){const a=new F_(s);return function uS(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch{return!1}}()?new cS(a):a}(s);let d=a?String(a):"";l=Cd.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=Cd.getInertBodyElement(d)}while(d!==p);return ha((new mw).sanitizeChildren(hp(l)||l))}finally{if(l){const d=hp(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function hp(s){return"content"in s&&function mS(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function gS(s){const a=fp();return a?a.sanitize(Tn.URL,s)||"":pa(s,"URL")?Io(s):xd(we(s))}function yw(s){const a=fp();if(a)return lw(a.sanitize(Tn.RESOURCE_URL,s)||"");if(pa(s,"ResourceURL"))return lw(Io(s));throw new oe(904,!1)}function vS(s,a,l){return function sF(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?yw:gS}(a,l)(s)}function fp(){const s=xe();return s&&s[12]}const vw=new on("ENVIRONMENT_INITIALIZER"),bS=new on("INJECTOR",-1),V_=new on("INJECTOR_DEF_TYPES");class bw{get(a,l=$n){if(l===$n){const d=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw d.name="NullInjectorError",d}return l}}function pp(...s){return{\u0275providers:kc(0,s),\u0275fromNgModule:!0}}function kc(s,...a){const l=[],d=new Set;let h;return _o(a,p=>{const y=p;mp(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&wS(h,l),l}function wS(s,a){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Rc(h,p=>{a.push(p)})}}function mp(s,a,l,d){if(!(s=q(s)))return!1;let h=null,p=Gi(s);const y=!p&&Kt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=Gi(I),!p)return!1;h=I}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const C of I)mp(C,a,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let C;d.add(h);try{_o(p.imports,T=>{mp(T,a,l,d)&&(C||(C=[]),C.push(T))})}finally{}void 0!==C&&wS(C,a)}if(!w){const C=lo(h)||(()=>new h);a.push({provide:h,useFactory:C,deps:Ue},{provide:V_,useValue:h,multi:!0},{provide:vw,useValue:()=>Le(h),multi:!0})}const I=p.providers;null==I||w||Rc(I,T=>{a.push(T)})}}return h!==s&&void 0!==s.providers}function Rc(s,a){for(let l of s)Te(l)&&(l=l.\u0275providers),Array.isArray(l)?Rc(l,a):a(l)}const oF=Y({provide:String,useValue:Y});function ga(s){return null!==s&&"object"==typeof s&&oF in s}function Oc(s){return"function"==typeof s}const Ew=new on("Set Injector scope."),Dd={},Sd={};let gp;function Fc(){return void 0===gp&&(gp=new bw),gp}class Pc{}class B_ extends Pc{constructor(a,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H_(a,y=>this.processProvider(y)),this.records.set(bS,Nc(void 0,this)),h.has("environment")&&this.records.set(Pc,Nc(void 0,this));const p=this.records.get(Ew);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(V_.multi,Ue,Qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Wi(this),d=Jn(void 0);try{return a()}finally{Wi(l),Jn(d)}}get(a,l=$n,d=Qe.Default){this.assertNotDestroyed(),d=ft(d);const h=Wi(this),p=Jn(void 0);try{if(!(d&Qe.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=function TS(s){return"function"==typeof s||"object"==typeof s&&s instanceof on}(a)&&$r(a);w=I&&this.injectableDefInScope(I)?Nc(U_(a),Dd):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Qe.Self?Fc():this.parent).get(a,l=d&Qe.Optional&&l===$n?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[pr]=y[pr]||[]).unshift(pe(a)),h)throw y;return function U(s,a,l,d){const h=s[pr];throw a[os]&&h.unshift(a[os]),s.message=function G(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(a);if(Array.isArray(a))h=a.map(pe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Tr,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[pr]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Jn(p),Wi(h)}}resolveInjectorInitializers(){const a=Wi(this),l=Jn(void 0);try{const d=this.get(vw.multi,Ue,Qe.Self);for(const h of d)h()}finally{Wi(a),Jn(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(pe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(a){let l=Oc(a=q(a))?a:q(a&&a.provide);const d=function CS(s){return ga(s)?Nc(void 0,s.useValue):Nc(xw(s),Dd)}(a);if(Oc(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Nc(void 0,Dd,!0),h.factory=()=>xt(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Dd&&(l.value=Sd,l.value=l.factory()),"object"==typeof l.value&&l.value&&function SS(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=q(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function U_(s){const a=$r(s),l=null!==a?a.factory:lo(s);if(null!==l)return l;if(s instanceof on)throw new oe(204,!1);if(s instanceof Function)return function IS(s){const a=s.length;if(a>0)throw oa(a,"?"),new oe(204,!1);const l=function Rs(s){const a=s&&(s[Sr]||s[hn]);if(a){const l=function Dr(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new oe(204,!1)}function xw(s,a,l){let d;if(Oc(s)){const h=q(s);return lo(h)||U_(h)}if(ga(s))d=()=>q(s.useValue);else if(function ww(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...xt(s.deps||[]));else if(function ES(s){return!(!s||!s.useExisting)}(s))d=()=>Le(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function DS(s){return!!s.deps}(s))return lo(h)||U_(h);d=()=>new h(...xt(s.deps))}return d}function Nc(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function H_(s,a){for(const l of s)Array.isArray(l)?H_(l,a):l&&Te(l)?H_(l.\u0275providers,a):a(l)}class AS{}class MS{}class RS{resolveComponentFactory(a){throw function kS(s){const a=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Td=(()=>{class s{}return s.NULL=new RS,s})();function OS(){return Lc(Wn(),xe())}function Lc(s,a){return new Ad(Xi(s,a))}let Ad=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=OS,s})();function FS(s){return s instanceof Ad?s.nativeElement:s}class Cw{}let PS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function NS(){const s=xe(),l=hi(Wn().index,s);return(Ki(l)?l:s)[11]}(),s})(),LS=(()=>{class s{}return s.\u0275prov=ht({token:s,providedIn:"root",factory:()=>null}),s})();class Dw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Sw=new Dw("15.0.4"),j_={};function z_(s){return s.ngOriginalError}class Md{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&z_(a);for(;l&&z_(l);)l=z_(l);return l||null}}function Ws(s){return s instanceof Function?s():s}function K_(s,a,l){let d=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const Y_="ng-template";function X_(s,a,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==K_(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function zS(s){return 4===s.type&&s.value!==Y_}function GS(s,a,l){return a===(4!==s.type||l?s.value:Y_)}function ml(s,a,l){let d=4;const h=s.attrs||[],p=function Mw(s){for(let a=0;a<s.length;a++)if(ea(s[a]))return a;return s.length}(h);let y=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!GS(s,I,l)||""===I&&1===a.length){if(Yr(d))return!1;y=!0}}else{const C=8&d?I:a[++w];if(8&d&&null!==s.attrs){if(!X_(s.attrs,C,l)){if(Yr(d))return!1;y=!0}continue}const P=WS(8&d?"class":I,h,zS(s),l);if(-1===P){if(Yr(d))return!1;y=!0;continue}if(""!==C){let z;z=P>p?"":h[P+1].toLowerCase();const Q=8&d?z:null;if(Q&&-1!==K_(Q,C,0)||2&d&&C!==z){if(Yr(d))return!1;y=!0}}}}else{if(!y&&!Yr(d)&&!Yr(I))return!1;if(y&&Yr(I))continue;y=!1,d=I|1&d}}return Yr(d)||y}function Yr(s){return 0==(1&s)}function WS(s,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function kw(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function qS(s,a,l=!1){for(let d=0;d<a.length;d++)if(ml(s,a[d],l))return!0;return!1}function cF(s,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Q_(s,a){return s?":not("+a.trim()+")":a}function J_(s){let a=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Yr(y)&&(a+=Q_(p,h),h=""),d=y,p=p||!Yr(d);l++}return""!==h&&(a+=Q_(p,h)),a}const Rt={};function _p(s){kd(qt(),xe(),Qi()+s,!1)}function kd(s,a,l,d){if(!d)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&Ls(a,p,l)}else{const p=s.preOrderHooks;null!==p&&uo(a,p,0,l)}Ps(l)}function ey(s,a=null,l=null,d){const h=Fw(s,a,l,d);return h.resolveInjectorInitializers(),h}function Fw(s,a=null,l=null,d,h=new Set){const p=[l||Ue,pp(s)];return d=d||("object"==typeof s?void 0:pe(s)),new B_(p,a||Fc(),d||null,h)}let _a=(()=>{class s{static create(l,d){if(Array.isArray(l))return ey({name:""},d,l,"");{const h=l.name??"";return ey({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=$n,s.NULL=new bw,s.\u0275prov=ht({token:s,providedIn:"any",factory:()=>Le(bS)}),s.__NG_ELEMENT_ID__=-1,s})();function gl(s,a=Qe.Default){const l=xe();return null===l?Le(s,a):i_(Wn(),l,q(s),a)}function ay(){throw new Error("invalid")}function Rp(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];Cf(h),y.contentQueries(2,a[p],p)}}}function Op(s,a,l,d,h,p,y,w,I,C,T){const P=a.blueprint.slice();return P[0]=h,P[2]=76|d,(null!==T||s&&1024&s[2])&&(P[2]|=1024),vf(P),P[3]=P[15]=s,P[8]=l,P[10]=y||s&&s[10],P[11]=w||s&&s[11],P[12]=I||s&&s[12]||null,P[9]=C||s&&s[9]||null,P[6]=p,P[20]=function ul(){return Xf++}(),P[21]=T,P[16]=2==a.type?s[16]:P,P}function Uc(s,a,l,d,h){let p=s.data[a];if(null===p)p=function ly(s,a,l,d,h){const p=Ef(),y=Jl(),I=s.data[a]=function sT(s,a,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,a,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(s,a,l,d,h),function L0(){return Mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Yo(){const s=Mt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ds(p,!0),p}function Fd(s,a,l,d){if(0===l)return-1;const h=a.length;for(let p=0;p<l;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function cy(s,a,l){Df(a);try{const d=s.viewQuery;null!==d&&_y(1,d,l);const h=s.template;null!==h&&Fp(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Rp(s,a),s.staticViewQueries&&_y(2,s.viewQuery,l);const p=s.components;null!==p&&function nT(s,a){for(let l=0;l<a.length;l++)qw(s,a[l])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,Qg()}}function Zs(s,a,l,d){const h=a[2];if(128!=(128&h)){Df(a);try{vf(a),function Wg(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Fp(s,a,l,2,d);const y=3==(3&h);if(y){const C=s.preOrderCheckHooks;null!==C&&Ls(a,C,null)}else{const C=s.preOrderHooks;null!==C&&uo(a,C,0,null),ho(a,0)}if(function mT(s){for(let a=yr(s);null!==a;a=tr(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(512&h[2])&&Ka(p,1),h[2]|=512}}}(a),function pT(s){for(let a=yr(s);null!==a;a=tr(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];Ko(d)&&Zs(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&Rp(s,a),y){const C=s.contentCheckHooks;null!==C&&Ls(a,C)}else{const C=s.contentHooks;null!==C&&uo(a,C,1),ho(a,1)}!function tT(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ps(~h);else{const p=h,y=l[++d],w=l[++d];Zu(y,p),w(2,a[p])}}}finally{Ps(-1)}}(s,a);const w=s.components;null!==w&&function Vw(s,a){for(let l=0;l<a.length;l++)gT(s,a[l])}(a,w);const I=s.viewQuery;if(null!==I&&_y(2,I,d),y){const C=s.viewCheckHooks;null!==C&&Ls(a,C)}else{const C=s.viewHooks;null!==C&&uo(a,C,2),ho(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Ka(a[3],-1))}finally{Qg()}}}function Fp(s,a,l,d,h){const p=Qi(),y=2&d;try{Ps(-1),y&&a.length>22&&kd(s,a,22,!1),l(d,h)}finally{Ps(p)}}function Pd(s,a,l){if(cs(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Hc(s,a,l){!wf()||(function hy(s,a,l,d){const h=l.directiveStart,p=l.directiveEnd;$a(l)&&function Gw(s,a,l){const d=Xi(a,s),h=Bw(l),p=s[10],y=nr(s,Op(s,h,null,l.onPush?32:16,d,a,p,p.createRenderer(d,l),null,null,null));s[a.index]=y}(a,l,s.data[h+l.componentOffset]),s.firstCreatePass||na(l,a),Di(d,a);const y=l.initialInputs;for(let w=h;w<p;w++){const I=s.data[w],C=Us(a,s,w,l);Di(C,a),null!==y&&Ww(0,w-h,C,I,0,y),xi(I)&&(hi(l.index,a)[8]=Us(a,s,w,l))}}(s,a,l,Xi(l,a)),64==(64&l.flags)&&fy(s,a,l))}function uy(s,a,l=Xi){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(a,s):s[y];s[h++]=w}}}function Bw(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=dy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function dy(s,a,l,d,h,p,y,w,I,C){const T=22+d,P=T+h,z=function iT(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:Rt);return l}(T,P),Q="function"==typeof C?C():C;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:w,declTNode:a,data:z.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Q,incompleteFirstPass:!1}}function Pp(s,a,l,d){const h=Bp(a);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Kw(s).push(d,h.length-1))}function Nd(s,a,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const p=s[h];null===d?Np(l,a,h,p):d.hasOwnProperty(h)&&Np(l,a,d[h],p)}return l}function Np(s,a,l,d){s.hasOwnProperty(l)?s[l].push(a,d):s[l]=[a,d]}function br(s,a,l,d,h,p,y,w){const I=Xi(a,l);let T,C=a.inputs;!w&&null!=C&&(T=C[d])?(yy(s,l,T,d,h),$a(a)&&Uw(l,a.index)):3&a.type&&(d=function oT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(I,d,h))}function Uw(s,a){const l=hi(a,s);16&l[2]||(l[2]|=32)}function jw(s,a,l,d){let h=!1;if(wf()){const p=null===d?null:{"":-1},y=function lT(s,a){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];if(qS(a,y.selectors,!1))if(d||(d=[]),xi(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),d.unshift(...w,y),py(s,a,w.length)}else d.unshift(y),py(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,l);let w,I;null===y?w=I=null:[w,I]=y,null!==w&&(h=!0,$w(s,a,l,w,p,I)),p&&function cT(s,a,l){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=l[a[h+1]];if(null==p)throw new oe(-301,!1);d.push(a[h],p)}}}(l,d,p)}return l.mergedAttrs=Bs(l.mergedAttrs,l.attrs),h}function $w(s,a,l,d,h,p){for(let C=0;C<d.length;C++)Of(na(l,a),s,d[C].type);!function dT(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}(l,s.data.length,d.length);for(let C=0;C<d.length;C++){const T=d[C];T.providersResolver&&T.providersResolver(T)}let y=!1,w=!1,I=Fd(s,a,d.length,null);for(let C=0;C<d.length;C++){const T=d[C];l.mergedAttrs=Bs(l.mergedAttrs,T.hostAttrs),hT(s,l,a,I,T),uT(I,T,h),null!==T.contentQueries&&(l.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(l.flags|=64);const P=T.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),w=!0),I++}!function Lp(s,a,l){const h=a.directiveEnd,p=s.data,y=a.attrs,w=[];let I=null,C=null;for(let T=a.directiveStart;T<h;T++){const P=p[T],z=l?l.get(P):null,me=z?z.outputs:null;I=Nd(P.inputs,T,I,z?z.inputs:null),C=Nd(P.outputs,T,C,me);const Ne=null===I||null===y||zS(a)?null:fT(I,T,y);w.push(Ne)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=I,a.outputs=C}(s,l,p)}function fy(s,a,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function If(){return Mt.lFrame.currentDirectiveIndex}();try{Ps(p);for(let w=d;w<h;w++){const I=s.data[w],C=a[w];co(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&pF(I,C)}}finally{Ps(-1),co(y)}}function pF(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function py(s,a,l){a.componentOffset=l,(s.components||(s.components=[])).push(a.index)}function uT(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;xi(a)&&(l[""]=s)}}function hT(s,a,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=lo(h.type)),y=new tc(p,xi(h),gl);s.blueprint[d]=y,l[d]=y,function aT(s,a,l,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const w=~a.index;(function zw(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(y)!=w&&y.push(w),y.push(l,d,p)}}(s,a,d,Fd(s,l,h.hostVars,Rt),h)}function Ks(s,a,l,d,h,p){const y=Xi(s,a);!function my(s,a,l,d,h,p,y){if(null==p)s.removeAttribute(a,h,l);else{const w=null==y?we(p):y(p,d||"",h);s.setAttribute(a,h,w,l)}}(a[11],y,p,s.value,l,d,h)}function Ww(s,a,l,d,h,p){const y=p[a];if(null!==y){const w=d.setInput;for(let I=0;I<y.length;){const C=y[I++],T=y[I++],P=y[I++];null!==w?d.setInput(l,P,C,T):l[T]=P}}}function fT(s,a,l){let d=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let w=0;w<y.length;w+=2)if(y[w]===a){d.push(p,y[w+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Vp(s,a,l,d){return[s,!0,!1,a,null,0,d,l,null,null]}function gT(s,a){const l=hi(a,s);if(Ko(l)){const d=l[1];48&l[2]?Zs(d,l,d.template,l[8]):l[5]>0&&gy(l)}}function gy(s){for(let d=yr(s);null!==d;d=tr(d))for(let h=10;h<d.length;h++){const p=d[h];if(Ko(p))if(512&p[2]){const y=p[1];Zs(y,p,y.template,p[8])}else p[5]>0&&gy(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=hi(l[d],s);Ko(h)&&h[5]>0&&gy(h)}}function qw(s,a){const l=hi(a,s),d=l[1];(function _T(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),cy(d,l,l[8])}function nr(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Ld(s){for(;s;){s[2]|=32;const a=nt(s);if(A0(s)&&!a)return s;s=a}return null}function va(s,a,l,d=!0){const h=a[10];h.begin&&h.begin();try{Zs(s,a,s.template,l)}catch(y){throw d&&Vd(a,y),y}finally{h.end&&h.end()}}function _y(s,a,l){Cf(0),a(s,l)}function Bp(s){return s[7]||(s[7]=[])}function Kw(s){return s.cleanup||(s.cleanup=[])}function Yw(s,a,l){return(null===s||xi(s))&&(l=function Za(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[a.index])),l[11]}function Vd(s,a){const l=s[9],d=l?l.get(Md,null):null;d&&d.handleError(a)}function yy(s,a,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],I=a[y],C=s.data[y];null!==C.setInput?C.setInput(I,h,d,w):I[w]=h}}function Ys(s,a,l){const d=Zo(a,s);!function dl(s,a,l){s.setValue(a,l)}(s[11],d,l)}function Bd(s,a,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+a[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Ud(s,a,l,d,h=!1){for(;null!==l;){const p=a[l.index];if(null!==p&&d.push(Nn(p)),Yi(p))for(let w=10;w<p.length;w++){const I=p[w],C=I[1].firstChild;null!==C&&Ud(I[1],I,C,d)}const y=l.type;if(8&y)Ud(s,a,l.child,d);else if(32&y){const w=ye(l,a);let I;for(;I=w();)d.push(I)}else if(16&y){const w=nw(a,l);if(Array.isArray(w))d.push(...w);else{const I=nt(a[16]);Ud(I[1],I,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class Oi{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Ud(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Yi(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(Sc(a,d),od(l,d))}this._attachedToViewContainer=!1}Q0(this._lView[1],this._lView)}onDestroy(a){Pp(this._lView[1],this._lView,null,a)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){va(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wo(s,a){Ac(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=a}}class jc extends Oi{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;va(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Xw extends Td{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Kt(a);return new $c(l,this.ngModule)}}function Qw(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class yT{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){d=ft(d);const h=this.injector.get(a,j_,d);return h!==j_||l===j_?h:this.parentInjector.get(a,l,d)}}class $c extends MS{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function KS(s){return s.map(J_).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Qw(this.componentDef.inputs)}get outputs(){return Qw(this.componentDef.outputs)}create(a,l,d,h){let p=(h=h||this.ngModule)instanceof Pc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new yT(a,p):a,w=y.get(Cw,null);if(null===w)throw new oe(407,!1);const I=y.get(LS,null),C=w.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",P=d?function rT(s,a,l){return s.selectRootElement(a,l===Ie.ShadowDom)}(C,d,this.componentDef.encapsulation):Ic(C,T,function Jw(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(T)),z=this.componentDef.onPush?288:272,Q=dy(0,null,null,1,0,null,null,null,null,null),me=Op(null,Q,null,z,null,null,w,C,I,y,null);let Ne,He;Df(me);try{const tt=this.componentDef;let gt,Se=null;tt.findHostDirectiveDefs?(gt=[],Se=new Map,tt.findHostDirectiveDefs(tt,gt,Se),gt.push(tt)):gt=[tt];const Ct=function vT(s,a){const l=s[1];return s[22]=a,Uc(l,22,2,"#host",null)}(me,P),vn=function vy(s,a,l,d,h,p,y,w){const I=h[1];!function bT(s,a,l,d){for(const h of s)a.mergedAttrs=Bs(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Bd(a,a.mergedAttrs,!0),null!==l&&nS(d,l,a))}(d,s,a,y);const C=p.createRenderer(a,l),T=Op(h,Bw(l),null,l.onPush?32:16,h[s.index],s,p,C,w||null,null,null);return I.firstCreatePass&&py(I,s,d.length-1),nr(h,T),h[s.index]=T}(Ct,P,tt,gt,me,w,C);He=yf(Q,22),P&&function wT(s,a,l,d){if(d)Ya(s,l,["ng-version",Sw.full]);else{const{attrs:h,classes:p}=function Rw(s){const a=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&l.push(p);else{if(!Yr(h))break;h=p}d++}return{attrs:a,classes:l}}(a.selectors[0]);h&&Ya(s,l,h),p&&p.length>0&&tS(s,l,p.join(" "))}}(C,tt,P,d),void 0!==l&&function ET(s,a,l){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=l[h];d.push(null!=p?Array.from(p):null)}}(He,this.ngContentSelectors,l),Ne=function eE(s,a,l,d,h,p){const y=Wn(),w=h[1],I=Xi(y,h);$w(w,h,y,l,null,d);for(let T=0;T<l.length;T++)Di(Us(h,w,y.directiveStart+T,y),h);fy(w,h,y),I&&Di(I,h);const C=Us(h,w,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=C,null!==p)for(const T of p)T(C,a);return Pd(w,y,s),C}(vn,tt,gt,Se,me,[xT]),cy(Q,me,null)}finally{Qg()}return new Up(this.componentType,Ne,Lc(He,me),me,He)}}class Up extends AS{constructor(a,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new jc(h),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const p=this._rootLView;yy(p[1],p,h,a,l),Uw(p,this._tNode.index)}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function xT(){const s=Wn();Ns(xe()[1],s)}function Hp(s){let a=function tE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let h;if(xi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new oe(903,!1);h=a.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=$p(s.inputs),y.declaredInputs=$p(s.declaredInputs),y.outputs=$p(s.outputs);const w=h.hostBindings;w&&CT(s,w);const I=h.viewQuery,C=h.contentQueries;if(I&&IT(s,I),C&&nE(s,C),ve(s.inputs,h.inputs),ve(s.declaredInputs,h.declaredInputs),ve(s.outputs,h.outputs),xi(h)&&h.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Hp&&(l=!1)}}a=Object.getPrototypeOf(a)}!function jp(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Bs(h.hostAttrs,l=Bs(l,h.hostAttrs))}}(d)}function $p(s){return s===et?{}:s===Ue?[]:s}function IT(s,a){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function nE(s,a){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{a(d,h,p),l(d,h,p)}:a}function CT(s,a){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}let wy=null;function _l(){if(!wy){const s=Et.Symbol;if(s&&s.iterator)wy=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(wy=d)}}}return wy}function Ye(s){return!!Ey(s)&&(Array.isArray(s)||!(s instanceof Map)&&_l()in s)}function Ey(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ir(s,a,l){return s[a]=l}function pi(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function yl(s,a,l,d){const h=pi(s,a,l);return pi(s,a+1,d)||h}function xy(s,a,l,d){const h=xe();return pi(h,hs(),a)&&(qt(),Ks(sn(),h,s,a,l,d)),xy}function ba(s,a,l,d){return pi(s,hs(),l)?a+we(l)+d:Rt}function zc(s,a,l,d,h,p){const w=yl(s,function Gr(){return Mt.lFrame.bindingIndex}(),l,h);return Wr(2),w?a+we(l)+d+we(h)+p:Rt}function An(s,a,l,d,h,p,y,w){const I=xe(),C=qt(),T=s+22,P=C.firstCreatePass?function Ea(s,a,l,d,h,p,y,w,I){const C=a.consts,T=Uc(a,s,4,y||null,zr(C,w));jw(a,l,T,zr(C,I)),Ns(a,T);const P=T.tViews=dy(2,T,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,C);return null!==a.queries&&(a.queries.template(a,T),P.queries=a.queries.embeddedTView(T)),T}(T,C,I,a,l,d,h,p,y):C.data[T];ds(P,!1);const z=I[11].createComment("");op(C,I,z,P),Di(z,I),nr(I,I[T]=Vp(z,I,z,P)),Zl(P)&&Hc(C,I,P),null!=y&&uy(I,P,w)}function sE(s){return Fs(function qu(){return Mt.lFrame.contextLView}(),22+s)}function vl(s,a,l){const d=xe();return pi(d,hs(),a)&&br(qt(),sn(),d,s,a,d[11],l,!1),vl}function zd(s,a,l,d,h){const y=h?"class":"style";yy(s,l,a.inputs[y],y,d)}function Gd(s,a,l,d){const h=xe(),p=qt(),y=22+s,w=h[11],I=h[y]=Ic(w,a,function z0(){return Mt.lFrame.currentNamespace}()),C=p.firstCreatePass?function oE(s,a,l,d,h,p,y){const w=a.consts,C=Uc(a,s,2,h,zr(w,p));return jw(a,l,C,zr(w,y)),null!==C.attrs&&Bd(C,C.attrs,!1),null!==C.mergedAttrs&&Bd(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,p,h,0,a,l,d):p.data[y];return ds(C,!0),nS(w,I,C),32!=(32&C.flags)&&op(p,h,I,C),0===function Wu(){return Mt.lFrame.elementDepthCount}()&&Di(I,h),function $g(){Mt.lFrame.elementDepthCount++}(),Zl(C)&&(Hc(p,h,C),Pd(p,C,h)),null!==d&&uy(h,C),Gd}function Gp(){let s=Wn();Jl()?ec():(s=s.parent,ds(s,!1));const a=s;!function bf(){Mt.lFrame.elementDepthCount--}();const l=qt();return l.firstCreatePass&&(Ns(l,s),cs(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Mf(s){return 0!=(8&s.flags)}(a)&&zd(l,a,xe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Jo(s){return 0!=(16&s.flags)}(a)&&zd(l,a,xe(),a.stylesWithoutHost,!1),Gp}function Gc(s,a,l,d){return Gd(s,a,l,d),Gp(),Gc}function aE(){return xe()}function Sy(s){return!!s&&"function"==typeof s.then}function gs(s){return!!s&&"function"==typeof s.subscribe}const Ty=gs;function Wp(s,a,l,d){const h=xe(),p=qt(),y=Wn();return _i(p,h,h[11],y,s,a,d),Wp}function qp(s,a){const l=Wn(),d=xe(),h=qt();return _i(h,d,Yw(Ku(h.data),l,d),l,s,a),qp}function _i(s,a,l,d,h,p,y){const w=Zl(d),C=s.firstCreatePass&&Kw(s),T=a[8],P=Bp(a);let z=!0;if(3&d.type||y){const Ne=Xi(d,a),He=y?y(Ne):Ne,tt=P.length,gt=y?Ct=>y(Nn(Ct[d.index])):d.index;let Se=null;if(!y&&w&&(Se=function _F(s,a,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=a[7],I=h[p+2];return w.length>I?w[I]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,d.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=p,Se.__ngLastListenerFn__=p,z=!1;else{p=Wd(d,a,T,p,!1);const Ct=l.listen(He,h,p);P.push(p,Ct),C&&C.push(h,gt,tt,tt+1)}}else p=Wd(d,a,T,p,!1);const Q=d.outputs;let me;if(z&&null!==Q&&(me=Q[h])){const Ne=me.length;if(Ne)for(let He=0;He<Ne;He+=2){const vn=a[me[He]][me[He+1]].subscribe(p),Un=P.length;P.push(p,vn),C&&C.push(h,d.index,Un,-(Un+1))}}}function Ro(s,a,l,d){try{return!1!==l(d)}catch(h){return Vd(s,h),!1}}function Wd(s,a,l,d,h){return function p(y){if(y===Function)return d;Ld(s.componentOffset>-1?hi(s.index,a):a);let I=Ro(a,0,d,y),C=p.__ngNextListenerFn__;for(;C;)I=Ro(a,0,C,y)&&I,C=C.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function lE(s=1){return function U0(s){return(Mt.lFrame.contextLView=function H0(s,a){for(;s>0;)a=a[15],s--;return a}(s,Mt.lFrame.contextLView))[8]}(s)}function cE(s,a){let l=null;const d=function ZS(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(s);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?qS(s,p,!0):cF(d,p))return h}else l=h}return l}function Ay(s){const a=xe()[16][6];if(!a.projection){const d=a.projection=oa(s?s.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const y=s?cE(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function uE(s,a=0,l){const d=xe(),h=qt(),p=Uc(h,22+s,16,null,l||null);null===p.projection&&(p.projection=a),ec(),32!=(32&p.flags)&&function iw(s,a,l){JD(a[11],0,a,l,J0(s,l,a),QD(l.parent||a[6],l,a))}(h,d,p)}function Zp(s,a){return s<<17|a<<2}function Jr(s){return s>>17&32767}function qc(s){return 2|s}function _s(s){return(131068&s)>>2}function Kp(s,a){return-131069&s|a<<2}function Py(s){return 1|s}function mE(s,a,l,d,h){const p=s[l+1],y=null===a;let w=d?Jr(p):_s(p),I=!1;for(;0!==w&&(!1===I||y);){const T=s[w+1];FT(s[w],a)&&(I=!0,s[w+1]=d?Py(T):qc(T)),w=d?Jr(T):_s(T)}I&&(s[l+1]=d?qc(p):Py(p))}function FT(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&qr(s,a)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zd(s){return s.substring(si.key,si.keyEnd)}function gE(s,a){const l=si.textEnd;return l===a?-1:(a=si.keyEnd=function VT(s,a,l){for(;a<l&&s.charCodeAt(a)>32;)a++;return a}(s,si.key=a,l),Oo(s,a,l))}function Oo(s,a,l){for(;a<l&&s.charCodeAt(a)<=32;)a++;return a}function Ly(s,a,l){return es(s,a,l,!1),Ly}function xl(s,a){return es(s,a,null,!0),xl}function ys(s,a){for(let l=function NT(s){return function Xp(s){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=s.length}(s),gE(s,Oo(s,0,si.textEnd))}(a);l>=0;l=gE(a,l))Ut(s,Zd(a),!0)}function es(s,a,l,d){const h=xe(),p=qt(),y=Wr(2);p.firstUpdatePass&&wE(p,s,y,d),a!==Rt&&pi(h,y,a)&&Xs(p,p.data[Qi()],h,h[11],s,h[y+1]=function em(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=pe(Io(s)))),s}(a,l),d,y)}function bE(s,a){return a>=s.expandoStartIndex}function wE(s,a,l,d){const h=s.data;if(null===h[l+1]){const p=h[Qi()],y=bE(s,l);Hy(p,d)&&null===a&&!y&&(a=!1),a=function EE(s,a,l,d){const h=Ku(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=Il(l=By(null,s,a,l,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(l=By(h,s,a,l,d),null===p){let I=function BT(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==_s(d))return s[Jr(d)]}(s,a,d);void 0!==I&&Array.isArray(I)&&(I=By(null,s,a,I[1],d),I=Il(I,a.attrs,d),function Vy(s,a,l,d){s[Jr(l?a.classBindings:a.styleBindings)]=d}(s,a,d,I))}else p=function Kd(s,a,l){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Il(d,s[p].hostAttrs,l);return Il(d,a.attrs,l)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),l}(h,p,a,d),function fE(s,a,l,d,h,p){let y=p?a.classBindings:a.styleBindings,w=Jr(y),I=_s(y);s[d]=l;let T,C=!1;if(Array.isArray(l)){const P=l;T=P[1],(null===T||qr(P,T)>0)&&(C=!0)}else T=l;if(h)if(0!==I){const z=Jr(s[w+1]);s[d+1]=Zp(z,w),0!==z&&(s[z+1]=Kp(s[z+1],d)),s[w+1]=function OT(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=Zp(w,0),0!==w&&(s[w+1]=Kp(s[w+1],d)),w=d;else s[d+1]=Zp(I,0),0===w?w=d:s[I+1]=Kp(s[I+1],d),I=d;C&&(s[d+1]=qc(s[d+1])),mE(s,T,d,!0),mE(s,T,d,!1),function pE(s,a,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&qr(p,a)>=0&&(l[d+1]=Py(l[d+1]))}(a,T,s,d,p),y=Zp(w,I),p?a.classBindings=y:a.styleBindings=y}(h,p,a,l,y,d)}}function By(s,a,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=a[w],d=Il(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Il(s,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ut(s,y,!!l||a[++p]))}return void 0===s?null:s}function Xs(s,a,l,d,h,p,y,w){if(!(3&a.type))return;const I=s.data,C=I[w+1],T=function Yp(s){return 1==(1&s)}(C)?Jp(I,a,l,h,_s(C),y):void 0;Qs(T)||(Qs(p)||function Fy(s){return 2==(2&s)}(C)&&(p=Jp(I,null,l,h,w,y)),function rw(s,a,l,d,h){if(a)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:Mr.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Mr.Important),s.setStyle(l,d,h,p))}}(d,y,Zo(Qi(),l),h,p))}function Jp(s,a,l,d,h,p){const y=null===a;let w;for(;h>0;){const I=s[h],C=Array.isArray(I),T=C?I[1]:I,P=null===T;let z=l[h+1];z===Rt&&(z=P?Ue:void 0);let Q=P?Sn(z,d):T===d?z:void 0;if(C&&!Qs(Q)&&(Q=Sn(I,d)),Qs(Q)&&(w=Q,y))return w;const me=s[h+1];h=y?Jr(me):_s(me)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(w=Sn(I,d))}return w}function Qs(s){return void 0!==s}function Hy(s,a){return 0!=(s.flags&(a?8:16))}function IE(s,a=""){const l=xe(),d=qt(),h=s+22,p=d.firstCreatePass?Uc(d,h,1,a,null):d.data[h],y=l[h]=function da(s,a){return s.createText(a)}(l[11],a);op(d,l,y,p),ds(p,!1)}function jy(s){return tm("",s,""),jy}function tm(s,a,l){const d=xe(),h=ba(d,s,a,l);return h!==Rt&&Ys(d,Qi(),h),tm}function $y(s,a,l,d,h){const p=xe(),y=zc(p,s,a,l,d,h);return y!==Rt&&Ys(p,Qi(),y),$y}function zy(s,a,l){!function Ni(s,a,l,d){const h=qt(),p=Wr(2);h.firstUpdatePass&&wE(h,null,p,d);const y=xe();if(l!==Rt&&pi(y,p,l)){const w=h.data[Qi()];if(Hy(w,d)&&!bE(h,p)){let I=d?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(l=be(I,l||"")),zd(h,w,y,l,d)}else!function xE(s,a,l,d,h,p,y,w){h===Rt&&(h=Ue);let I=0,C=0,T=0<h.length?h[0]:null,P=0<p.length?p[0]:null;for(;null!==T||null!==P;){const z=I<h.length?h[I+1]:void 0,Q=C<p.length?p[C+1]:void 0;let Ne,me=null;T===P?(I+=2,C+=2,z!==Q&&(me=P,Ne=Q)):null===P||null!==T&&T<P?(I+=2,me=T):(C+=2,me=P,Ne=Q),null!==me&&Xs(s,a,l,d,me,Ne,y,w),T=I<h.length?h[I]:null,P=C<p.length?p[C]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function UT(s,a,l){if(null==l||""===l)return Ue;const d=[],h=Io(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&a(d,h);return d}(s,a,l),d,p)}}(Ut,ys,ba(xe(),s,a,l),!0)}function Yd(s,a,l){const d=xe();return pi(d,hs(),a)&&br(qt(),sn(),d,s,a,d[11],l,!0),Yd}function om(s,a,l){const d=xe();if(pi(d,hs(),a)){const p=qt(),y=sn();br(p,y,d,s,a,Yw(Ku(p.data),y,d),l,!0)}return om}const Ca=void 0;var UE=["en",[["a","p"],["AM","PM"],Ca],[["AM","PM"],Ca,Ca],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ca,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ca,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ca,"{1} 'at' {0}",Ca],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BE(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Qc={};function Jc(s){const a=function EF(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=$E(a);if(l)return l;const d=a.split("-")[0];if(l=$E(d),l)return l;if("en"===d)return UE;throw new oe(701,!1)}function jE(s){return Jc(s)[mt.PluralCase]}function $E(s){return s in Qc||(Qc[s]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[s]),Qc[s]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const Xd="en-US";let Or=Xd;function rv(s,a,l,d,h){if(s=q(s),Array.isArray(s))for(let p=0;p<s.length;p++)rv(s[p],a,l,d,h);else{const p=qt(),y=xe();let w=Oc(s)?s:q(s.provide),I=xw(s);const C=Wn(),T=1048575&C.providerIndexes,P=C.directiveStart,z=C.providerIndexes>>20;if(Oc(s)||!s.multi){const Q=new tc(I,h,gl),me=ah(w,a,h?T:T+z,P);-1===me?(Of(na(C,y),p,w),mm(p,s,a.length),a.push(w),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),l.push(Q),y.push(Q)):(l[me]=Q,y[me]=Q)}else{const Q=ah(w,a,T+z,P),me=ah(w,a,T,T+z),Ne=Q>=0&&l[Q],He=me>=0&&l[me];if(h&&!He||!h&&!Ne){Of(na(C,y),p,w);const tt=function mA(s,a,l,d,h){const p=new tc(s,l,gl);return p.multi=[],p.index=a,p.componentProviders=0,sv(p,h,d&&!l),p}(h?vx:yx,l.length,h,d,I);!h&&He&&(l[me].providerFactory=tt),mm(p,s,a.length,0),a.push(w),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),l.push(tt),y.push(tt)}else mm(p,s,Q>-1?Q:me,sv(l[h?me:Q],I,!h&&d));!h&&d&&He&&l[me].componentProviders++}}}function mm(s,a,l,d){const h=Oc(a),p=function xS(s){return!!s.useClass}(a);if(h||p){const I=(p?q(a.useClass):a).prototype.ngOnDestroy;if(I){const C=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const T=C.indexOf(l);-1===T?C.push(l,[d,I]):C[T+1].push(d,I)}else C.push(l,I)}}}function sv(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function ah(s,a,l,d){for(let h=l;h<d;h++)if(a[h]===s)return h;return-1}function yx(s,a,l,d){return ov(this.multi,[])}function vx(s,a,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Us(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),ov(h,p);for(let I=y;I<w.length;I++)p.push(w[I])}else p=[],ov(h,p);return p}function ov(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function bx(s,a=[]){return l=>{l.providersResolver=(d,h)=>function iv(s,a,l){const d=qt();if(d.firstCreatePass){const h=xi(s);rv(l,d.data,d.blueprint,h,!0),rv(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class nu{}class wx{}function gm(s,a){return new Ex(s,a??null)}class Ex extends nu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xw(this);const d=ki(a);this._bootstrapComponents=Ws(d.bootstrap),this._r3Injector=Fw(a,l,[{provide:nu,useValue:this},{provide:Td,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class _m extends wx{constructor(a){super(),this.moduleType=a}create(a){return new Ex(this.moduleType,a)}}class gA extends nu{constructor(a,l,d){super(),this.componentFactoryResolver=new Xw(this),this.instance=null;const h=new B_([...a,{provide:nu,useValue:this},{provide:Td,useValue:this.componentFactoryResolver}],l||Fc(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function av(s,a,l=null){return new gA(s,a,l).injector}let _A=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=kc(0,l.type),h=d.length>0?av([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ht({token:s,providedIn:"environment",factory:()=>new s(Le(Pc))}),s})();function xx(s){s.getStandaloneInjector=a=>a.get(_A).getOrCreateStandaloneInjector(s)}function vm(s,a){const l=s[a];return l===Rt?void 0:l}function uv(s,a,l,d,h,p,y,w){const I=a+l;return function jd(s,a,l,d,h){const p=yl(s,a,l,d);return pi(s,a+2,h)||p}(s,I,h,p,y)?ir(s,I+3,w?d.call(w,h,p,y):d(h,p,y)):vm(s,I+3)}function dv(s,a){const l=qt();let d;const h=s+22;l.firstCreatePass?(d=function DA(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=lo(d.type)),y=Jn(gl);try{const w=fo(!1),I=p();return fo(w),function ko(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,xe(),h,I),I}finally{Jn(y)}}function Fx(s,a,l,d){const h=s+22,p=xe(),y=Fs(p,h);return bm(p,h)?function CA(s,a,l,d,h,p,y){const w=a+l;return yl(s,w,h,p)?ir(s,w+2,y?d.call(y,h,p):d(h,p)):vm(s,w+2)}(p,Ln(),a,y.transform,l,d,y):y.transform(l,d)}function Px(s,a,l,d,h){const p=s+22,y=xe(),w=Fs(y,p);return bm(y,p)?uv(y,Ln(),a,w.transform,l,d,h,w):w.transform(l,d,h)}function bm(s,a){return s[1].data[a].pure}function Gt(s){return a=>{setTimeout(s,void 0,a)}}const Js=class AA extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let h=a,p=l||(()=>null),y=d;if(a&&"object"==typeof a){const I=a;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=Gt(p),h&&(h=Gt(h)),y&&(y=Gt(y)));const w=super.subscribe({next:h,error:p,complete:y});return a instanceof F.w0&&a.add(w),w}};function MA(){return this._results[_l()]()}class X{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=_l(),d=X.prototype;d[l]||(d[l]=MA)}get changes(){return this._changes||(this._changes=new Js)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=function er(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function K0(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let it=(()=>{class s{}return s.__NG_ELEMENT_ID__=ru,s})();const vs=it,bs=class extends vs{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,h=Op(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),cy(d,h,a),new Oi(h)}};function ru(){return uh(Wn(),xe())}function uh(s,a){return 4&s.type?new bs(a,s,Lc(s,a)):null}let su=(()=>{class s{}return s.__NG_ELEMENT_ID__=Lx,s})();function Lx(){return Ux(Wn(),xe())}const Vx=su,hv=class extends Vx{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const a=nd(this._hostTNode,this._hostLView);if(Rf(a)){const l=fs(a,this._hostLView),d=Xa(a);return new po(l[1].data[d+8],l)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Bx(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=a.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(a,l,d,h,p){const y=a&&!function rl(s){return"function"==typeof s}(a);let w;if(y)w=l;else{const P=l||{};w=P.index,d=P.injector,h=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const I=y?a:new $c(Kt(a)),C=d||this.parentInjector;if(!p&&null==I.ngModule){const z=(y?C:this.parentInjector).get(Pc,null);z&&(p=z)}const T=I.create(C,h,void 0,p);return this.insert(T.hostView,w),T}insert(a,l){const d=a._lView,h=d[1];if(function Hg(s){return Yi(s[3])}(d)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const P=d[3],z=new hv(P,P[6],P[3]);z.detach(z.indexOf(a))}}const p=this._adjustIndex(l),y=this._lContainer;!function Dc(s,a,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=a),d<p-10?(a[4]=l[h],l_(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const y=a[17];null!==y&&l!==y&&function Eo(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(h,d,y,p);const w=pl(p,y),I=d[11],C=Tc(I,y[7]);return null!==C&&function w_(s,a,l,d,h,p){d[0]=h,d[6]=a,Ac(s,d,l,1,h,p)}(h,y[6],I,d,C,w),a.attachToViewContainerRef(),l_(fv(y),p,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Bx(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=Sc(this._lContainer,l);d&&(od(fv(this._lContainer),l),Q0(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=Sc(this._lContainer,l);return d&&null!=od(fv(this._lContainer),l)?new Oi(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function Bx(s){return s[8]}function fv(s){return s[8]||(s[8]=[])}function Ux(s,a){let l;const d=a[s.index];if(Yi(d))l=d;else{let h;if(8&s.type)h=Nn(d);else{const p=a[11];h=p.createComment("");const y=Xi(s,a);fl(p,Tc(p,y),h,function QO(s,a){return s.nextSibling(a)}(p,y),!1)}a[s.index]=l=Vp(d,a,h,s),nr(a,l)}return new hv(l,s,a)}class pv{constructor(a){this.queryList=a,this.matches=null}clone(){return new pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class mv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new mv(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==xm(a,l).matches&&this.queries[l].setDirty()}}class eo{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class wm{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new wm(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class dh{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new dh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,l,Hx(l,p)),this.matchTNodeWithReadOption(a,l,el(l,a,p,!1,!1))}else d===it?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,el(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ad||h===su||h===it&&4&l.type)this.addMatch(l.index,-2);else{const p=el(l,a,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Hx(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function _v(s,a,l,d){return-1===l?function gv(s,a){return 11&s.type?Lc(s,a):4&s.type?uh(s,a):null}(a,s):-2===l?function jx(s,a,l){return l===Ad?Lc(a,s):l===it?uh(a,s):l===su?Ux(a,s):void 0}(s,a,d):Us(s,s[1],l,a)}function yv(s,a,l,d){const h=a[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let I=0;I<y.length;I+=2){const C=y[I];w.push(C<0?null:_v(a,p[C],y[I+1],l.metadata.read))}h.matches=w}return h.matches}function hh(s,a,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=yv(s,a,h,l);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)d.push(y[w/2]);else{const C=p[w+1],T=a[-I];for(let P=10;P<T.length;P++){const z=T[P];z[17]===z[3]&&hh(z[1],z,C,d)}if(null!==T[9]){const P=T[9];for(let z=0;z<P.length;z++){const Q=P[z];hh(Q[1],Q,C,d)}}}}}return d}function Em(s){const a=xe(),l=qt(),d=qg();Cf(d+1);const h=xm(l,d);if(s.dirty&&function Gu(s){return 4==(4&s[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?hh(l,a,d,[]):yv(l,a,h,d);s.reset(p,FS),s.notifyOnChanges()}return!0}return!1}function $x(s,a,l){const d=qt();d.firstCreatePass&&(Wx(d,new eo(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),bv(d,xe(),a)}function zx(s,a,l,d){const h=qt();if(h.firstCreatePass){const p=Wn();Wx(h,new eo(a,l,d),p.index),function kA(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}bv(h,xe(),l)}function Gx(){return function vv(s,a){return s[19].queries[a].queryList}(xe(),qg())}function bv(s,a,l){const d=new X(4==(4&l));Pp(s,a,d,d.destroy),null===a[19]&&(a[19]=new mv),a[19].queries.push(new pv(d))}function Wx(s,a,l){null===s.queries&&(s.queries=new wm),s.queries.track(new dh(a,l))}function xm(s,a){return s.queries.getByIndex(a)}function qx(s,a){return uh(s,a)}function Av(...s){}const Om=new on("Application Initializer");let fh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Av,this.reject=Av,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Sy(p))l.push(p);else if(Ty(p)){const y=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Le(Om,8))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fI=new on("AppId",{providedIn:"root",factory:function pI(){return`${Mv()}${Mv()}${Mv()}`}});function Mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fm=new on("Platform Initializer"),mI=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gI=new on("appBootstrapListener"),UA=new on("AnimationModuleType");let Er=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Pm=new on("LocaleId",{providedIn:"root",factory:()=>qe(Pm,Qe.Optional|Qe.SkipSelf)||function HA(){return typeof $localize<"u"&&$localize.locale||Xd}()}),jA=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZF{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let zA=(()=>{class s{compileModuleSync(l){return new _m(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=Ws(ki(l).declarations).reduce((y,w)=>{const I=Kt(w);return I&&y.push(new $c(I)),y},[]);return new ZF(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YF=(()=>Promise.resolve(0))();function uu(s){typeof Zone>"u"?YF.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ts{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Js(!1),this.onMicrotaskEmpty=new Js(!1),this.onStable=new Js(!1),this.onError=new Js(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function XF(){let s=Et.requestAnimationFrame,a=Et.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function KA(s){const a=()=>{!function ZA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Et,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ov(s),s.isCheckStableRunning=!0,Rv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ov(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return yI(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),vI(s)}},onInvoke:(l,d,h,p,y,w,I)=>{try{return yI(s),l.invoke(h,p,y,w,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),vI(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Ov(s),Rv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new oe(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,qA,Av,Av);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const qA={};function Rv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ov(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function yI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function vI(s){s._nesting--,Rv(s)}class YA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Js,this.onMicrotaskEmpty=new Js,this.onStable=new Js,this.onError=new Js}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}const ph=new on(""),Sa=new on("");let Fv,XA=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fv||(function QA(s){Fv=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uu(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Le(ts),Le(bI),Le(Sa))},s.\u0275prov=ht({token:s,factory:s.\u0275fac}),s})(),bI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Fv?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ta=null;const wI=new on("AllowMultipleToken"),EI=new on("PlatformDestroyListeners");class tM{constructor(a,l){this.name=a,this.token=l}}function CI(s,a,l=[]){const d=`Platform: ${a}`,h=new on(d);return(p=[])=>{let y=Is();if(!y||y.injector.get(wI,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function II(s){if(Ta&&!Ta.get(wI,!1))throw new oe(400,!1);Ta=s;const a=s.get(DI);(function Pv(s){const a=s.get(Fm,null);a&&a.forEach(l=>l())})(s)}(function rM(s=[],a){return _a.create({name:a,providers:[{provide:Ew,useValue:"platform"},{provide:EI,useValue:new Set([()=>Ta=null])},...s]})}(w,d))}return function iM(s){const a=Is();if(!a)throw new oe(401,!1);return a}()}}function Is(){return Ta?.get(DI)??null}let DI=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function SI(s,a){let l;return l="noop"===s?new YA:("zone.js"===s?void 0:s)||new ts(a),l}(d?.ngZone,function Lm(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:ts,useValue:h}];return h.run(()=>{const y=_a.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),I=w.injector.get(Md,null);if(!I)throw new oe(402,!1);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:T=>{I.handleError(T)}});w.onDestroy(()=>{Vm(this._modules,w),C.unsubscribe()})}),function Nv(s,a,l){try{const d=l();return Sy(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const C=w.injector.get(fh);return C.runInitializers(),C.donePromise.then(()=>(function Yy(s){Nt(s,"Expected localeId to be defined"),"string"==typeof s&&(Or=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Pm,Xd)||Xd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=TI({},d);return function JA(s,a,l){const d=new _m(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(du);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new oe(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(EI,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Le(_a))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function TI(s,a){return Array.isArray(a)?a.reduce(TI,s):{...s,...a}}let du=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new M.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new M.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ts.assertNotInAngularZone(),uu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),C.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,J.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof MS;if(!this._injector.get(fh).done)throw!h&&ro(l),new oe(405,false);let y;y=h?l:this._injector.get(Td).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function eM(s){return s.isBoundToModule}(y)?void 0:this._injector.get(nu),C=y.create(_a.NULL,[],d||y.selector,w),T=C.location.nativeElement,P=C.injector.get(ph,null);return P?.registerApplication(T),C.onDestroy(()=>{this.detachView(C.hostView),Vm(this.components,C),P?.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Vm(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(gI,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Vm(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new oe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Le(ts),Le(Pc),Le(Md))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Vm(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}function Al(){return!1}let Lv=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vv,s})();function Vv(s){return function aM(s,a,l){if($a(s)&&!l){const d=hi(s.index,a);return new Oi(d,d)}return 47&s.type?new Oi(a[16],a):null}(Wn(),xe(),16==(16&s))}class zm{constructor(){}supports(a){return Ye(a)}create(a){return new jv(a)}}const uM=(s,a)=>a;class jv{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||uM}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<BI(d,h,p)?l:d,w=BI(y,h,p),I=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const C=w-h,T=I-h;if(C!=T){for(let z=0;z<C;z++){const Q=z<p.length?p[z]:p[z]=0,me=Q+z;T<=me&&me<C&&(p[z]=Q+1)}p[y.previousIndex]=T-C}}w!==I&&a(y,w,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Ye(a))throw new oe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function Xr(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[_l()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,p,h)):a=this._addAfter(new dM(l,d),p,h),a}_verifyReinsertion(a,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new VI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class dM{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LI{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class VI{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new LI,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BI(s,a,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class UI{constructor(){}supports(a){return a instanceof Map||Ey(a)}create(){return new hM}}class hM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Ey(a)))throw new oe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new HI(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class HI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jI(){return new vh([new zm])}let vh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||jI()),deps:[[s,new aa,new ps]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new oe(901,!1)}}return s.\u0275prov=ht({token:s,providedIn:"root",factory:jI}),s})();function $v(){return new bh([new UI])}let bh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||$v()),deps:[[s,new aa,new ps]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new oe(901,!1)}}return s.\u0275prov=ht({token:s,providedIn:"root",factory:$v}),s})();const zI=CI(null,"core",[]);let Gv=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Le(du))},s.\u0275mod=jo({type:s}),s.\u0275inj=zi({}),s})();function pM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ne,re,R)=>{"use strict";R.d(re,{Z:()=>$e});var c=R(2090),F=R(4859),M=R(9681),ie=R(1877);class J{constructor(oe,Ae){this._delegate=oe,this.firebase=Ae,(0,M._addComponent)(oe,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(oe,Ae=M._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(oe);return!ke.isInitialized()&&"EXPLICIT"===(null===(we=ke.getComponent())||void 0===we?void 0:we.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:Ae})}_removeServiceInstance(oe,Ae=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Ae)}_addComponent(oe){(0,M._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,M._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function be(){const We=function pe(We){const oe={},Ae={__esModule:!0,initializeApp:function Pe(se,ce={}){const ge=M.initializeApp(se,ce);if((0,c.r3)(oe,ge.name))return oe[ge.name];const Z=new We(ge,Ae);return oe[ge.name]=Z,Z},app:ke,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ee(se){const ce=se.name,ge=ce.replace("-compat","");if(M._registerComponent(se)&&"PUBLIC"===se.type){const Z=(W=ke())=>{if("function"!=typeof W[ge])throw ve.create("invalid-app-argument",{appName:ce});return W[ge]()};void 0!==se.serviceProps&&(0,c.ZB)(Z,se.serviceProps),Ae[ge]=Z,We.prototype[ge]=function(...W){return this._getService.bind(this,ce).apply(this,se.multipleInstances?W:[])}}return"PUBLIC"===se.type?Ae[ge]:null},removeApp:function we(se){delete oe[se]},useAsService:function Be(se,ce){return"serverAuth"===ce?null:ce},modularAPIs:M}};function ke(se){if(!(0,c.r3)(oe,se=se||M._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:se});return oe[se]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Ce(){return Object.keys(oe).map(se=>oe[se])}}),ke.App=We,Ae}(J);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function oe(Ae){(0,c.ZB)(We,Ae)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),We}(),B=new ie.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=j;!function Te(We){(0,M.registerVersion)("@firebase/app-compat","0.2.0",We)}()},9681:(ne,re,R)=>{"use strict";R.r(re),R.d(re,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>rn,_addOrOverwriteComponent:()=>ci,_apps:()=>Nt,_clearComponents:()=>zi,_components:()=>_t,_getProvider:()=>ht,_registerComponent:()=>Ht,_removeServiceInstance:()=>jr,deleteApp:()=>ss,getApp:()=>Gi,getApps:()=>Sr,initializeApp:()=>Dr,onLog:()=>Qe,registerVersion:()=>bi,setLogLevel:()=>wi});var c=R(5861),F=R(4859),M=R(1877),ie=R(2090),J=R(8766);class Y{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function ve(Le){return"VERSION"===Le.getComponent()?.type}(qe)){const ft=qe.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(qe=>qe).join(" ")}}const pe="@firebase/app",j=new M.Yd("@firebase/app"),an="[DEFAULT]",yt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nt=new Map,_t=new Map;function rn(Le,_e){try{Le.container.addComponent(_e)}catch(qe){j.debug(`Component ${_e.name} failed to register with FirebaseApp ${Le.name}`,qe)}}function ci(Le,_e){Le.container.addOrOverwriteComponent(_e)}function Ht(Le){const _e=Le.name;if(_t.has(_e))return j.debug(`There were multiple attempts to register component ${_e}.`),!1;_t.set(_e,Le);for(const qe of Nt.values())rn(qe,Le);return!0}function ht(Le,_e){const qe=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Le.container.getProvider(_e)}function jr(Le,_e,qe=an){ht(Le,_e).clearInstance(qe)}function zi(){_t.clear()}const bn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rs{constructor(_e,qe,ft){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const Rs="9.15.0";function Dr(Le,_e={}){let qe=Le;"object"!=typeof _e&&(_e={name:_e});const ft=Object.assign({name:an,automaticDataCollectionEnabled:!1},_e),xt=ft.name;if("string"!=typeof xt||!xt)throw bn.create("bad-app-name",{appName:String(xt)});if(qe||(qe=(0,ie.aH)()),!qe)throw bn.create("no-options");const Wt=Nt.get(xt);if(Wt){if((0,ie.vZ)(qe,Wt.options)&&(0,ie.vZ)(ft,Wt.config))return Wt;throw bn.create("duplicate-app",{appName:xt})}const H=new F.H0(xt);for(const G of _t.values())H.addComponent(G);const U=new rs(qe,ft,H);return Nt.set(xt,U),U}function Gi(Le=an){const _e=Nt.get(Le);if(!_e&&Le===an)return Dr();if(!_e)throw bn.create("no-app",{appName:Le});return _e}function Sr(){return Array.from(Nt.values())}function ss(Le){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(Le){const _e=Le.name;Nt.has(_e)&&(Nt.delete(_e),yield Promise.all(Le.container.getProviders().map(qe=>qe.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function bi(Le,_e,qe){var ft;let xt=null!==(ft=yt[Le])&&void 0!==ft?ft:Le;qe&&(xt+=`-${qe}`);const Wt=xt.match(/\s|\//),H=_e.match(/\s|\//);if(Wt||H){const U=[`Unable to register library "${xt}" with version "${_e}":`];return Wt&&U.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Wt&&H&&U.push("and"),H&&U.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void j.warn(U.join(" "))}Ht(new F.wA(`${xt}-version`,()=>({library:xt,version:_e}),"VERSION"))}function Qe(Le,_e){if(null!==Le&&"function"!=typeof Le)throw bn.create("invalid-log-argument");(0,M.Am)(Le,_e)}function wi(Le){(0,M.Ub)(Le)}const ei="firebase-heartbeat-store";let fr=null;function Et(){return fr||(fr=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(Le,_e)=>{0===_e&&Le.createObjectStore(ei)}}).catch(Le=>{throw bn.create("idb-open",{originalErrorMessage:Le.message})})),fr}function wt(){return(wt=(0,c.Z)(function*(Le){try{return(yield Et()).transaction(ei).objectStore(ei).get(Cn(Le))}catch(_e){if(_e instanceof ie.ZR)j.warn(_e.message);else{const qe=bn.create("idb-get",{originalErrorMessage:_e?.message});j.warn(qe.message)}}})).apply(this,arguments)}function fn(Le,_e){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(Le,_e){try{const ft=(yield Et()).transaction(ei,"readwrite");return yield ft.objectStore(ei).put(_e,Cn(Le)),ft.done}catch(qe){if(qe instanceof ie.ZR)j.warn(qe.message);else{const ft=bn.create("idb-set",{originalErrorMessage:qe?.message});j.warn(ft.message)}}})).apply(this,arguments)}function Cn(Le){return`${Le.name}!${Le.options.appId}`}class Tr{constructor(_e){this.container=_e,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Bt(qe),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var _e=this;return(0,c.Z)(function*(){const ft=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Ot();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==xt&&!_e._heartbeatsCache.heartbeats.some(Wt=>Wt.date===xt))return _e._heartbeatsCache.heartbeats.push({date:xt,agent:ft}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Wt=>{const H=new Date(Wt.date).valueOf();return Date.now()-H<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,c.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const qe=Ot(),{heartbeatsToSend:ft,unsentEntries:xt}=function os(Le,_e=1024){const qe=[];let ft=Le.slice();for(const xt of Le){const Wt=qe.find(H=>H.agent===xt.agent);if(Wt){if(Wt.dates.push(xt.date),Wi(qe)>_e){Wt.dates.pop();break}}else if(qe.push({agent:xt.agent,dates:[xt.date]}),Wi(qe)>_e){qe.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:qe,unsentEntries:ft}}(_e._heartbeatsCache.heartbeats),Wt=(0,ie.L)(JSON.stringify({version:2,heartbeats:ft}));return _e._heartbeatsCache.lastSentHeartbeatDate=qe,xt.length>0?(_e._heartbeatsCache.heartbeats=xt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Wt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,c.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function lt(Le){return wt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var qe=this;return(0,c.Z)(function*(){var ft;if(yield qe._canUseIndexedDBPromise){const Wt=yield qe.read();return fn(qe.app,{lastSentHeartbeatDate:null!==(ft=_e.lastSentHeartbeatDate)&&void 0!==ft?ft:Wt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var qe=this;return(0,c.Z)(function*(){var ft;if(yield qe._canUseIndexedDBPromise){const Wt=yield qe.read();return fn(qe.app,{lastSentHeartbeatDate:null!==(ft=_e.lastSentHeartbeatDate)&&void 0!==ft?ft:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,..._e.heartbeats]})}})()}}function Wi(Le){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function zn(Le){Ht(new F.wA("platform-logger",_e=>new Y(_e),"PRIVATE")),Ht(new F.wA("heartbeat",_e=>new Tr(_e),"PRIVATE")),bi(pe,"0.9.0",Le),bi(pe,"0.9.0","esm2017"),bi("fire-js","")}("")},4859:(ne,re,R)=>{"use strict";R.d(re,{H0:()=>pe,wA:()=>M});var c=R(5861),F=R(2090);class M{constructor(j,B,q){this.name=j,this.instanceFactory=B,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class J{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const q=new F.BH;if(this.instancesDeferred.set(B,q),this.isInitialized(B)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:B});Me&&q.resolve(Me)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const q=this.normalizeInstanceIdentifier(j?.identifier),Me=null!==(B=j?.optional)&&void 0!==B&&B;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Te){if(Me)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ve(be){return"EAGER"===be.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[B,q]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(B);try{const Te=this.getOrInitializeService({instanceIdentifier:Me});q.resolve(Te)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...B.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:q,options:B});for(const[Te,$e]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Te)&&$e.resolve(Me);return Me}onInit(j,B){var q;const Me=this.normalizeInstanceIdentifier(B),Te=null!==(q=this.onInitCallbacks.get(Me))&&void 0!==q?q:new Set;Te.add(j),this.onInitCallbacks.set(Me,Te);const $e=this.instances.get(Me);return $e&&j($e,Me),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,B){const q=this.onInitCallbacks.get(B);if(q)for(const Me of q)try{Me(j,B)}catch{}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let q=this.instances.get(j);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(be=j,be===ie?void 0:be),options:B}),this.instances.set(j,q),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,q)}catch{}var be;return q||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new J(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(ne,re,R)=>{"use strict";R.d(re,{Am:()=>be,Ub:()=>pe,Yd:()=>ve,in:()=>F});const c=[];var F=(()=>{return(j=F||(F={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",F;var j})();const M={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ie=F.INFO,J={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Y=(j,B,...q)=>{if(B<j.logLevel)return;const Me=(new Date).toISOString(),Te=J[B];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Te](`[${Me}]  ${j.name}:`,...q)};class ve{constructor(B){this.name=B,this._logLevel=ie,this._logHandler=Y,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in F))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?M[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...B),this._logHandler(this,F.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...B),this._logHandler(this,F.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,F.INFO,...B),this._logHandler(this,F.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,F.WARN,...B),this._logHandler(this,F.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...B),this._logHandler(this,F.ERROR,...B)}}function pe(j){c.forEach(B=>{B.setLogLevel(j)})}function be(j,B){for(const q of c){let Me=null;B&&B.level&&(Me=M[B.level]),q.userLogHandler=null===j?null:(Te,$e,...We)=>{const oe=We.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");$e>=(Me??Te.logLevel)&&j({level:F[$e].toLowerCase(),message:oe,args:We,type:Te.name})}}}},9260:(ne,re,R)=>{"use strict";R.d(re,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(ne,re,R)=>{"use strict";R.r(re);var c=R(5861),F=R(3942),M=R(552),ie=R(2090),ve=(R(9681),R(1877),R(4859));function pe(){return window}function B(){return(B=(0,c.Z)(function*(L,A,N){var le;const{BuildInfo:Ie}=pe();(0,M.ap)(A.sessionId,"AuthEvent did not contain a session ID");const et=yield Ae(A.sessionId),Ue={};return(0,M.aq)()?Ue.ibi=Ie.packageName:(0,M.ar)()?Ue.apn=Ie.packageName:(0,M.as)(L,"operation-not-supported-in-this-environment"),Ie.displayName&&(Ue.appDisplayName=Ie.displayName),Ue.sessionId=et,(0,M.at)(L,N,A.type,void 0,null!==(le=A.eventId)&&void 0!==le?le:void 0,Ue)})).apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(L){const{BuildInfo:A}=pe(),N={};(0,M.aq)()?N.iosBundleId=A.packageName:(0,M.ar)()?N.androidPackageName=A.packageName:(0,M.as)(L,"operation-not-supported-in-this-environment"),yield(0,M.au)(L,N)})).apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(L,A,N){const{cordova:le}=pe();let Ie=()=>{};try{yield new Promise((et,Ue)=>{let St=null;function ct(){var Tt;et();const ui=null===(Tt=le.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof ui&&ui(),"function"==typeof N?.close&&N.close()}function cn(){St||(St=window.setTimeout(()=>{Ue((0,M.aw)(L,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&cn()}A.addPassiveListener(ct),document.addEventListener("resume",cn,!1),(0,M.ar)()&&document.addEventListener("visibilitychange",Gn,!1),Ie=()=>{A.removePassiveListener(ct),document.removeEventListener("resume",cn,!1),document.removeEventListener("visibilitychange",Gn,!1),St&&window.clearTimeout(St)}})}finally{Ie()}})).apply(this,arguments)}function Ae(L){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(L){const A=ke(L),N=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(N)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ke(L){if((0,M.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const A=new ArrayBuffer(L.length),N=new Uint8Array(A);for(let le=0;le<L.length;le++)N[le]=L.charCodeAt(le);return N}class Ce extends M.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(A)),super.onEvent(A)}initialized(){var A=this;return(0,c.Z)(function*(){yield A.initPromise})()}}function se(L){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(L){const A=yield W()._get(de(L));return A&&(yield W()._remove(de(L))),A})).apply(this,arguments)}function Z(){const L=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const le=Math.floor(Math.random()*A.length);L.push(A.charAt(le))}return L.join("")}function W(){return(0,M.az)(M.b)}function de(L){return(0,M.aA)("authEvent",L.config.apiKey,L.name)}function Re(L){if(!L?.includes("?"))return{};const[A,...N]=L.split("?");return(0,ie.zd)(N.join("?"))}const an=class Zt{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(A){var N=this;return(0,c.Z)(function*(){const le=A._key();let Ie=N.eventManagers.get(le);return Ie||(Ie=new Ce(A),N.eventManagers.set(le,Ie),N.attachCallbackListeners(A,Ie)),Ie})()}_openPopup(A){(0,M.as)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,N,le,Ie){var et=this;return(0,c.Z)(function*(){!function oe(L){var A,N,le,Ie,et,Ue,St,ct,cn,Gn;const Tt=pe();(0,M.ax)("function"==typeof(null===(A=Tt?.universalLinks)||void 0===A?void 0:A.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(typeof(null===(N=Tt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(et=null===(Ie=null===(le=Tt?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===et?void 0:et.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(ct=null===(St=null===(Ue=Tt?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===St?void 0:St.browsertab)||void 0===ct?void 0:ct.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(Gn=null===(cn=Tt?.cordova)||void 0===cn?void 0:cn.InAppBrowser)||void 0===Gn?void 0:Gn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const Ue=yield et._initialize(A);yield Ue.initialized(),Ue.resetRedirect(),(0,M.aD)(),yield et._originValidation(A);const St=function Ee(L,A,N=null){return{type:A,eventId:N,urlResponse:null,sessionId:Z(),postBody:null,tenantId:L.tenantId,error:(0,M.aw)(L,"no-auth-event")}}(A,le,Ie);yield function Be(L,A){return W()._set(de(L),A)}(A,St);const ct=yield function j(L,A,N){return B.apply(this,arguments)}(A,St,N),cn=yield function Te(L){const{cordova:A}=pe();return new Promise(N=>{A.plugins.browsertab.isAvailable(le=>{let Ie=null;le?A.plugins.browsertab.openUrl(L):Ie=A.InAppBrowser.open(L,(0,M.av)()?"_blank":"_system","location=yes"),N(Ie)})})}(ct);return function $e(L,A,N){return We.apply(this,arguments)}(A,Ue,cn)})()}_isIframeWebStorageSupported(A,N){throw new Error("Method not implemented.")}_originValidation(A){const N=A._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function q(L){return Me.apply(this,arguments)}(A)),this.originValidationPromises[N]}attachCallbackListeners(A,N){const{universalLinks:le,handleOpenURL:Ie,BuildInfo:et}=pe(),Ue=setTimeout((0,c.Z)(function*(){yield se(A),N.onEvent(yt())}),500),St=function(){var Gn=(0,c.Z)(function*(Tt){clearTimeout(Ue);const ui=yield se(A);let zl=null;ui&&Tt?.url&&(zl=function ge(L,A){var N,le;const Ie=function Oe(L){const A=Re(L),N=A.link?decodeURIComponent(A.link):void 0,le=Re(N).link,Ie=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return Re(Ie).link||Ie||le||N||L}(A);if(Ie.includes("/__/auth/callback")){const et=Re(Ie),Ue=et.firebaseError?function ae(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(et.firebaseError)):null,St=null===(le=null===(N=Ue?.code)||void 0===N?void 0:N.split("auth/"))||void 0===le?void 0:le[1],ct=St?(0,M.aw)(St):null;return ct?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:ct,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ie,postBody:null}}return null}(ui,Tt.url)),N.onEvent(zl||yt())});return function(ui){return Gn.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,St);const ct=Ie,cn=`${et.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Gn=(0,c.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(cn)&&St({url:Tt}),"function"==typeof ct)try{ct(Tt)}catch(ui){console.error(ui)}});return function(Tt){return Gn.apply(this,arguments)}}()}};function yt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function Ht(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function jr(L=(0,ie.z$)()){return!("file:"!==Ht()&&"ionic:"!==Ht()&&"capacitor:"!==Ht()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rs(){try{const L=self.localStorage,A=M.aI();if(L)return L.setItem(A,"1"),L.removeItem(A),!function rs(L=(0,ie.z$)()){return function $r(){return(0,ie.w1)()&&11===document?.documentMode}()||function bn(L=(0,ie.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ie.hl)()}catch{return Dr()&&(0,ie.hl)()}return!1}function Dr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gi(){return(function ht(){return"http:"===Ht()||"https:"===Ht()}()||(0,ie.ru)()||jr())&&!function zi(){return(0,ie.b$)()||(0,ie.UG)()}()&&Rs()&&!Dr()}function Sr(){return jr()&&typeof document<"u"}function hn(){return(hn=(0,c.Z)(function*(){return!!Sr()&&new Promise(L=>{const A=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),L(!0)})})})).apply(this,arguments)}const Qe={LOCAL:"local",NONE:"none",SESSION:"session"},wi=M.ax,hr="persistence";function ei(L){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(L){yield L._initializationPromise;const A=lt(),N=M.aA(hr,L.config.apiKey,L.name);A&&A.setItem(N,L._getPersistence())})).apply(this,arguments)}function lt(){var L;try{return(null===(L=function bi(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const wt=M.ax;class fn{constructor(){this.browserResolver=M.az(M.k),this.cordovaResolver=M.az(an),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(A){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,N,le,Ie){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openPopup(A,N,le,Ie)})()}_openRedirect(A,N,le,Ie){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openRedirect(A,N,le,Ie)})()}_isIframeWebStorageSupported(A,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,N)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return Sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,c.Z)(function*(){if(A.underlyingResolver)return;const N=yield function ss(){return hn.apply(this,arguments)}();A.underlyingResolver=N?A.cordovaResolver:A.browserResolver})()}}function $n(L){return L.unwrap()}function pr(L){return Tr(L)}function Tr(L){const{_tokenResponse:A}=L instanceof ie.ZR?L.customData:L;if(!A)return null;if(!(L instanceof ie.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return M.P.credentialFromResult(L);const N=A.providerId;if(!N||N===M.o.PASSWORD)return null;let le;switch(N){case M.o.GOOGLE:le=M.Q;break;case M.o.FACEBOOK:le=M.N;break;case M.o.GITHUB:le=M.T;break;case M.o.TWITTER:le=M.W;break;default:const{oauthIdToken:Ie,oauthAccessToken:et,oauthTokenSecret:Ue,pendingToken:St,nonce:ct}=A;return et||Ue||Ie||St?St?N.startsWith("saml.")?M.aL._create(N,St):M.J._fromParams({providerId:N,signInMethod:N,pendingToken:St,idToken:Ie,accessToken:et}):new M.U(N).credential({idToken:Ie,accessToken:et,rawNonce:ct}):null}return L instanceof ie.ZR?le.credentialFromError(L):le.credentialFromResult(L)}function Ot(L,A){return A.catch(N=>{throw N instanceof ie.ZR&&function ti(L,A){var N;const le=null===(N=A.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===A?.code)A.resolver=new Wi(L,M.an(L,A));else if(le){const Ie=Tr(A),et=A;Ie&&(et.credential=Ie,et.tenantId=le.tenantId||void 0,et.email=le.email||void 0,et.phoneNumber=le.phoneNumber||void 0)}}(L,N),N}).then(N=>{const Ie=N.user;return{operationType:N.operationType,credential:pr(N),additionalUserInfo:M.al(N),user:zn.getOrCreate(Ie)}})}function os(L,A){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(L,A){const N=yield A;return{verificationId:N.verificationId,confirm:le=>Ot(L,N.confirm(le))}})).apply(this,arguments)}class Wi{constructor(A,N){this.resolver=N,this.auth=function Cn(L){return L.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Ot($n(this.auth),this.resolver.resolveSignIn(A))}}class zn{constructor(A){this._delegate=A,this.multiFactor=M.ao(A)}static getOrCreate(A){return zn.USER_MAP.has(A)||zn.USER_MAP.set(A,new zn(A)),zn.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var N=this;return(0,c.Z)(function*(){return Ot(N.auth,M.Z(N._delegate,A))})()}linkWithPhoneNumber(A,N){var le=this;return(0,c.Z)(function*(){return os(le.auth,M.l(le._delegate,A,N))})()}linkWithPopup(A){var N=this;return(0,c.Z)(function*(){return Ot(N.auth,M.d(N._delegate,A,fn))})()}linkWithRedirect(A){var N=this;return(0,c.Z)(function*(){return yield ei(M.aE(N.auth)),M.g(N._delegate,A,fn)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var N=this;return(0,c.Z)(function*(){return Ot(N.auth,M._(N._delegate,A))})()}reauthenticateWithPhoneNumber(A,N){return os(this.auth,M.r(this._delegate,A,N))}reauthenticateWithPopup(A){return Ot(this.auth,M.e(this._delegate,A,fn))}reauthenticateWithRedirect(A){var N=this;return(0,c.Z)(function*(){return yield ei(M.aE(N.auth)),M.h(N._delegate,A,fn)})()}sendEmailVerification(A){return M.ab(this._delegate,A)}unlink(A){var N=this;return(0,c.Z)(function*(){return yield M.ak(N._delegate,A),N})()}updateEmail(A){return M.ag(this._delegate,A)}updatePassword(A){return M.ah(this._delegate,A)}updatePhoneNumber(A){return M.u(this._delegate,A)}updateProfile(A){return M.af(this._delegate,A)}verifyBeforeUpdateEmail(A,N){return M.ac(this._delegate,A,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const Le=M.ax;let _e=(()=>{class L{constructor(N,le){if(this.app=N,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=N.options;Le(Ie,"invalid-api-key",{appName:N.name}),Le(Ie,"invalid-api-key",{appName:N.name});const et=typeof window<"u"?fn:void 0;this._delegate=le.initialize({options:{persistence:ft(Ie,N.name),popupRedirectResolver:et}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,le){M.G(this._delegate,N,le)}applyActionCode(N){return M.a2(this._delegate,N)}checkActionCode(N){return M.a3(this._delegate,N)}confirmPasswordReset(N,le){return M.a1(this._delegate,N,le)}createUserWithEmailAndPassword(N,le){var Ie=this;return(0,c.Z)(function*(){return Ot(Ie._delegate,M.a5(Ie._delegate,N,le))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return M.aa(this._delegate,N)}isSignInWithEmailLink(N){return M.a8(this._delegate,N)}getRedirectResult(){var N=this;return(0,c.Z)(function*(){Le(Gi(),N._delegate,"operation-not-supported-in-this-environment");const le=yield M.j(N._delegate,fn);return le?Ot(N._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Nt(L,A){(0,M.aE)(L)._logFramework(A)}(this._delegate,N)}onAuthStateChanged(N,le,Ie){const{next:et,error:Ue,complete:St}=qe(N,le,Ie);return this._delegate.onAuthStateChanged(et,Ue,St)}onIdTokenChanged(N,le,Ie){const{next:et,error:Ue,complete:St}=qe(N,le,Ie);return this._delegate.onIdTokenChanged(et,Ue,St)}sendSignInLinkToEmail(N,le){return M.a7(this._delegate,N,le)}sendPasswordResetEmail(N,le){return M.a0(this._delegate,N,le||void 0)}setPersistence(N){var le=this;return(0,c.Z)(function*(){let Ie;switch(function Jn(L,A){wi(Object.values(Qe).includes(A),L,"invalid-persistence-type"),(0,ie.b$)()?wi(A!==Qe.SESSION,L,"unsupported-persistence-type"):(0,ie.UG)()?wi(A===Qe.NONE,L,"unsupported-persistence-type"):Dr()?wi(A===Qe.NONE||A===Qe.LOCAL&&(0,ie.hl)(),L,"unsupported-persistence-type"):wi(A===Qe.NONE||Rs(),L,"unsupported-persistence-type")}(le._delegate,N),N){case Qe.SESSION:Ie=M.a;break;case Qe.LOCAL:Ie=(yield M.az(M.i)._isAvailable())?M.i:M.b;break;case Qe.NONE:Ie=M.L;break;default:return M.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Ot(this._delegate,M.X(this._delegate))}signInWithCredential(N){return Ot(this._delegate,M.Y(this._delegate,N))}signInWithCustomToken(N){return Ot(this._delegate,M.$(this._delegate,N))}signInWithEmailAndPassword(N,le){return Ot(this._delegate,M.a6(this._delegate,N,le))}signInWithEmailLink(N,le){return Ot(this._delegate,M.a9(this._delegate,N,le))}signInWithPhoneNumber(N,le){return os(this._delegate,M.s(this._delegate,N,le))}signInWithPopup(N){var le=this;return(0,c.Z)(function*(){return Le(Gi(),le._delegate,"operation-not-supported-in-this-environment"),Ot(le._delegate,M.c(le._delegate,N,fn))})()}signInWithRedirect(N){var le=this;return(0,c.Z)(function*(){return Le(Gi(),le._delegate,"operation-not-supported-in-this-environment"),yield ei(le._delegate),M.f(le._delegate,N,fn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return M.a4(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Qe,L})();function qe(L,A,N){let le=L;"function"!=typeof L&&({next:le,error:A,complete:N}=L);const Ie=le;return{next:Ue=>Ie(Ue&&zn.getOrCreate(Ue)),error:A,complete:N}}function ft(L,A){const N=function Et(L,A){const N=lt();if(!N)return[];const le=M.aA(hr,L,A);switch(N.getItem(le)){case Qe.NONE:return[M.L];case Qe.LOCAL:return[M.i,M.a];case Qe.SESSION:return[M.a];default:return[]}}(L,A);if(typeof self<"u"&&!N.includes(M.i)&&N.push(M.i),typeof window<"u")for(const le of[M.b,M.a])N.includes(le)||N.push(le);return N.includes(M.L)||N.push(M.L),N}class xt{constructor(){this.providerId="phone",this._delegate=new M.P($n(F.Z.auth()))}static credential(A,N){return M.P.credential(A,N)}verifyPhoneNumber(A,N){return this._delegate.verifyPhoneNumber(A,N)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=M.P.PROVIDER_ID;const Wt=M.ax;class H{constructor(A,N,le=F.Z.app()){var Ie;Wt(null===(Ie=le.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new M.R(A,N,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(L){L.INTERNAL.registerComponent(new ve.wA("auth-compat",A=>{const N=A.getProvider("app-compat").getImmediate(),le=A.getProvider("auth");return new _e(N,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:H,TwitterAuthProvider:M.W,Auth:_e,AuthCredential:M.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.3.0")}(F.Z)},8766:(ne,re,R)=>{"use strict";R.d(re,{Lj:()=>Pe,X3:()=>ke});var c=R(5861);let M,ie;const ve=new WeakMap,pe=new WeakMap,be=new WeakMap,j=new WeakMap,B=new WeakMap;let Te={get(ce,ge,Z){if(ce instanceof IDBTransaction){if("done"===ge)return pe.get(ce);if("objectStoreNames"===ge)return ce.objectStoreNames||be.get(ce);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Ae(ce[ge])},set:(ce,ge,Z)=>(ce[ge]=Z,!0),has:(ce,ge)=>ce instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in ce};function oe(ce){return"function"==typeof ce?function We(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ge){return ce.apply(we(this),ge),Ae(ve.get(this))}:function(...ge){return Ae(ce.apply(we(this),ge))}:function(ge,...Z){const W=ce.call(we(this),ge,...Z);return be.set(W,ge.sort?ge.sort():[ge]),Ae(W)}}(ce):(ce instanceof IDBTransaction&&function Me(ce){if(pe.has(ce))return;const ge=new Promise((Z,W)=>{const de=()=>{ce.removeEventListener("complete",ae),ce.removeEventListener("error",Oe),ce.removeEventListener("abort",Oe)},ae=()=>{Z(),de()},Oe=()=>{W(ce.error||new DOMException("AbortError","AbortError")),de()};ce.addEventListener("complete",ae),ce.addEventListener("error",Oe),ce.addEventListener("abort",Oe)});pe.set(ce,ge)}(ce),((ce,ge)=>ge.some(Z=>ce instanceof Z))(ce,function J(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Te):ce)}function Ae(ce){if(ce instanceof IDBRequest)return function q(ce){const ge=new Promise((Z,W)=>{const de=()=>{ce.removeEventListener("success",ae),ce.removeEventListener("error",Oe)},ae=()=>{Z(Ae(ce.result)),de()},Oe=()=>{W(ce.error),de()};ce.addEventListener("success",ae),ce.addEventListener("error",Oe)});return ge.then(Z=>{Z instanceof IDBCursor&&ve.set(Z,ce)}).catch(()=>{}),B.set(ge,ce),ge}(ce);if(j.has(ce))return j.get(ce);const ge=oe(ce);return ge!==ce&&(j.set(ce,ge),B.set(ge,ce)),ge}const we=ce=>B.get(ce);function ke(ce,ge,{blocked:Z,upgrade:W,blocking:de,terminated:ae}={}){const Oe=indexedDB.open(ce,ge),Re=Ae(Oe);return W&&Oe.addEventListener("upgradeneeded",at=>{W(Ae(Oe.result),at.oldVersion,at.newVersion,Ae(Oe.transaction))}),Z&&Oe.addEventListener("blocked",()=>Z()),Re.then(at=>{ae&&at.addEventListener("close",()=>ae()),de&&at.addEventListener("versionchange",()=>de())}).catch(()=>{}),Re}function Pe(ce,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(ce);return ge&&Z.addEventListener("blocked",()=>ge()),Ae(Z).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Be=new Map;function se(ce,ge){if(!(ce instanceof IDBDatabase)||ge in ce||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const Z=ge.replace(/FromIndex$/,""),W=ge!==Z,de=Ee.includes(Z);if(!(Z in(W?IDBIndex:IDBObjectStore).prototype)||!de&&!Ce.includes(Z))return;const ae=function(){var Oe=(0,c.Z)(function*(Re,...at){const Zt=this.transaction(Re,de?"readwrite":"readonly");let an=Zt.store;return W&&(an=an.index(at.shift())),(yield Promise.all([an[Z](...at),de&&Zt.done]))[0]});return function(at){return Oe.apply(this,arguments)}}();return Be.set(ge,ae),ae}!function $e(ce){Te=ce(Te)}(ce=>({...ce,get:(ge,Z,W)=>se(ge,Z)||ce.get(ge,Z,W),has:(ge,Z)=>!!se(ge,Z)||ce.has(ge,Z)}))},5861:(ne,re,R)=>{"use strict";function c(M,ie,J,Y,ve,pe,be){try{var j=M[pe](be),B=j.value}catch(q){return void J(q)}j.done?ie(B):Promise.resolve(B).then(Y,ve)}function F(M){return function(){var ie=this,J=arguments;return new Promise(function(Y,ve){var pe=M.apply(ie,J);function be(B){c(pe,Y,ve,be,j,"next",B)}function j(B){c(pe,Y,ve,be,j,"throw",B)}be(void 0)})}}R.d(re,{Z:()=>F})}},ne=>{ne(ne.s=7556)}]);